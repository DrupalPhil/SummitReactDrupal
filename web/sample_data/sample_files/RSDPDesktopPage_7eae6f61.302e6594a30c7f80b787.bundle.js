(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"+0c1":function(e,t,a){"use strict";e.exports=[a("oGGe"),a("psrW"),a("DZgh"),a("QpLu"),a("WSab"),a("N6kd"),a("4Hzd"),a("765W"),a("axHE"),a("ejoL"),a("MMnz"),a("u8eL"),a("w2OM"),a("UR61"),a("EjNz"),a("lVH2"),a("G1+Z"),a("sSbP"),a("kYNJ"),a("aEv5"),a("9MsF"),a("9vr0"),a("pt6V"),a("1W7S"),a("jJ8P"),a("izPj"),a("EVUh"),a("9r8j"),a("7AK6"),a("m2/A"),a("mfpq")]},"+1nJ":function(e,t,a){},"+7Pm":function(e,t,a){},"+Bto":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPosition=o,t.default=t.BELOW=t.ABOVE=void 0;var n="ABOVE_CB";t.ABOVE=n;var r="BELOW_CB";t.BELOW=r;var i=o;function o(e){var t=e.deviceConfig,a=e.propertyIsActivish,i=e.propertyIsClaimed;return t===g_deviceConfiguration.PHONE?r:a?r:i?r:n}t.default=i},"+ahH":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.getListingMerchCTA=function(e,t,a){if(e)return{ctaText:"Get a Cash Offer",riftTarget:"redfin_now_button"};if(a)return{ctaText:"Get a Cash Offer",riftTarget:"opendoor_button"};if(t)return{ctaText:"Request Consultation",riftTarget:"partner_cta_button"};return{ctaText:"Talk to Redfin About Selling",riftTarget:"brokerage_cta_button"}},t.showListingFeeMerch=void 0;var r=n(a("YguA"));t.showListingFeeMerch=function(e,t,a){return!i(t)&&(e.experienceType?e.experienceType===r.default.id:!a&&!(!e||!e.agentRequestAgent))};var i=function(e){return e&&e.shouldShowMoment}},"/1q3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={DialogView:{SPLASH_SCREEN:"SPLASH_SCREEN",HOW_ELSE_HELP:"HOW_ELSE_HELP",WHAT_DIDNT_WORK:"WHAT_DIDNT_WORK",SORRY_TO_HEAR:"SORRY_TO_HEAR"},HOW_ELSE_HELP_SOMETHING_ELSE_OPTION_NAME:"somethingElse"};t.default=n,e.exports=t.default},"/BzH":function(e,t,a){"use strict";var n=a("R16N");e.exports=n.createActions(["redirectToOfferWizard","unmountStore"])},"/yzG":function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("K4DB")),s=r(a("+IV6")),l=r(a("T1e2")),u=r(a("NToG")),c=r(a("eef+")),d=n(a("mXGw")),f=r(a("W0B4")),p=r(a("ma35")),m=r(a("mhup")),h=r(a("JX1m")),g=r(a("8Jek")),_=r(a("luvc")),v=r(a("nbo3")),y=r(a("94Bj")),S=r(a("LDFp")),E=r(a("I9R/")),I=r(a("RniE"));S.default.ensure(I.default);var T={subscribed:{default:""},recentlySubscribed:{default:""},notSubscribed:{default:E.default}},C=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={hoveringButton:!1},a._epostcardMouseEnter=a._epostcardMouseEnter.bind((0,l.default)(a)),a._epostcardMouseExit=a._epostcardMouseExit.bind((0,l.default)(a)),a._epostcardOnClick=a._epostcardOnClick.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"displayName",get:function(){return"ClaimHomeButton"}},{key:"propTypes",get:function(){return{isClaimedHome:f.default.bool.isRequired,source:f.default.number.isRequired,subscribeButtonType:f.default.string,allowUnclaim:f.default.bool,onClick:f.default.func,rfTestId:f.default.string,label:f.default.shape({claimed:f.default.string,claimedRecently:f.default.string,claimedHovered:f.default.string,unclaimed:f.default.string,unclaimedHovered:f.default.string}),showIcon:f.default.bool,overrideToFullWidth:f.default.bool,minimalClasses:f.default.bool,linkStyle:f.default.bool,registrationReason:f.default.oneOfType([f.default.string,f.default.object]),navigateToHomeDashboardWhenClaimed:f.default.bool,navigateToHomeDashboardOnClick:f.default.bool,navigateOnClick:f.default.bool,navigateToSellerConsultForm:f.default.bool,suppressPostJoinSections:f.default.bool,sellerConsultFormData:f.default.shape({propertyId:f.default.number,listingId:f.default.number}),riftSection:f.default.string}}},{key:"defaultProps",get:function(){return{subscribeButtonType:"tertiary",allowUnclaim:!0,label:{claimed:"View Owner Dashboard",claimedRecently:"View Owner Dashboard",claimedHovered:"View Owner Dashboard",unclaimed:"I'm the Owner",unclaimedHovered:"I'm the Owner"},showIcon:!1,overrideToFullWidth:!1,minimalClasses:!1,navigateToHomeDashboardWhenClaimed:!0,navigateToSellerConsultForm:!1,linkStyle:!1,registrationReason:g_registrationReason.CLAIM_HOME}}}]),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.isClaimedHome&&e.isClaimedHome!==this.props.isClaimedHome&&(this.state.recentlyChangedTimeout&&clearTimeout(this.state.recentlyChangedTimeout),this.setState({ePostcardStatusRecentlyChanged:!0,recentlyChangedTimeout:setTimeout(function(){this.setState({ePostcardStatusRecentlyChanged:!1})}.bind(this),1500)}))}},{key:"render",value:function(){var e,t=T.notSubscribed,a=(0,g.default)({claimHomeButton:!0,notSubscribed:!this.props.isClaimedHome,claimedRecently:this.state.ePostcardStatusRecentlyChanged&&this.props.isClaimedHome,claimedHovered:this.state.hoveringButton&&this.props.isClaimedHome,unclaimed:!this.props.isClaimedHome,claimed:this.props.isClaimedHome,"link-only":this.props.minimalClasses}),n=(0,g.default)({"full-width-button":this.props.overrideToFullWidth,v3:!this.props.minimalClasses,text:this.props.minimalClasses,unpadded:this.props.minimalClasses}),r="v3 "+(this.props.linkStyle?"text":this.props.subscribeButtonType);return this.props.isClaimedHome?(e=this.props.label.claimed,this.state.ePostcardStatusRecentlyChanged?(e=this.props.label.claimedRecently,t=T.recentlySubscribed):(e=this.state.hoveringButton?this.props.label.claimedHovered:this.props.label.claimed,t=T.subscribed)):(e=this.props.label.unclaimed,t=T.notSubscribed),d.default.createElement("div",{className:a,onMouseEnter:this._epostcardMouseEnter,onMouseLeave:this._epostcardMouseExit},d.default.createElement(p.default,{rfTestId:this.props.rfTestId,className:"".concat(n," ").concat(r),href:"#",name:"Subscribe",svgAsset:this.props.showIcon?t:null,onClick:this._epostcardOnClick,ariaLabel:e},e))}},{key:"_epostcardMouseEnter",value:function(){this.setState({hoveringButton:!0})}},{key:"_epostcardMouseExit",value:function(){this.setState({hoveringButton:!1})}},{key:"_epostcardOnClick",value:function(e){e.preventDefault();var t,a={sender:"avm",claim:!this.props.allowUnclaim||!this.props.isClaimedHome,epostcard:!this.props.isClaimedHome,claimHomeSource:this.props.source,claimHomePlatform:this._calculateClaimHomePlatform(),epostcardSubscribeSource:this.props.source,epostcardSubscribePlatform:this._calculateEpostcardSubscribePlatform(),registrationReason:this.props.registrationReason,suppressPostJoinSections:this.props.suppressPostJoinSections};if(this.props.onClick&&(t=this.props.onClick()),this.props.riftSection){var n=this.props.isClaimedHome?"owner_dashboard_button":"home_report_subscribe_button";v.default.trackClick(this.props.riftSection,n)}this.props.navigateToSellerConsultFormOnClick?h.default.navigateToSellerConsultForm(this.props.sellerConsultFormData):this.props.navigateToHomeDashboardWhenClaimed&&this.props.isClaimedHome?h.default.navigateToHomeDashboard({}):this.props.navigateToHomeDashboardOnClick?h.default.setEpostcardSettingsWithNavigation(a,t):this.props.navigateOnClick?("Variant"===y.default.getVariant(I.default)&&(a.inquirySource=g_inquirySource.OWNER_ONBOARDING_MODAL_FROM_HOME_CLAIM,a.navigationCallback=m.default.show),h.default.setEpostcardSettingsWithNavigation(a,t)):h.default.setEpostcardSettings(a,t)}},{key:"_calculateClaimHomePlatform",value:function(){return(0,_.default)("screen-size")<_.default.screenSizes.MEDIUM?g_claimHomePlatform.MOBILE_WEB:g_claimHomePlatform.WEB}},{key:"_calculateEpostcardSubscribePlatform",value:function(){return(0,_.default)("screen-size")<_.default.screenSizes.MEDIUM?g_epostcardSubscribePlatform.MOBILE_WEB:g_epostcardSubscribePlatform.WEB}}]),t}(d.Component);t.default=C,e.exports=t.default},"0js8":function(e,t,a){"use strict";(function(t){t.__corvairSite="customer-pages",e.exports=a("An6y")({environment:[a("7VXY"),a("KNI0"),a("F7jw")],middleware:a("+0c1"),routes:{LoginPage:{path:"(/corv)?/login-v2",page:function(t){return a("cXUB")(e.exports.loaders[t])}},DeleteAccountPage:{path:"(/corv)?/account-deleted",page:function(t){return a("cXUB")(e.exports.loaders[t])}},RegionalAgentDirectoryPage:{path:["(/corv|/r3s)?/:regionType([a-z]+)/:regionId(\\d+)/(.*/?)real-estate/agents","(/corv)?/:stateOrProvince(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokenStateOrProvinceSuffix(/.*)?/real-estate/agents"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},NotesPhotosArchivePage:{path:"(/corv)?/myredfin/notes-photos-archive",page:function(t){return a("cXUB")(e.exports.loaders[t])}},FavoritesPage:{path:["(/corv)?/myredfin/favorites(/mobile)?"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},MyRedfinPage:{path:["(/corv)?/myredfin(/mobile)?"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},MyRedfinReviewsPage:{path:["(/corv)?/myredfin/reviewsV2"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},SavedSearchesPage:{path:["(/corv)?/myredfin/saved-searches"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AccountSettingsPage:{path:"(/corv)?/myredfin/settings",page:function(t){return a("cXUB")(e.exports.loaders[t])}},EmailSettingsPage:{path:"(/corv)?/myredfin/alerts-settings",page:function(t){return a("cXUB")(e.exports.loaders[t])}},IdVerificationPage:{path:"(/corv)?/myredfin/verify-id",page:function(t){return a("cXUB")(e.exports.loaders[t])}},VerificationPage:{path:["(/corv)?/homeowner-verification/verify-email/:propertyId(\\d+)/:listingId(\\d+)/:pageSource(\\d+)/:destination([a-z0-9-_]+)","(/corv)?/homeowner-verification/verify-email/:propertyId(\\d+)/:pageSource(\\d+)/:destination([a-z0-9-_]+)","(/corv)?/homeowner-verification/verify-email/:propertyId(\\d+)/:pageSource(\\d+)","(/corv)?/homeowner-verification/verify-email/:propertyId(\\d+)","(/corv)?/homeowner-verification/:propertyId(\\d+)/:listingId(\\d+)/:pageSource(\\d+)/:destination([a-z0-9-_]+)","(/corv)?/homeowner-verification/:propertyId(\\d+)/:pageSource(\\d+)/:destination([a-z0-9-_]+)","(/corv)?/homeowner-verification/:propertyId(\\d+)/:pageSource(\\d+)","(/corv)?/homeowner-verification/:propertyId(\\d+)","(/corv)?/homeowner-verification"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},EditFactsPage:{path:["(/corv)?/edit-facts/:propertyId(\\d+)/:pageSource(\\d+)","(/corv)?/edit-facts/:propertyId(\\d+)","(/corv)?/edit-facts"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerPhotoManagerPage:{path:["(/corv)?/photo-manager/:propertyId(\\d+)/:listingId(\\d+)/:pageSource(\\d+)","(/corv)?/photo-manager/:propertyId(\\d+)/:pageSource(\\d+)","(/corv)?/photo-manager/:propertyId(\\d+)","(/corv)?/photo-manager"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},EditFactsConfirmationPage:{path:["(/corv)?/edit-facts/:propertyId(\\d+)/confirmation"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerPhotoManagerConfirmationPage:{path:["(/corv)?/photo-manager/:propertyId(\\d+)/confirmation"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},NewHomesForYouPage:{path:["(/corv)?/feed"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},ReviewHomeFactsPage:{path:"(/corv)?/owner-estimate/fact-check/:propertyId(\\d+)",page:function(t){return a("cXUB")(e.exports.loaders[t])}},CreateEstimatePage:{path:"(/corv)?/owner-estimate/create/:propertyId(\\d+)",page:function(t){return a("cXUB")(e.exports.loaders[t])}},AvmLandingPage:{path:["/corv/what-is-my-home-worth","/what-is-my-home-worth","/about/estimate-home-value"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AvmAccuracyPage:{path:["/corv/redfin-estimate","/redfin-estimate"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},NerdWalletLandingPage:{path:["/corv/nerdwallet","/nerdwallet"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RentalEstimateLandingPage:{path:"(/corv)?/rental-estimate",page:function(t){return a("cXUB")(e.exports.loaders[t])}},PasswordResetPage:{path:"/corv/reset-password",page:function(t){return a("cXUB")(e.exports.loaders[t])}},PasswordChangePage:{path:["/corv/change-password","/change-password"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},TrainingSchoolsPage:{path:"/corv/training/schools",page:function(t){return a("cXUB")(e.exports.loaders[t])}},TrainingTodosPage:{path:"/corv/training/todos",page:function(t){return a("cXUB")(e.exports.loaders[t])}},TrainingHomesPage:{path:"/corv/training/homes",page:function(t){return a("cXUB")(e.exports.loaders[t])}},ContactUsPage:{path:["/about/contact-us","/corv/about/contact-us"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},WomenAtWork2018:{path:"(/corv)?/women-at-work2018",page:function(t){return a("cXUB")(e.exports.loaders[t])}},WhyRedfinMission:{path:["/why-redfin","/corv/why-redfin","/resources/welcome-to-redfin"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},WhyRedfinAgents:{path:["/real-estate-agents","/corv/real-estate-agents"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},PartnerAgents:{path:["/real-estate-agents/redfin-partner-agents","/corv/real-estate-agents/redfin-partner-agents"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},WhyRedfinBuy:{path:["/why-buy","/corv/why-buy"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},WhyRedfinSell:{path:["/why-sell","/corv/why-sell"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},WhyRedfinSave:{path:["/why-redfin-how-you-save","/corv/why-redfin-how-you-save"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},ClassesAndEvents:{path:["/buy-a-home/classes-and-events","/corv/buy-a-home/classes-and-events","/sell-a-home/classes-and-events","/corv/sell-a-home/classes-and-events"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},Concierge:{path:["/why-sell/concierge","/corv/why-sell/concierge"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},HowWalkScoreWorks:{path:["/how-walk-score-works","/corv/how-walk-score-works"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},CmaEdit:{path:"(/corv)?/cma/:cmaId(\\d+)/edit",page:function(t){return a("cXUB")(e.exports.loaders[t])},owner:"Listings Launchpad"},OfferDeadline:{path:"(/corv)?/offer-deadline",page:function(t){return a("cXUB")(e.exports.loaders[t])},owner:"Listings Marketplace",bouncers:"OFFER_DEADLINE_NON_REDFIN"},ComingSoonLandingPage:{path:"(/corv)?/coming-soon",page:function(t){return a("cXUB")(e.exports.loaders[t])},owner:"Listings Marketplace",bouncers:"COMING_SOON_LANDING_PAGE"},FastFormsPreviewPage:{path:"(/corv)?/fastForms/preview",page:function(t){return a("cXUB")(e.exports.loaders[t])}},FastFormsDefaultRendererPage:{path:"(/corv)?/fastForms/:fastFormId",page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinDirectOfferWizard:{path:"(/corv)?/direct-offer/:directOfferId(\\d+)",page:function(t){return a("cXUB")(e.exports.loaders[t])},owner:"Listings Marketplace",bouncers:"REDFIN_DIRECT_OFFER_WIZARD"},RedfinDirectSideBySide:{path:"(/corv)?/buy-a-home/two-ways",page:function(t){return a("cXUB")(e.exports.loaders[t])},owner:"Listings Marketplace",bouncers:"REDFIN_DIRECT"},RedfinDirectStartAnOffer:{path:"(/corv)?/buy-a-home/start-direct-offer",page:function(t){return a("cXUB")(e.exports.loaders[t])},owner:"Listings Marketplace",bouncers:"REDFIN_DIRECT_OFFER_EXPERIENCE_WAVE_1"},RedfinDirectLandingPage:{path:["(/corv)?/direct/:listingId(\\d+)","(/corv)?/direct"],page:function(t){return a("cXUB")(e.exports.loaders[t])},owner:"Listings Marketplace",bouncers:"REDFIN_DIRECT"},RedfinDirectWelcomePage:{path:"(/corv)?/direct-offer/welcome",page:function(t){return a("cXUB")(e.exports.loaders[t])},owner:"Listings Marketplace",bouncers:"DIRECT_OFFERS_DELAYED_REGISTRATION"},DirectAccess:{path:"(/corv)?/tours/direct-access/checkout/:stageSuffix(.+)",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OfferWorkspace:{path:["(/corv)?/myredfin/offers/workspace/:dealId(\\d+)","(/corv)?/myredfin/offers/workspace/copy/:dealIdToCopy(\\d+)","(/corv)?/myredfin/offers/workspace/start/:customerPersonId(\\d+)"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},OfferWorkspaceLibrarianTools:{path:["(/corv)?/myredfin/offers/workspace/librarian"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},FastOffersTemplates:{path:["(/corv)?/myredfin/offers/workspace/templates/:templateId(\\d+)","(/corv)?/myredfin/offers/workspace/templates/start"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},FastOffersWelcome:{path:["(/corv)?/myredfin/offers/workspace/welcome/:welcomeDealId(\\d+)","(/corv)?/myredfin/offers/workspace/post-mutual/:packetId(\\d+)"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},StartAnOffer:{path:["(corv)?/buy-a-home/start-an-offer"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DiversityLP:{path:["/diversity","/corv/diversity","/about/jobs/diversity","/careers/diversity"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinValues:{path:["/corv/redfin-values","/redfin-values","/about/jobs/redfin-values","/careers/redfin-values"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedirectToDepartments:{path:["/about/jobs/hq","/about/jobs/description(.*/?)","/careers/hq","/careers/description(.*/?)"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},Departments:{path:["/about/jobs/departments","/corv/about/jobs/departments","/careers/departments","/corv/careers/departments"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AssociateAgentJobDescriptionPage:{path:["/about/jobs/associate-agent","/corv/about/jobs/associate-agent","/careers/associate-agent","/corv/careers/associate-agent"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsAccountingFinance:{path:["/about/jobs/departments/accounting-finance","/corv/about/jobs/departments/accounting-finance","/careers/departments/accounting-finance","/corv/careers/departments/accounting-finance"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsAnalytics:{path:["/about/jobs/departments/analytics","/corv/about/jobs/departments/analytics","/careers/departments/analytics","/corv/careers/departments/analytics"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsCommunications:{path:["/about/jobs/departments/communications","/corv/about/jobs/departments/communications","/careers/departments/communications","/corv/careers/departments/communications"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsDesignContent:{path:["/about/jobs/departments/design","/corv/about/jobs/departments/design","/careers/departments/design","/corv/careers/departments/design"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsEarlyCareer:{path:["/about/jobs/departments/early-career","/about/jobs/early-career","/corv/about/jobs/departments/early-career","/careers/departments/early-career","/careers/early-career","/corv/careers/departments/early-career"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsEngineering:{path:["/about/jobs/departments/engineering","/corv/about/jobs/departments/engineering","/careers/departments/engineering"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsHomeServices:{path:["/about/jobs/departments/home-services","/corv/about/jobs/departments/home-services","/careers/departments/home-services"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsPeopleOperations:{path:["/about/jobs/departments/people-operations","/corv/about/jobs/departments/people-operations","/careers/departments/people-operations"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsInformationTechnology:{path:["/about/jobs/departments/information-technology","/corv/about/jobs/departments/information-technology","/careers/departments/information-technology"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsLegal:{path:["/about/jobs/departments/legal","/corv/about/jobs/departments/legal","/careers/departments/legal"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsMarketing:{path:["/about/jobs/departments/marketing","/corv/about/jobs/departments/marketing","/careers/departments/marketing"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsOperationalExcellence:{path:["/about/jobs/departments/operational-excellence","/corv/about/jobs/departments/operational-excellence","/careers/departments/operational-excellence"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsRealEstate:{path:["/about/jobs/departments/real-estate","/about/jobs/reops","/corv/about/jobs/departments/real-estate","/careers/real-estate","/careers/reops"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},DepartmentsRealEstatePartnerships:{path:["/about/jobs/departments/real-estate-partnerships","/corv/about/jobs/departments/real-estate-partnerships","/careers/departments/real-estate-partnerships"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsMortgage:{path:["/about/jobs/departments/mortgage","/corv/about/jobs/departments/mortgage","/careers/departments/mortgage"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},DepartmentsOfficeDevelopment:{path:["/about/jobs/departments/office-development","/corv/about/jobs/departments/office-development","/careers/departments/office-development"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinLife:{path:["/about/jobs/redfin-life","/corv/about/jobs/redfin-life","/careers/redfin-life"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},NewJobsPage:{path:["/about/jobs","/corv/about/jobs","/careers"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},AssociateAgents:{path:["/about/jobs/reops/associate-agents","/about/jobs/departments/real-estate/associate-agents","/about/jobs/real-estate/associate-agents","/corv/about/jobs/real-estate/associate-agents","/careers/reops/associate-agents","/careers/departments/real-estate/associate-agents","/careers/real-estate/associate-agents"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},ExperiencedAgents:{path:["/about/jobs/real-estate/experienced-agents","/corv/about/jobs/real-estate/experienced-agents","/careers/real-estate/agents"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},AgentSupport:{path:["/about/jobs/real-estate/agent-support","/careers/real-estate/support"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},Panache:{path:["/panache","/corv/panache"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},KennedyCommons:{path:["/kennedycommons","/corv/kennedycommons"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},LurayCommons:{path:["/luraycommons","/corv/luraycommons"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinMortgageLP:{path:["/mortgage/comingsoon","/redfinmortgage/comingsoon","/corv/redfinmortgage/comingsoon"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinMortgageTerms:{path:["/mortgage/terms-of-use","/corv/mortgage/terms-of-use"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinMortgagePrivacyPolicy:{path:["/mortgage/privacy-policy","/corv/mortgage/privacy-policy"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinMortgageConsumerPrivacy:{path:["/mortgage/consumer-privacy-notice","/corv/mortgage/consumer-privacy-notice"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},StrategySessionLP:{path:["/corv/meet-redfin-agent","/meet-redfin-agent"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},PropertyTypesLP:{path:"/resources/difference-between-building-types",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeAffordabilityCalculator:{path:"/home-affordability-calculator",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},OpenBookLandingPage:{path:"(/corv)?/openbook",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},OpenBookSiloPage:{path:["(/corv)?/:siloUrlId([a-z-]+)-a-home/openbook(/)?","(/corv)?/:siloUrlId([a-z-]+)-a-home/openbook/:marketUrlId([a-z-]+)"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},OpenBookCategoryPage:{path:"(/corv)?/:siloUrlId([a-z-]+)-a-home/openbook/:marketUrlId([a-z-]+)/:categoryUrlId([a-z-]+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},OpenBookProfilePage:{path:"(/corv)?/openbook/:categoryUrlId([a-z-]+)/([a-z0-9-]+-)?sp:serviceProviderId([0-9]+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},NegotiateClosingCosts:{path:"/resources/negotiate-closing-costs",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeSaleCalculator:{path:["/corv/home-sale-calc","/sell-a-home/home-sale-calculator","/sell-a-home/home-sale-proceeds-calculator"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},SEMAvmLandingPageTest:{path:["/corv/test-redfin-estimate","/sem/what-is-my-home-worth"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},MobileAppLP:{path:["/corv/mobile","/mobile"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},PartnerPage:{path:["/corv/partner","/partner","/partners","/about/redfin-partner-agents-application"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},AgentProfile:{path:["(/corv)?/real-estate-agents/:slug([a-z0-9-_]+)"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AgentAllReviews:{path:["(/corv)?/real-estate-agents/:slug([a-z0-9-_]+)/reviews"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AgentSingleReview:{path:["(/corv)?/real-estate-agents/:slug([a-z0-9-_]+)/reviews/:surveyResponseId([0-9]+)"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AgentServiceRegion:{path:["(/corv)?/real-estate-agents/:marketSlug([a-z0-9-_]+)/:serviceRegionSlug([a-z0-9-_]+)"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AgentPhotoUploader:{path:["/corv/admin/agents/photo-uploader","/admin/agents/photo-uploader"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},SurveyPage:{path:["/corv/survey-response","/surveys/response"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},SurveyExpiredPage:{path:["/corv/survey-expired","/surveys/expired"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},HomePricesLandingPage:{path:"/city/:regionId/*/home-prices",page:function(t){return a("cXUB")(e.exports.loaders[t])}},SellHomeInCityLP:{path:"/city/:regionId/*/sell-my-home",page:function(t){return a("cXUB")(e.exports.loaders[t])}},CommissionInRegionLP:{path:"/city/:regionId/*/real-estate-listing-fee",page:function(t){return a("cXUB")(e.exports.loaders[t])}},FeaturedListingPage:{path:["/corv/featured-listing","/sem/featured-listing"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},SponsorshipLP:{path:["/resources/sponsorships"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},WhyBuyPaidLP:{path:["/sem/why-buy","/corv/why-buy-mktg"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},WhySellPaidLP:{path:["/sem/listing-fee","/corv/sem/listing-fee"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])}}},BobbyBerkLP:{path:"/bobby-berk",method:"get",page:function(t){return a("cXUB")(e.exports.loaders[t])}},A11yGoodExamplePage:{path:"/corv/a11y-example",method:"get",page:function(t){return a("cXUB")(e.exports.loaders[t])}},TemplateMarkdownPage:{path:"/corv/markdown/:page([a-z0-9-]+)",page:function(t){return a("cXUB")(e.exports.loaders[t])}},ResourcesBasePage:{path:["/resources/:page(buy-and-sell-with-redfin-to-save-even-more)","/resources/:page(how-to-buy-a-fixer-upper-203k-loan)","/resources/:page(how-to-sell-a-fixer-upper)","/resources/:page(how-to-invest-in-real-estate)","/resources/:page(how-do-construction-loans-work)","/resources/:page(how-to-buy-a-new-construction-home)","/resources/:page(how-much-are-closing-costs)","/resources/:page(how-to-decide-to-rent-or-sell)","/resources/:page(rental-property-investment)","/resources/:page(sell-house-or-rent)","/resources/:page(buying-and-selling-a-house-at-the-same-time)","/resources/:page(buy-and-sell)","/resources/:page(backup-offer)","/resources/:page(how-to-win-a-bidding-war)","/resources/:page(calculate-debt-to-income-ratio)","/resources/:page(how-to-buy-foreclosed-bank-owned-homes)","/resources/:page(rent-vs-own)","/resources/:page(open-house-mistakes)","/resources/:page(open-house-checklist-for-sellers)","/resources/:page(buying-a-short-sale)","/resources/:page(tips-for-buying-a-short-sale)","/resources/:page(resale-certificate)","/resources/:page(how-to-buy-a-condo)","/resources/:page(death-in-house-disclosure)","/resources/:page(how-to-sell-a-historical-home)","/resources/:page(buyers-market-sellers-market)","/resources/:page(how-much-does-it-cost-to-buy-a-house)","/resources/:page(buy-a-house-not-us-citizen)","/resources/:page(how-long-does-it-take-to-buy-a-house)","/resources/:page(median-sale-price-vs-average-sale-price)","/resources/:page(prepare-your-home-for-winter)","/resources/:page(property-survey)","/resources/:page(questions-to-ask-your-real-estate-agent-during-a-house-tour)","/resources/:page(renovate-kitchen-before-selling)","/resources/:page(turn-key)","/resources/:page(under-contract)","/resources/:page(what-does-active-status-mean-in-real-estate-listings)","/resources/:page(what-is-a-land-lease-fee)","/resources/:page(what-is-a-planned-unit-development)","/resources/:page(what-is-contingent-vs-pending)","/resources/:page(wrong-square-footage)","/resources/:page(should-you-repair-your-roof-or-sell-as-is)","/resources/:page(attend-open-house-without-real-estate-agent)","/resources/:page(how-to-buy-a-tiny-house)","/resources/:page(how-to-sell-your-home-without-an-agent-fsbo)","/resources/:page(how-to-relocate-to-another-state)","/resources/:page(how-to-choose-a-real-estate-agent-top-15-questions)","/resources/:page(real-estate-agent-vs-broker)","/resources/:page(how-to-sell-a-condo)","/resources/:page(best-day-to-list-your-home)","/resources/:page(first-time-home-buyer-fha-loans)","/resources/:page(tax-implications-of-selling-a-house)","/resources/:page(how-to-calculate-home-equity)","/resources/:page(scholarship)","/resources/:page(how-to-prepare-house-to-sell-checklist)","/resources/:page(sellers-agent)","/resources/:page(how-much-is-real-estate-agent-commission)","/resources/:page(how-much-is-real-estate-agent-commission-buyer-seller)","/resources/:page(how-to-contest-a-low-home-appraisal)","/resources/:page(welcome)","/resources/:page(how-to-buy-a-house)","/resources/:page(how-to-buy-a-home)","/about/:page(listing-fee)","/about/:page(one-percent-listing-fee)","/about/:page(chicago-listing-fee)","/resources/:page(how-much-to-sell-house-for)","/resources/:page(how-to-file-quit-claim-deed)","/resources/:page(how-to-buy-a-house-with-no-down-payment)","/resources/:page(what-are-property-taxes)","/resources/:page(how-to-buy-house-with-401k)","/resources/:page(how-to-make-a-down-payment)","/resources/:page(mortgage-surveys)","/resources/:page(how-to-increase-your-home-appraisal-value-now)","/resources/:page(how-to-increase-your-home-appraisal-value)","/resources/:page(scholarship-terms-and-conditions)","/resources/:page(how-to-buy-a-house-with-fha-loan)","/resources/:page(repairs-before-you-sell-house)","/resources/:page(10-real-estate-terms-to-know)","/resources/:page(should-you-buy-a-house-as-is)","/resources/:page(how-to-sell-a-house-online)","/resources/:page(documents-to-sell-a-house)","/resources/:page(how-to-sell-a-house)","/resources/:page(mortgage-pre-approval)","/resources/:page(how-to-recover-after-losing-a-bidding-war)","/resources/:page(how-to-sell-in-a-buyers-market)","/resources/:page(refinancing-mortgage)","/resources/:page(what-is-homeowners-insurance)","/resources/:page(how-to-create-curb-appeal)","/resources/:page(10-real-estate-terms-to-know)","/resources/:page(how-to-buy-a-house-with-no-down-payment)","/:page(down-payment)","/:page(down-payment/assistance-programs)","/:page(down-payment/first-time-home-buyer)","/:page(down-payment/ny)","/:page(down-payment/pa)","/resources/:page(home-equity-loan)","/resources/:page(how-to-buy-a-vacation-home)","/resources/:page(mortgage-interest-deductions-for-buying)","/resources/:page(real-estate-auctions)","/resources/:page(what-is-a-jumbo-loan)","/resources/:page(how-to-list-house-mls)","/resources/:page(20-percent-down-payment)","/resources/:page(boostup-partner)","/resources/:page(mashvisor-partner)","/resources/:page(mistakes-to-avoid-when-selling)","/resources/:page(repair-roof-before-selling)","/resources/:page(selling-a-condo)","/resources/:page(how-to-save-your-down-payment-to-buy-house)","/resources/:page(private-mortgage-insurance)","/:page(buy-a-home/short-sales)","/resources/:page(selling-a-luxury-home)","/resources/:page(what-is-title-insurance)","/resources/:page(when-interest-rates-rise)","/resources/:page(relocation)","/resources/:page(should-you-work-with-a-buyers-agent)","/resources/:page(how-the-escrow-process-works)","/resources/:page(how-to-stage-a-home)"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},HomeBuyingGuide:{path:"(/corv)?/home-buying-guide/:page([a-z0-9-]+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeBuyingGuideHub:{path:"(/corv)?/home-buying-guide",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeSellingGuide:{path:"(/corv)?/home-selling-guide/:page([a-z0-9-]+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeSellingGuideHub:{path:"(/corv)?/home-selling-guide",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RealEstateGlossary:{path:"(/corv)?/real-estate-glossary",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RealEstateGlossaryDefinition:{path:"(/corv)?/definition/:term([a-z0-9-]+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeDetails:{path:["(/corv)?/:stateCode([a-zA-Z][a-zA-Z]|Unknown)/:middlePart(.*)?/home/:propertyId(\\d+)","(/corv)?/:stateCode([a-zA-Z][a-zA-Z]|Unknown)/:middlePart(.*)?/home/:propertyId(\\d+)/:mlsId(.*)"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},amp:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeValuesPage:{path:["/:regionType(city|county)/:tableId/:state/:place/housing-market","/:regionType(neighborhood)/:tableId/:state/:place/:neighborhood/housing-market","/:regionType(zipcode)/:tableId/housing-market","/:regionType(city|county)/:tableId/:state/:place/home-values","/:regionType(neighborhood)/:tableId/:state/:place/:neighborhood/home-values","/:regionType(zipcode)/:tableId/home-values"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},tablet:function(t){return a("cXUB")(e.exports.loaders[t])},phone:function(t){return a("cXUB")(e.exports.loaders[t])}}},NationalHousingMarketPage:{path:["(/corv)?/:countryCode([a-zA-Z][a-zA-Z])-housing-market"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])}}},TopNeighborhoodsPage:{path:["/city/:tableId/:state/:place/most-:top10PageType(walkable|bikeable|transit-friendly)-neighborhoods"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},tablet:function(t){return a("cXUB")(e.exports.loaders[t])},phone:function(t){return a("cXUB")(e.exports.loaders[t])}}},StatePage:{path:["/:regionType(state)/:tableId/:mapPageType/:filterParam/:page(page-):pageNumber","/:regionType(state)/:tableId/:mapPageType/:page(page-):pageNumber","/:regionType(state)/:tableId/:mapPageType/:filterParam","/:regionType(state)/:tableId/:page(page-):pageNumber","/:regionType(state)/:tableId/:mapPageType","/:regionType(state)/:tableId"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},tablet:function(t){return a("cXUB")(e.exports.loaders[t])},phone:function(t){return a("cXUB")(e.exports.loaders[t])}}},TopListingsPage:{path:["/:regionType(city)/:tableId/:state/:place/most-:top10PageType(expensive|affordable|popular)-homes"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},tablet:function(t){return a("cXUB")(e.exports.loaders[t])},phone:function(t){return a("cXUB")(e.exports.loaders[t])}}},SearchPage:{path:["/:stateOrProvince(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)?/filter/:filterParam/:page(page-):pageNumber","/:stateOrProvince(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)?/filter/:filterParam","/:stateOrProvince(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)?/:page(page-):pageNumber","/:stateOrProvince(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)?","/:regionType(city|county)/:tableId/:state/:place/:mapPageType/:filterParam/:page(page-):pageNumber","/:regionType(city|county)/:tableId/:state/:place/:mapPageType/:page(page-):pageNumber","/:regionType(city|county)/:tableId/:state/:place/:mapPageType/:filterParam","/:regionType(city|county)/:tableId/:state/:place/:page(page-):pageNumber","/:regionType(city|county)/:tableId/:state/:place/:mapPageType","/:regionType(city|county)/:tableId/:state/:place","/:regionType(city|county)/:tableId","/:regionType(neighborhood)/:tableId/:state/:place/:neighborhood/:mapPageType/:filterParam/:page(page-):pageNumber","/:regionType(neighborhood)/:tableId/:state/:place/:neighborhood/:mapPageType/:page(page-):pageNumber","/:regionType(neighborhood)/:tableId/:state/:place/:neighborhood/:mapPageType/:filterParam","/:regionType(neighborhood)/:tableId/:state/:place/:neighborhood/:page(page-):pageNumber","/:regionType(neighborhood)/:tableId/:state/:place/:neighborhood/:mapPageType","/:regionType(neighborhood)/:tableId/:state/:place/:neighborhood","/:regionType(neighborhood)/:tableId","/:regionType(zipcode)/:tableId/:mapPageType/:filterParam/:page(page-):pageNumber","/:regionType(zipcode)/:tableId/:mapPageType/:page(page-):pageNumber","/:regionType(zipcode)/:tableId/:mapPageType/:filterParam","/:regionType(zipcode)/:tableId/:page(page-):pageNumber","/:regionType(zipcode)/:tableId/:mapPageType","/:regionType(zipcode)/:tableId","/:regionType(state)/:tableId/:mapPageType/:filterParam/:page(page-):pageNumber","/:regionType(state)/:tableId/:mapPageType/:page(page-):pageNumber","/:regionType(state)/:tableId/:mapPageType/:filterParam","/:regionType(state)/:tableId/:page(page-):pageNumber","/:regionType(state)/:tableId/:mapPageType","/:regionType(state)/:tableId","/:regionType(minorcivildivision)/:tableId/:state/:mcd/:mapPageType/:filterParam/:page(page-):pageNumber","/:regionType(minorcivildivision)/:tableId/:state/:mcd/:mapPageType/:page(page-):pageNumber","/:regionType(minorcivildivision)/:tableId/:state/:mcd/:mapPageType/:filterParam","/:regionType(minorcivildivision)/:tableId/:state/:mcd/:page(page-):pageNumber","/:regionType(minorcivildivision)/:tableId/:state/:mcd/:mapPageType","/:regionType(minorcivildivision)/:tableId/:state/:mcd","/:regionType(school)/:tableId/:state/:place/:school/:mapPageType/:filterParam/:page(page-):pageNumber","/:regionType(school)/:tableId/:state/:place/:school/:mapPageType/:page(page-):pageNumber","/:regionType(school)/:tableId/:state/:place/:school/:mapPageType/:filterParam","/:regionType(school)/:tableId/:state/:place/:school/:page(page-):pageNumber","/:regionType(school)/:tableId/:state/:place/:school/:mapPageType","/:regionType(school)/:tableId/:state/:place/:school","/:regionType(school-district)/:tableId/:state/:school-district/:mapPageType/:filterParam/:page(page-):pageNumber","/:regionType(school-district)/:tableId/:state/:school-district/:mapPageType/:page(page-):pageNumber","/:regionType(school-district)/:tableId/:state/:school-district/:mapPageType/:filterParam","/:regionType(school-district)/:tableId/:state/:school-district/:page(page-):pageNumber","/:regionType(school-district)/:tableId/:state/:school-district/:mapPageType","/:regionType(school-district)/:tableId/:state/:school-district"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},tablet:function(t){return a("cXUB")(e.exports.loaders[t])},phone:function(t){return a("cXUB")(e.exports.loaders[t])}}},NearMePage:{path:["/:nearMeType(houses)-near-me","/:nearMeType(condos)-near-me","/:nearMeType(land)-near-me","/:nearMeType(open-houses)-near-me"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])}}},SitemapPage:{path:["/sitemap","/sitemap/:stateCode([a-zA-Z][a-zA-Z])/:zipCode(\\d+)/newest-homes","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county?(/unknown-buckets)/:page(page-):pageNumber","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county?(/unknown-buckets)/:firstIndex(\\d+)/:secondIndex(\\d+)","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county?(/unknown-buckets)/:firstIndex(\\d+)","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county?(/unknown-buckets)","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county/:city/:page(page-):pageNumber","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county/:city/:firstIndex(\\d+)/:secondIndex(\\d+)","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county/:city/:firstIndex(\\d+)","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county/:city","/sitemap/:tableId(\\d+)/:stateCode([a-zA-Z][a-zA-Z])/:county/:city/:neighborhood","/sitemap/:stateOrProvinceCode(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)(/unknown-buckets)/:firstIndex(\\d+)/:secondIndex(\\d+)","/sitemap/:stateOrProvinceCode(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)?/:firstIndex([a-zA-Z0-9])/:secondIndex(\\d+)","/sitemap/:stateOrProvinceCode(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)(/unknown-buckets)/:firstIndex(\\d+)","/sitemap/:stateOrProvinceCode(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)?/:firstIndex([a-zA-Z0-9])","/sitemap/:stateOrProvinceCode(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)(/unknown-buckets)","/sitemap/:stateOrProvinceCode(yt|nt|nu|bc|ab|sk|mb|on|qc|nl|pe|nb|ns):regionTokens(/.*)?","/sitemap/:stateCode([a-zA-Z][a-zA-Z])(/newest-homes)?","/sitemap/:stateCode([a-zA-Z][a-zA-Z])"],method:"get",page:function(t){return a("cXUB")(e.exports.loaders[t])}},AMPPubKey:{path:"(/corv)?/.well-known/amphtml/apikey.pub",method:"get",page:function(t){return a("cXUB")(e.exports.loaders[t])}},HomeDetailsDataEndpoint:{path:"/corv/api/home/details/proto/:endpoint",page:function(t){return a("cXUB")(e.exports.loaders[t])}},AMPAuthorizationEndpoint:{path:"(/corv)?/authorize/amp",method:"get",page:function(t){return a("cXUB")(e.exports.loaders[t])}},ADPDesktop:{path:"/corv/ADPDesktop",forwardFrom:"HomeDetails",page:function(t){return a("cXUB")(e.exports.loaders[t])}},ADPPhone:{path:"/corv/ADPPhone",forwardFrom:"HomeDetails",page:function(t){return a("cXUB")(e.exports.loaders[t])}},APDPDesktop:{path:"/corv/APDPDesktop",forwardFrom:"HomeDetails",page:function(t){return a("cXUB")(e.exports.loaders[t])}},APDPPhone:{path:"/corv/APDPPhone",forwardFrom:"HomeDetails",page:function(t){return a("cXUB")(e.exports.loaders[t])}},RSDPDesktop:{path:"/corv/RSDPDesktop",forwardFrom:"HomeDetails",page:function(t){return a("cXUB")(e.exports.loaders[t])}},RSDPPhone:{path:"/corv/RSDPPhone",forwardFrom:"HomeDetails",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OMDPDesktop:{path:"/corv/OMDPDesktop",forwardFrom:"HomeDetails",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OMDPPhone:{path:"/corv/OMDPPhone",forwardFrom:"HomeDetails",page:function(t){return a("cXUB")(e.exports.loaders[t])}},HomeDetailsAmpTestRSDPRedirectTest:{path:["(/corv)?/lizards-jar-volleyball-stamp-inductor-react-redirect-test*"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},amp:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeDetailsAmpTestRSDP:{path:["(/corv)?/lizards-jar-volleyball-stamp-inductor-react-sold*"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},amp:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeDetailsAmpTestOMDP:{path:["(/corv)?/lizards-jar-volleyball-stamp-inductor-react-property*"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},amp:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeDetailsAmpTestAPDP:{path:["(/corv)?/lizards-jar-volleyball-stamp-inductor-react-pending*"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},amp:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeDetailsAmpTestADPVOW:{path:["(/corv)?/lizards-jar-volleyball-stamp-inductor-react-access*"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},amp:function(t){return a("cXUB")(e.exports.loaders[t])}}},HomeDetailsAmpTestADP:{path:["(/corv)?/lizards-jar-volleyball-stamp-inductor-react*"],page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},amp:function(t){return a("cXUB")(e.exports.loaders[t])}}},AmpTestAnalyticsEndpointPage:{path:"(/corv)?/potato-rechargeable-screen/test/analytics",page:{default:function(t){return a("cXUB")(e.exports.loaders[t])}}},AmpHtmlValidatorEndpointPage:{path:"(/corv)?/amp-html-validator",page:{default:function(t){return a("cXUB")(e.exports.loaders[t])}}},CSPValidator:{path:"(/corv)?/csp-validate",page:{default:function(t){return a("cXUB")(e.exports.loaders[t])}}},Building:{path:"(/corv)?/:stateCode([a-zA-Z][a-zA-Z])/:city/:buildingName/building/:buildingId(\\d+)",page:{default:function(t){return a("cXUB")(e.exports.loaders[t])},tablet:function(t){return a("cXUB")(e.exports.loaders[t])},phone:function(t){return a("cXUB")(e.exports.loaders[t])}}},TourCheckout:{path:"(/corv)?/tours/checkout/:stageSuffix(.+)",page:function(t){return a("cXUB")(e.exports.loaders[t])}},TourDashboard:{path:"(/corv)?/myredfin/tours",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OpenHouseSchedule:{path:"(/corv)?/myredfin/open-houses",page:function(t){return a("cXUB")(e.exports.loaders[t])}},AscExplorer:{path:"/corv/dev/asc",page:function(t){return a("cXUB")(e.exports.loaders[t])}},RfnDisclaimer:{path:["/now/disclaimer","/corv/now/disclaimer"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RfnListingOpenDoorConfirmation:{path:"(/corv)?/opendoor-confirmation/details/:dealId(\\d+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RfnPhotos:{path:"(/corv)?/now/photos/:dealId(\\d+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RfnDealConfirmation:{path:"(/corv)?/now/deal-confirmation/:dealId(\\d+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RfnUnifiedSellerConfirmation:{path:"(/corv)?/home-selling-consult/details/:dealId(\\d+)",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RfnQuestionnaire:{path:["(/corv)?/now/questionnaire","(/corv)?/now/questionnaire/:section(.*/?)"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RfnOfferPresentation:{path:["(/corv)?/now/offer/:offerPresentationUuid([a-z0-9-]+)","(/corv)?/now/offer/:offerPresentationUuid([a-z0-9-]+)/:section(.*/?)"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},RfnLanding:{path:["(/corv)?/now","(/corv)?/now/home:stageSuffix(.*)"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},OpendoorCashOfferConfirmationPage:{path:"(/corv)?/opendoor-cash-offer",page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},OpendoorQuestionnaire:{path:["(/corv)?/opendoor/questionnaire/","(/corv)?/opendoor/questionnaire/:section(.*/?)"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},OpendoorIneligibility:{path:["(/corv)?/opendoor/ineligible"],page:{US:function(t){return a("cXUB")(e.exports.loaders[t])},CA:function(t){return a("cXUB")(e.exports.loaders[t])},default:function(t){return a("cXUB")(e.exports.loaders[t])}}},CustomerUiDocsApi:{path:"/corv/api/customer-ui-documentation",page:function(t){return a("cXUB")(e.exports.loaders[t])}},StandaloneExamplePage:{path:["(/corv)?/customer-ui/:component/:exampleId","(/corv)?/customer-ui/:category(form)/:component/:exampleId"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},CustomerUiSandboxPage:{path:["(/corv)?/customer-ui","(/corv)?/customer-ui/:category(merch|forms|homecards)","(/corv)?/customer-ui/:component"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},UISandbox:{path:"/corv/ui",page:function(t){return a("cXUB")(e.exports.loaders[t])}},UISandboxExampleForm:{path:"/corv/ui/form",page:function(t){return a("cXUB")(e.exports.loaders[t])}},GridSandbox:{path:"/corv/ui/grid",page:function(t){return a("cXUB")(e.exports.loaders[t])}},GraphsSandbox:{path:"/corv/ui/graphs",page:function(t){return a("cXUB")(e.exports.loaders[t])}},LayoutsSandbox:{path:"/corv/ui/layouts",page:function(t){return a("cXUB")(e.exports.loaders[t])}},FeatureDetectSandboxData:{path:"/corv/api/feature-detect",page:function(t){return a("cXUB")(e.exports.loaders[t])}},FeatureDetectSandbox:{path:"/corv/ui/feature-detect",page:function(t){return a("cXUB")(e.exports.loaders[t])}},UiData:{path:"(/corv)?/api/ui",page:function(t){return a("cXUB")(e.exports.loaders[t])}},Homepage:{path:["/","/corv/homepage","/verify-email","/corv/verify-email"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedPandaLandingPage:{path:"/ca-coming-soon",page:function(t){return a("cXUB")(e.exports.loaders[t])}},MerchResolvePlacementPage:{path:"/corv/api/merch/placement/:placementName",page:function(t){return a("cXUB")(e.exports.loaders[t])}},ViewMerchPlacementConfig:{path:"/corv/api/merch/view-placement/:placementName",page:function(t){return a("cXUB")(e.exports.loaders[t])}},HomeBuyingGuideHubRedesign:{path:"/guides/buy",page:function(t){return a("cXUB")(e.exports.loaders[t])}},HomeSellingGuideHubRedesign:{path:"/guides/sell",page:function(t){return a("cXUB")(e.exports.loaders[t])}},WhyChooseRedfinRedesign:{path:"/why-choose-redfin",page:function(t){return a("cXUB")(e.exports.loaders[t])}},WhyBuyWithRedfinRedesign:{path:"/why-buy-with-redfin",page:function(t){return a("cXUB")(e.exports.loaders[t])}},WhySellWithRedfinRedesign:{path:"/why-sell-with-redfin",page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinAgentsRedesign:{path:"/redfin-agents",page:function(t){return a("cXUB")(e.exports.loaders[t])}},MerchPage:{path:["/corv/api/merch/page/test_page_config","/corv/api/merch/page/ramp-sample-page","/disclaimer","/guides(.*)","/reports(.*)","/services(.*)","/how-much-house-can-i-afford","/mortgage-calculator"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},MortgageRatesPage:{path:"(/corv)?/mortgage-rates",page:function(t){return a("cXUB")(e.exports.loaders[t])}},DataQualityPage:{path:["/corv/about/data-quality-on-redfin","/about/data-quality-on-redfin","/about/data-quality-study"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},CustomerFacingDealRoom:{path:"(/corv)?/myredfin/deal-room/:dealId(\\d+)",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerDashboardPage:{path:"(/corv)?/myredfin/owner-dashboard/:claimedHomeId?",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerDashboardClaimedPage:{path:"/corv/OwnerDashboardClaimedPage",forwardFrom:"OwnerDashboardPage",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerDashboardSignedPage:{path:"/corv/OwnerDashboardSignedPage",forwardFrom:"OwnerDashboardPage",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerDashboardPreClaimedPage:{path:"/corv/OwnerDashboardPreClaimedPage",forwardFrom:"OwnerDashboardPage",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerDashboardDisambiguationPage:{path:"/corv/OwnerDashboardDisambiguationPage",forwardFrom:"OwnerDashboardPage",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerDashboardOnMarketPage:{path:"/corv/OwnerDashboardOnMarketPage",forwardFrom:"OwnerDashboardPage",page:function(t){return a("cXUB")(e.exports.loaders[t])}},OwnerDashboardPostMutualPage:{path:"/corv/OwnerDashboardPostMutualPage",forwardFrom:"OwnerDashboardPage",page:function(t){return a("cXUB")(e.exports.loaders[t])}},SellerConsultationConfirmationPage:{path:["(/corv)?/sell-a-home/seller-consultation/confirmation","(/corv)?/sell-a-home/seller-consult-form/confirmation"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},SellerConsultationPage:{path:"(/corv)?/sell-a-home/seller-consultation:stageSuffix(.*)",page:function(t){return a("cXUB")(e.exports.loaders[t])}},SellerConsultationFormPage:{path:"(/corv)?/sell-a-home/seller-consult-form:stageSuffix(.*)",page:function(t){return a("cXUB")(e.exports.loaders[t])}},RedfinVsRedfinNowPage:{path:"(/corv)?/sell-a-home/two-ways",page:function(t){return a("cXUB")(e.exports.loaders[t])}},SellerConsultationAddressPage:{path:"(/corv)?/sell-a-home/address",page:function(t){return a("cXUB")(e.exports.loaders[t])}},MyAgent:{path:"(/corv)?/myredfin/agent",page:function(t){return a("cXUB")(e.exports.loaders[t])}},UnsubscribeConfirmationPage:{path:["/corv/buy-a-home/partner-unsubscribe","/corv/buy-a-home/newsletter-unsubscribe","/buy-a-home/partner-unsubscribe","/buy-a-home/newsletter-unsubscribe"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},PrivacyPolicyPage:{path:["/about/privacy-policy","/corv/about/privacy-policy"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},TermsOfUsePage:{path:["/about/terms-of-use","/corv/about/terms-of-use"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AboutHotHomes:{path:["/about/hot-homes","/corv/about/hot-homes"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},CompeteScoreLP:{path:["/corv/how-compete-score-works","/how-compete-score-works"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},HowOwnerEstimateWorksLP:{path:["/corv/how-owner-estimate-works","/how-owner-estimate-works"],page:function(t){return a("cXUB")(e.exports.loaders[t])}},AmpRiftConfig:{path:"/corv/data/amp-rift-config",page:function(t){return a("cXUB")(e.exports.loaders[t])}},StrategySessionSchedule:{path:"(/corv)?/meet-agent/schedule",page:function(t){return a("cXUB")(e.exports.loaders[t])}},MyRedfinOffersPage:{path:"(/corv)?/myredfin/offers",page:function(t){return a("cXUB")(e.exports.loaders[t])}},RecommendationsFeedbackPage:{path:"(/corv)?/recommendations-feedback",page:function(t){return a("cXUB")(e.exports.loaders[t])}},QuestionnairePage:{path:"(/corv)?/questionnaire",page:function(t){return a("cXUB")(e.exports.loaders[t])}}}}),delete t.__corvairSite}).call(this,a("pCvA"))},"0rPb":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("NToG")),c=n(a("eef+")),d=n(a("W0B4")),f=a("mXGw"),p=n(a("ma35")),m=a("aKSz"),h=n(a("M6YI")),g=n(a("bSdT")),_=n(a("i3Ii"));a("MgFY");var v=function(e){function t(e){var a;(0,i.default)(this,t),a=(0,o.default)(this,(0,s.default)(t).call(this,e));var n=e.merchProps.sectionName||"merch_interstitial",u=e.merchProps.riftParams?(0,r.default)({},e.merchProps.riftParams):null;return u&&(u.os=e.os),a.riftTracker=new g.default(n,u),a.onCtaClick=a.onCtaClick.bind((0,l.default)(a)),a.onCloseButtonClick=a.onCloseButtonClick.bind((0,l.default)(a)),a.onOverlayClick=a.onOverlayClick.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{hidden:d.default.bool,os:d.default.string,merchProps:d.default.shape({promo_image:d.default.string,title_text_line_1:d.default.string,title_text_line_2:d.default.string,cta_text:d.default.string,cta_link:d.default.string,continue_to_mobile_site_text:d.default.string,riftParams:d.default.object,sectionName:d.default.string})}}},{key:"defaultProps",get:function(){return{merchProps:{promo_image:"/images/merch/listingFee/for-sale.png",title_text_line_1:"Thinking about selling?",title_text_line_2:"Sell your home for more, pay a 1% listing fee.",cta_text:"Yes, learn more",close_button_text:"Not now",cta_link:"/sell-a-home/seller-consultation?inquirySource=".concat(g_inquirySource.OMDP_RSDP_LISTINGS_MERCH),sectionName:"one_percent_marketing_interstitial"}}}}]),(0,u.default)(t,[{key:"componentDidMount",value:function(){h.default.setLdpViews(0),h.default.hideForTimePeriod(3),h.default.cleanListingFeeMerchPropertyInLocalStorage(),this.riftTracker.trackImpression(),this._disableBodyScrollingIfNeeded()}},{key:"render",value:function(){return React.createElement(m.CSSTransitionGroup,{component:"div",className:"dialogsContainer",transitionName:"drawer-slide",transitionAppear:!1,transitionEnter:!1,transitionLeave:!0,transitionLeaveTimeout:200,tabIndex:"-1","data-rf-test-name":"dialogsContainer"},this._renderUnderlay(),this._renderDrawer())}},{key:"_renderUnderlay",value:function(){return this.props.hidden?null:React.createElement("div",{className:"MerchDrawerInterstitialUnderlay",onClick:this.onOverlayClick})}},{key:"_renderDrawer",value:function(){return this.props.hidden?null:React.createElement("div",{className:"MerchDrawerInterstitialDialog",id:"merchInterstitial"},React.createElement("div",{className:"drawer bg-color-white","data-rf-test-name":"MerchDrawer"},this._renderContent()))}},{key:"_renderContent",value:function(){return React.createElement("div",{className:"content"},React.createElement("img",{className:"merchDrawerInterstitialImage",src:g_imageServerUrl+this.props.merchProps.promo_image}),this._renderTextAndButtons())}},{key:"_renderTextAndButtons",value:function(){return React.createElement("div",{className:"textAndButtons"},this._renderTitle(),this._renderButtons())}},{key:"_renderTitle",value:function(){var e=this.props.merchProps.title_text_line_1,t=this.props.merchProps.title_text_line_2;return React.createElement("div",{className:"titleContainer"},React.createElement("p",{className:"title heading-medium margin-bottom-medium"},e),React.createElement("p",{className:"subtitle font-size-small"},t))}},{key:"_renderButtons",value:function(){return React.createElement("div",{className:"buttonContainer"},React.createElement(p.default,{type:"primary",size:"compact",onClick:this.onCtaClick,className:"ctaButton"},this.props.merchProps.cta_text),React.createElement(p.default,{className:"closeButton",type:"text",onClick:this.onCloseButtonClick},this.props.merchProps.close_button_text))}},{key:"onCtaClick",value:function(){if(this.props.merchProps.cta_link){var e=this.props.merchProps.cta_link;this.riftTracker.trackClick("cta_button"),window.location.href=e}}},{key:"onCloseButtonClick",value:function(){this.riftTracker.trackClick("close_button"),_.default.continueInBrowser(),this._enableBodyScrolling()}},{key:"onOverlayClick",value:function(){this.riftTracker.trackClick("overlay"),_.default.continueInBrowser(),this._enableBodyScrolling()}},{key:"_disableBodyScrollingIfNeeded",value:function(){this.props.hidden||(this.bodyPosition=document.body.style.position,document.body.style.position="fixed")}},{key:"_enableBodyScrolling",value:function(){document.body.style.position=this.bodyPosition||""}}]),t}(f.Component);t.default=v,e.exports=t.default},"13FN":function(e,t,a){"use strict";var n=a("RBnj");e.exports=(0,n.createActions)(["setFullScreenComponent"])},"14kB":function(e,t,a){"use strict";var n=a("63Ad")(a("R16N"));e.exports=n.default.createActions(["select","unselect"])},"1AMb":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;n(a("W0B4"));function r(e){var t=e.name,a=void 0===t?"":t,n=e.className,r=void 0===n?"":n,i=e.id,o=void 0===i?null:i,s=e.addTopRule,l=void 0!==s&&s,u=e.addBottomRule,c=void 0!==u&&u,d=e.children;return React.createElement("section",{className:"Section ".concat(a," ").concat(r," ").concat(l?"has-top-rule":""," ").concat(c?"has-bottom-rule":""),id:o},d)}a("aA4O"),r.propTypes={},e.exports=t.default},"1O0j":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.getDisclaimer=t.listingFeeMessageWithLineBreakIfNeeded=t.getListingFeeMessagingType=t.ONE_PERCENT_INCENTIVE=t.ONE_POINT_FIVE_PERCENT=t.ONE_PERCENT=void 0;var r=n(a("mXGw")),i=a("vrcu"),o=a("uacs"),s=n(a("FCEn")),l={minPercentage:1,headerListingFee:"a 1% Listing Fee",inlineListingFee:"a 1% listing fee",inlineDescription:"1%",inlineDescriptionSentenceEnd:"",headerSimpleListingFee:"1% listing fee",inlineSimpleListingFee:"a 1% listing fee",extraListingFeeAvailabilityDisclaimer:""};t.ONE_PERCENT=l;var u={minPercentage:1.5,headerListingFee:"a 1.5% Listing Fee",inlineListingFee:"a 1.5% listing fee",inlineDescription:"1.5%",inlineDescriptionSentenceEnd:"",headerSimpleListingFee:"1.5% listing fee",inlineSimpleListingFee:"a 1.5% listing fee",extraListingFeeAvailabilityDisclaimer:""};t.ONE_POINT_FIVE_PERCENT=u;var c={minPercentage:1,headerListingFee:"a 1% Listing Fee When You Sell and Buy",inlineListingFee:"a 1% listing fee when you sell and buy",inlineDescription:"1.5%",inlineDescriptionSentenceEnd:", or 1% if you also buy with a Redfin Agent",headerSimpleListingFee:"1% listing fee when you sell and buy",inlineSimpleListingFee:"a 1% listing fee when you buy + sell",extraListingFeeAvailabilityDisclaimer:" and is available only to customers who also buy a home using a Redfin agent within 365 days of the Redfin listing closing"};t.ONE_PERCENT_INCENTIVE=c;t.getListingFeeMessagingType=function(e){return(0,o.getOnePercentSellToBuyIncentiveMarketIdHash)()[e]?c:1===(0,i.listingFeeForLocation)(e)?l:u};t.listingFeeMessageWithLineBreakIfNeeded=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toLowerCase().indexOf("when you sell and buy");return-1===t?e:r.default.createElement(r.default.Fragment,null,e.slice(0,t),r.default.createElement("br",null),e.slice(t))};t.getDisclaimer=function(e,t){return e===c?r.default.createElement(s.default,{asteriskClassName:t}):null}},"289O":function(e,t,a){},"2Bby":function(e,t,a){},"2eC9":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DATA_KEY=void 0;var r=a("TlVh"),i=a("cMqt"),o=n(a("VLH/")),s=n(a("adVl")),l=n(a("PUZH")),u=i.logging.getLogger({name:"corvair.sites.customer-pages.pages.tours.checkout.stages.questionnaire.stores.QuestionnaireDataStore",color:{server:217,client:"rgb(212,127,127)"}}),c="QuestionnaireDataStoreKey";t.DATA_KEY=c;var d=(0,r.createStoreFactory)({mixins:[o.default],loadOnInit:!1,usePut:!1,init:function(e,t){var a=this.loadQuestionnaireAndExistingAnswers(e,t),n={key:c,questionnaire:a.get("questionnaire"),answers:a.get("answers")};this.setState(n),this.listenTo(s.default.submitAnswer,this.onSubmitAnswer)},loadQuestionnaireAndExistingAnswers:function(e,t){return l.default.getQuestionnaire(e).then(function(e){var a=e.id;return l.default.getAnswers(a,t).then(function(t){return{questionnaire:e,answers:t}})}).catch(function(e){return u.warning("Unable to retrieve questionnaire information",e),{}})},onSubmitAnswer:function(e,t){l.default.saveAnswer(e,t)}});t.default=d},"2i47":function(e,t,a){},"3+nr":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("BQxr")),o=(0,r.default)(new i.default,{name:"RedfinNowBannerSectionRiftTracker",trackAllEventsInGA:!1,impressions:{ELIGIBLE_BANNER_VIEW:{section:"redfinnow_ldp_merchandising_estimate",eventDetails:["property_id, service_region_id, business_market_id"],trackGA:!1},ELIGIBLE_CLAIMED_HOME_PURCHASABLE:{section:"redfinnow_ldp_claimed_home_purchasable_estimate",eventDetails:["property_id, service_region_id, business_market_id"],trackGA:!1},BANNER_VIEW:{section:"redfinnow_ldp_merchandising",eventDetails:["property_id, service_region_id, business_market_id"],trackGA:!1},CLAIMED_HOME_PURCHASABLE:{section:"redfinnow_ldp_claimed_home_purchasable",eventDetails:["property_id, service_region_id, business_market_id"],trackGA:!1}},clicks:{GET_OFFER_CLICK:{section:"redfinnow_ldp_merchandising",eventDetails:["property_id, service_region_id, business_market_id"],target:"get_offer",trackGA:!1},CLOSE_CLICK:{section:"redfinnow_ldp_merchandising",eventDetails:["property_id, service_region_id, business_market_id"],target:"close",trackGA:!1}}});t.default=o,e.exports=t.default},"31kO":function(e,t,a){},"3Clv":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(a("W0B4"));var r=n(a("4ppV")),i=n(a("ma35")),o=n(a("fQnF")),s=n(a("lcmt")),l=n(a("McMD")),u=n(a("Nm66")),c=n(a("X/2h")),d=a("e9eQ");a("X1tb");var f=function(e){var t=e.existingTour,a=e.dialogState,n=e.onClose,f=e.onSuccess,p=e.timeZone,m=e.addressString,h=e.loadingMessage,g=e.newSplitTourHomes,_=e.existingTourTimePref,v=e.errorMessage;return React.createElement(r.default,{className:"AddToExistingTourDialog",key:"AddToExistingTourDialog",close:"ARE_YOU_SURE"===a||"ERROR"===a||"FORCE_ADD_HOME_TOUR"===a?n:f,showCloseButton:!1,closeOnBackgroundClick:!1},function(){switch(a){case"ARE_YOU_SURE":case"FORCE_ADD_HOME_TOUR":var e="FORCE_ADD_HOME_TOUR"===a,r=null;if(t.tourStartTime){var y=s.default.format(t.tourStartTime,p,"dddd, MMMM D"),S=s.default.format(new Date(t.tourStartTime),p,"h:mm A z");r=React.createElement("span",null," on ",y,", at ",S)}var E=t.showWarningMessage?React.createElement("div",null,"We'll try to make it work, but we might not be able to fit this home because your tour schedule looks tight.",React.createElement("br",null),React.createElement("br",null)):null,I=React.createElement("span",null,"Are you sure you want to add ",m," to your existing tour",r,"?"),T="Add Home",C="Cancel";if(e){var b=(0,d.getTimeStringForTime)(_.startTime,p),A=(0,d.getTimeStringForTime)(_.endTime,p);I=React.createElement("span",null,"You already have a tour scheduled around this time from ",b," to ",A,". Would you like to add this home to that tour?"),T="Yes",C="No, Thanks"}return React.createElement("div",{className:"body"},React.createElement("div",{className:"text"},E,I),React.createElement("div",{className:"buttons"},React.createElement("a",{className:"cancelLink",onClick:function(){return n(e)}},C),React.createElement("div",{className:"yesButton","data-rf-test-name":"yesButton"},React.createElement(i.default,{type:"primary v3",onClick:c.default.addToExistingTour},T))));case"ADD_NOTES":var k="Thanks, we received your request. Once we verify the availability of this home, we'll get in touch with you to confirm.";if(g){var N=1===g?"this home":"these homes";k="Thanks, we received your request. "+(1===g?"One":"Some")+" of the homes you added to your tour "+(1===g?"is":"are")+" outside the area your Redfin Agent"+(t.agentName?", "+t.agentName+", ":" ")+"normally covers. We'll create a separate tour with "+N+" and get in touch with you to confirm scheduling."}return React.createElement("div",{className:"postSubmitBody addNotes","data-rf-test-name":"addNotesDialog"},React.createElement("div",{className:"title"},React.createElement(u.default,{className:"successIcon"}),React.createElement("span",null,"Home Added")),React.createElement("div",{className:"text"},k),React.createElement("div",{className:"textareaInput"},React.createElement(o.default,{rows:3,expanding:!1,maxLength:1500,placeholder:"Anything else we should know about your tour?",onChange:function(e){c.default.noteInputChange({value:e.value})},label:"Notes"})),React.createElement("div",{className:"noLink","data-rf-test-name":"dismissAddNotesDialog"},React.createElement("a",{className:"noThanksButton",onClick:f},"No, Thanks")),React.createElement("span",{className:"yesButton","data-rf-test-name":"yesButton"},React.createElement(i.default,{type:"primary v3",onClick:c.default.addNote},"Send Notes")));case"ALL_SET":return React.createElement("div",{className:"postSubmitBody allSet"},React.createElement("div",{className:"title"},React.createElement(u.default,{className:"successIcon"}),"You're all set!"),React.createElement("div",{className:"yesButton","data-rf-test-name":"yesButton"},React.createElement(i.default,{type:"primary v3",onClick:f},"OK")));case"LOADING":return React.createElement("div",{className:"body"},React.createElement("div",{className:"loadingState"},React.createElement(l.default,{size:"large",layout:"column",centerPosition:"both",className:"tourBoxLoading",text:h})));case"ERROR":var O=v||"Sorry! There was an error adding to your tour.";return React.createElement("div",{className:"body"},O,React.createElement("div",{className:"buttons"},React.createElement("span",{className:"yesButton","data-rf-test-name":"yesButton"},React.createElement(i.default,{type:"primary v3",onClick:n},"OK"))))}}())};f.propTypes={};var p=f;t.default=p,e.exports=t.default},"3sh8":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.createLDPViewsCookie=function(){var e=new Date;e.setTime(e.getTime()+63072e6);null==(0,r.default)(o)&&(0,r.default)(o,JSON.stringify({viewsData:{},expiration:e,totalPromptedLdps:0}),{expires:e,path:"/"})},t.getTotalLdpCounts=function(){if((0,r.default)(o)){var e=JSON.parse((0,r.default)(o));return null!=e?e.totalPromptedLdps:0}},t.updateTotalPromptCount=function(){if(null!=(0,r.default)(o)){var e=JSON.parse((0,r.default)(o)),t=e.viewsData;return(0,r.default)(o,JSON.stringify({viewsData:t,expiration:new Date(e.expiration),totalPromptedLdps:e.totalPromptedLdps+1}),{expires:new Date(e.expiration),path:"/"}),e.totalPromptedLdps+1}},t.updateNumViewsOnLDP=function(e,t){if(!(0,r.default)(o))return;var a=(0,i.default)().format("MM-DD-YYYY"),n=JSON.parse((0,r.default)(o)),s=n.viewsData,l=n.expiration;if(0===s.size||null==s[a]){var u={};t||(u[e]=1),s[a]=u,Object.keys(s).forEach(function(e){var t=Math.abs((0,i.default)(a).diff((0,i.default)(e),"days"));t>30&&delete s[e]})}else if(null!=s[a][e]||t){if(!t){var c=s[a];c[e]+=1}}else s[a][e]=1;(0,r.default)(o,JSON.stringify({viewsData:s,expiration:new Date(l),totalPromptedLdps:n.totalPromptedLdps}),{expires:new Date(l),path:"/"})};var r=n(a("72T9")),i=n(a("TiKg")),o="RF_LDP_VIEWS_FOR_PROMPT"},"4KIY":function(e,t,a){"use strict";var n=a("R16N");e.exports=n.createActions(["toggleChatDialog","minimizeChatDialogClick","closeChatDialogClick","textFieldFocus","textFieldBlur","scrollConversation","newLiveChatChimePlayed","suggestedMessageClick","showOfflineContactFormIfNotShown","expandedContactInfoMessageSubmitted","closeFlyout","updatePromptEligibility","closeEndChatDialogClick","cancelEndChatDialogClick","endChatEndChatDialogClick","closeRateAndReviewChatDialogClick","submitRateAndReviewChatDialogClick","ratingStarClick","reviewInputChange"])},"4NP4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimed=function(e,t,a,n){var r="getEndpoint."+e.replace(/\//g,"_"),i=Date.now();return a(e,t).then(function(e){var a=Date.now()-i;return n.time("".concat(r,".overall"),a),t&&t.accessLevel?n.time("".concat(r,".byAccessLevel.").concat(t.accessLevel),a):n.time(r,a),e})}},"4PD5":function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var i=r(a("gki9")),o=r(a("nxTg")),s=r(a("x3Yk")),l=(r(a("W0B4")),n(a("mXGw"))),u=r(a("nbo3")),c=r(a("LAaD")),d=r(a("zCAw"));a("jmmv");var f="simple_banner",p="cta_link",m="x_out";function h(e){var t=e.className,a=void 0===t?"":t,n=e.copy,r=e.ctaText,h=e.ctaTextUrl,g=e.dismissible,_=e.dismissalPostUrl,v=e.imgSrcUrl,y=e.imgAltText,S=e.riftSection,E=void 0===S?f:S,I=e.riftDetails,T=void 0===I?{}:I,C=e.riftParams,b=void 0===C?{}:C,A=e.onHideCallbacks,k=void 0===A?[]:A,N=(0,l.useState)(!0),O=(0,o.default)(N,2),D=O[0],R=O[1];if(!D)return null;var P=(0,i.default)({},T,b);var w=l.default.createElement("span",{dangerouslySetInnerHTML:{__html:n}});return l.default.createElement(c.default,{section:E,eventDetails:P},l.default.createElement("div",{className:"SimpleBannerWidget ".concat(a)},l.default.createElement("p",{className:"bannerContent"},v&&l.default.createElement("img",{src:v,alt:y}),l.default.createElement("span",{className:"copy font-size-base"},w,r&&l.default.createElement(l.default.Fragment,null," ",l.default.createElement("a",{className:"font-weight-bold",href:h,onClick:function(){u.default.trackClick(E,p,P)}},r)))),g?l.default.createElement("span",{className:"closeIcon clickable",onClick:function(){R(!1),"undefined"!=typeof document&&void 0!==document.body&&document.body.classList.remove("simpleBannerPresent"),u.default.trackClick(E,m,P),_&&(0,s.default)(_,{method:"POST"}),k.forEach(function(e){return e()})}},l.default.createElement(d.default,null)):null))}h.displayName="SimpleBannerWidget",h.propTypes={},e.exports=t.default},"5acv":function(e,t,a){},"5jiR":function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("FW7I")),i=n(a("m7qm")),o=n(a("ORHH")),s=n(a("VENG")),l=n(a("7AK6")),u=i.default.createStoreFactory({init:function(e){var t=this;this.setState({bannerInfoReady:e.bannerInfoPromise.then(function(e){return t.setupBannerInfoStore(e)}),contactBoxInfoReady:e.contactBoxInfoPromise.then(function(e){return t.setState({contactBoxInfo:e})}),aboveTheFoldInfoReady:e.aboveTheFoldInfoPromise.then(function(e){return t.setState({aboveTheFoldInfo:e})}),isPrimaryBanner:e.isPrimaryBanner}),l.default.disableCOPDefaultWidgetType(this.when("bannerInfoReady").then(function(){return t.state.hasBannerToDisplay&&"SimpleBannerWidget"}))},setupBannerInfoStore:function(e){if(e){var t=this.initBannerInfo(e);this.chooseBannerForDisplay(t.types,t.stores),this.sendRiftEvents(t.riftTypes)}},initBannerInfo:function(e){var t=this,a={},n=[],i=[];return(e=e.filter(function(e){var a=(0,r.default)(e.detailsPageBannerVariant).displayName;return!("PRIMARY"!==a||!t.state.isPrimaryBanner)||"SECONDARY"===a&&!t.state.isPrimaryBanner})).forEach(function(e){switch(e.riftType&&i.push(e.riftType),e.displayType&&n.push(e.displayType),e.displayType){case g_detailsPageBanner.REDFIN_DIRECT:a[e.displayType]=e.data;break;case g_detailsPageBanner.OFFER_DEADLINE:a[e.displayType]=new o.default(e.data);break;case g_detailsPageBanner.LOCAL_RULES:a[e.displayType]=e.data;break;case g_detailsPageBanner.COMING_SOON:a[e.displayType]=new s.default(e.data);break;case g_detailsPageBanner.HOTNESS:case g_detailsPageBanner.RECENTLY_SOLD:case g_detailsPageBanner.REDFIN_NOW:a[e.displayType]=e.data}}),{stores:a,types:n,riftTypes:i}},chooseBannerForDisplay:function(e,t){if(1===e.length){var a=e[0],n=t[a];this.setState({displayBannerType:a,displayBannerStore:n,hasBannerToDisplay:!!a})}else e.length},sendRiftEvents:function(e){e.forEach(function(e){switch(e){case g_detailsPageBanner.OFFER_DEADLINE:case g_detailsPageBanner.COMING_SOON:case g_detailsPageBanner.LOCAL_RULES:case g_detailsPageBanner.HOTNESS:case g_detailsPageBanner.REDFIN_NOW:}})}});e.exports=u},"6YqF":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("HVn3")),i=n(a("LDFp")),o=n(a("pBXq")),s=n(a("DyY8")),l=n(a("7SUW"));i.default.ensure(a("tTYd"));var u=["first_open","has_unread_message","text","agents_online","click_result","failing_fields","failure_type"];function c(e){return u.indexOf(e)>=0}var d=(0,r.default)(new o.default,{name:"LiveChatRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{FLOATING_BUTTON:{section:"live_chat",target:"floating_chat_button",trackMessages:!1},STICKY_FOOTER_BUTTON:{section:"sticky_footer",target:"chat_button",trackMessages:!1,expectedParams:["chat_badge"]},DIALOG:{section:"live_chat_dialog",trackMessages:!1,expectedParams:["agents_online"]},MESSAGE_RECEIVED:{section:"live_chat_dialog",target:"received_message",expectedParams:["message_sid"]},getAutoResponseMesssageReceived:function(e){return{section:"live_chat_dialog",target:e}},LIVE_CHAT_CHIME_PLAYED:{section:"live_chat",target:"live_chat_chime"},LIVE_CHAT_FLYOUT:{section:"sticky_footer",target:"chat_flyout"},LIVE_CHAT_FLYOUT_MESSAGE:{section:"live_chat_dialog"},getContactInfoForm:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()}},getContactInfoPromptMessage:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_initial_prompt"}},getContactInfoConfirmation:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_contact_confirmation"}},EXPERIMENT_ELIGIBLE:{section:"live_chat_experiment_eligible"},BUTTON_EXPERIMENT_ELIGIBLE:{section:"chat_button_experiment_eligible"},LIVE_CHAT_WAIT_EXPERIMENT_ELIGIBLE:{section:"live_chat_wait_time_experiment_eligible"},LIVE_CHAT_END_RATE_EXPERIMENT_ELIGIBLE:{section:"live_chat_end_rate_experiment_eligible"},LIVE_CHAT_END_CHAT_DIALOG:{section:"live_chat_end_chat_dialog"},LIVE_CHAT_RATE_REVIEW_CHAT_DIALOG:{section:"live_chat_rate_review_chat_dialog"},LIVE_CHAT_END_RESTART_MESSAGE:{section:"live_chat_dialog",target:"end_restart_message"}},clicks:{FLOATING_BUTTON:{section:"live_chat",target:"floating_chat_button",trackMessages:!1,expectedParams:["first_open","has_unread_message"]},FLOATING_BUTTON_CLOSE:{section:"live_chat",target:"floating_close_button"},STICKY_FOOTER_BUTTON:{section:"sticky_footer",target:"chat_button",trackMessages:!1,expectedParams:["first_open","has_unread_message"]},STICKY_FOOTER_BUTTON_CLOSE:{section:"live_chat_dialog",target:"close_button"},MESSAGE_FIELD:{section:"live_chat_dialog",target:"message_field"},SEND_MESSAGE:{section:"live_chat_dialog",target:"send_button"},MESSAGE_SENT:{section:"live_chat_dialog",target:"message_sent",expectedParams:["message_sid"],trackGA:!1},getContactInfoNameField:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_name_field"}},getContactInfoContactField:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_contact_field"}},getContactInfoMessageField:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_message_field"}},getContactInfoSubmit:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_send_button",expectedParams:["click_result"]}},getSuggestedMessageClick:function(e){return{section:"live_chat_dialog",target:"suggested_message_"+e,trackGA:!0}},LIVE_CHAT_FLYOUT_BUTTON_CLICKED:{section:"chat_flyout",target:"chat_flyout_button",expectedParams:["LDP_prompts"]},LIVE_CHAT_FLYOUT_BUTTON_CLOSED:{section:"chat_flyout",target:"chat_flyout_close_button",expectedParams:["LDP_prompts"]},LIVE_CHAT_BUTTON_BADGE:{section:"live_chat",target:"floating_chat_button"},CHAT_DIALOG_MINIMIZE_CLICK:{section:"live_chat_dialog",target:"minimize_cta"},CHAT_DIALOG_CLOSE_CLICK:{section:"live_chat_dialog",target:"close_cta"},END_CHAT_DIALOG_CLOSE_CLICK:{section:"live_chat_end_chat_dialog",target:"close_cta"},END_CHAT_DIALOG_CANCEL_CLICK:{section:"live_chat_end_chat_dialog",target:"cancel_cta"},END_CHAT_DIALOG_END_CHAT_CLICK:{section:"live_chat_end_chat_dialog",target:"end_chat_cta"},RATE_REVIEW_CHAT_DIALOG_STAR_SELECT:{section:"live_chat_rate_review_chat_dialog",target:"star_selected",expectedParams:["star_rating"]},RATE_REVIEW_CHAT_DIALOG_CLOSE_CLICK:{section:"live_chat_rate_review_chat_dialog",target:"close_cta"},RATE_REVIEW_CHAT_DIALOG_MESSAGE_FIELD_KEYPRESS:{section:"live_chat_rate_review_chat_dialog",target:"message_field"},RATE_REVIEW_CHAT_DIALOG_SUBMIT_CLICK:{section:"live_chat_rate_review_chat_dialog",target:"submit_cta",expectedParams:["star_rating"]}},_getContactInfoTargetPrefix:function(){return this._getAreAgentsOnline()?"helping_other_customers":"offline_contact_info_form"},trackImpressionWithDefaults:function(e,t,a){this.trackImpression(e,this._withGlobalDefaultParams(t,e),a)},trackClickWithDefaults:function(e,t){this.trackClick(e,this._withGlobalDefaultParams(t,e))},_withGlobalDefaultParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=!1!==t.trackMessages;if(a&&(e.num_customer_messages=this._getNumCustomerMessages(),e.num_redfin_messages=this._getNumRedfinMessages()),!1!==t.trackGA){var n=e[s.default.GA_LABEL]||{};Object.keys(e).filter(c).forEach(function(t){n[t]=e[t]}),a&&(n.has_customer_messages=0!==e.num_customer_messages,n.has_redfin_messages=0!==e.num_redfin_messages),e[s.default.GA_LABEL]=n}return e},setMessageCountCallbacks:function(e,t){this._getNumCustomerMessages=e,this._getNumRedfinMessages=t},_getNumCustomerMessages:function(){return 0},_getNumRedfinMessages:function(){return 0},setAgentsOnlineCallback:function(e){this._getAreAgentsOnline=e},_getAreAgentsOnline:function(){return!1},initializeLiveChatExperiment:function(e,t){this.trackImpression(this.impressions.EXPERIMENT_ELIGIBLE),t&&(0,l.default)().initialize({experimentId:e,gaExperimentId:t})}}),f=d;t.default=f,e.exports=t.default},"7AK6":function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("5WRv")),i=n(a("nxTg")),o=n(a("SDJZ")),s=n(a("NToG")),l=n(a("TK2v")),u=a("N6FQ"),c=n(a("cXUB")),d=n(a("luvc")),f=n(a("cMqt")),p=f.default.logging.getLogger({name:"corvair.sites.customer-pages.middleware.COPMiddleware",color:{server:219,client:"rgb(212,127,212)"}}),m=f.default.RequestLocalStorage.getNamespace(),h=1e4,g=function(){function e(){(0,o.default)(this,e),m().this=this}return(0,s.default)(e,[{key:"addConfigValues",value:function(){return{disableCOP:!1,disableCOPDefaultWidgets:!1,disableCOPDefaultWidgetTypes:[],placementName:"all_pages",copWidgetComponentPropsOverridesMap:{}}}},{key:"handleRoute",value:function(e){var t=this;return e().tap(function(){_().requestPlacement(t.getConfig("placementName"))})}},{key:"getBodyClasses",value:function(t){var a=(0,c.default)(t()),n=e.getHasWidgetPromise("SimpleBannerWidget").then(function(e){return e?["simpleBannerPresent"]:[]}).catch(function(e){return p.error(e),[]});return c.default.all([a,n]).then(function(e){var t=(0,i.default)(e,2),a=t[0],n=t[1];return[].concat((0,r.default)(a),(0,r.default)(n))})}},{key:"getElements",value:function(t){var a=t(),n=v();if(n&&function(){if("undefined"==typeof window||!window.__reactServerClientController)return void p.error("clientController not found, or invalid");m().hasPageMounted=!1;var e=c.default.defer();window.__reactServerClientController.once("render",function(){return e.resolve("clientController")}),setTimeout(function(){return e.resolve("timeout")},h),e.promise.then(function(e){"timeout"===e&&p.warning('clientController did not emit "render" event within '.concat(h,"ms. Picking a flyout anyway."));var t=_().state.namedFlyouts;p.debug("Registered COPFlyouts: ",Object.keys(t||{}));var a=_().pickAFlyout();a&&p.info("Selected COPFlyout to show:",a),m().hasPageMounted=!0}).catch(function(e){return p.error("Picking a COPFlyout failed:",e)}).done()}(),!n||this.getConfig("disableCOPDefaultWidgets"))return a;var i=e._getWidgetRootElem("SaveSearchBannerWidget",!0),o=e._getWidgetRootElem("SimpleBannerWidget",!0),s=e._getWidgetRootElem("SimpleDrawerWidget",!0);return[i,o].concat((0,r.default)(a),[s])}}],[{key:"getWidgetRootElem",value:function(t){return e._getWidgetRootElem(t,!1)}},{key:"_getWidgetRootElem",value:function(e,t){return _().getWidgetRootElem(e,t)}},{key:"getHasWidgetPromise",value:function(e){return _().hasWidgetPromise(e)}},{key:"setTurnOffCOPWidgets",value:function(){_().disableAllWidgets()}},{key:"setTurnOffCOPDefaultWidgets",value:function(){_().disableAllDefaultWidgets()}},{key:"disableCOPDefaultWidgetType",value:function(e){_().disableDefaultWidgetType(e)}},{key:"setOnWidgetHideCallback",value:function(e){_().registerOnWidgetHideCallback(e)}},{key:"setWidgetContextData",value:function(e,t){_().setWidgetComponentState(e,t)}},{key:"registerFlyout",value:function(e,t){if(!(0,u.isValidFlyoutName)(e))throw new Error("Flyout registration failed. Invalid flyoutName: ".concat(e));if(!t||"function"!=typeof t)throw new Error("Flyout registration failed. Invalid storeUpdateCallback: ".concat(t));p.debug("Registering COPFlyout named:",e),m().hasPageMounted&&p.warning("COPFlyout named <".concat(e,"> was registered after page-mount. ")+"COPDataStore may have already picked another Flyout to use, and won't consider this one.");var a=_();a.registerFlyout(e);var n=a.listen(function(e){var a=e._getWidgetInfo("COPFlyout");t({currentFlyout:e.currentFlyout,flyoutProps:a&&a.widgetStartingProps})});return function(){p.debug("Unregistering COPFlyout named:",e),n(),a.unregisterFlyout(e)}}}]),e}();function _(){if(m().copDataStore)return m().copDataStore;p.debug("Creating COPDataStore instance");var e=m().this;return m().copDataStore=new l.default({isPageCOPEligible:v(),placementName:e.getConfig("placementName"),widgetComponentPropsOverridesMap:e.getConfig("copWidgetComponentPropsOverridesMap"),disableCOPDefaultWidgetTypes:e.getConfig("disableCOPDefaultWidgetTypes"),disableAllCOPDefaultWidgets:e.getConfig("disableCOPDefaultWidgets")})}function v(){var e=m().this;return!(e.getConfig("disableCOP")||e.getConfig("isFragment")||e.getConfig("isRawResponse")||(0,d.default)("ios-web-view")||(0,d.default)("android-web-view"))}e.exports=g},"7B61":function(e,t,a){},"7Qr0":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("RIHJ")),i=a("r1QH"),o=n(a("5BUB")),s=a("TlVh"),l=n(a("eoGF")),u=n(a("nbo3")),c=n(a("luvc")),d=n(a("YPLX")),f=a("R8lb"),p=n(a("8Llx")),m=a("f2dk"),h=(0,s.createStoreFactory)({GENERAL_INQUIRY_URL:"/stingray/do/general-inquiry-form/submit",mixins:[o.default],listenables:d.default,init:function(e){this.formName+=e.formNameSuffix||"",this.listenTo(r.default.buttonClick,this.buttonClick),this.setState({successfulSubmit:!1,requestInFlight:!1,serverError:null,locationData:e.locationData||{},riftParams:null,inquiryChannel:e.inquiryChannel,inquirySource:e.inquirySource,formNameSuffix:e.formNameSuffix||"",login:e.formConfig.login,noteToPrependToInquirySubmission:e.noteToPrependToInquirySubmission,formName:this.formName}),e.extraState&&this.setState(e.extraState),e.formConfig.login&&(this.removeFields(["email"]),e.formConfig.login.phoneNumber&&this._setFields({phone:e.formConfig.login.phoneNumber})),e.formConfig.defaultCustomerNotes&&this._setFields({comments:e.formConfig.defaultCustomerNotes})},onNewLocation:function(e){e&&e.teamId&&this.setState({locationData:e})},buttonClick:function(e,t){"go-back-to-form"===e&&this.goBackToForm(t)},getShallowCopyOfRiftParams:function(){var e={};if(this.state.riftParams)for(var t in this.state.riftParams)this.state.riftParams.hasOwnProperty(t)&&(e[t]=this.state.riftParams[t]);return e},getCustomerNotesForAgent:function(){var e=this.state.fields.comments&&this.state.fields.comments.value||null;if(this.state.noteToPrependToInquirySubmission){var t="Note for Support Agents: ".concat(this.state.noteToPrependToInquirySubmission);return e=e?"".concat(t,"\n\n").concat(this.state.fields.comments.value):t}return e},onSubmit:function(e){var t={};if(t[u.default.TRACKGA]=!0,t[u.default.CLICK_RESULT]=e?u.default.clickResults.SUBMIT:u.default.clickResults.VALIDATION_ERROR,e||(t.failing_fields=this.state.failingFields.join(", ")),this.entrypointRiftContext=u.default.trackClick("inquiry_box","submit_cta",t),e){this.setState({requestInFlight:!0}),this.entrypointRiftContext&&!p.default.isLoggedIn()&&(0,f.trackRegistrationConversionAttempt)(this.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN);var a={emailAddress:this.state.fields.email?this.state.fields.email.value:null,phoneNumber:this.state.fields.phone?this.state.fields.phone.value:null,notesForAgent:this.getCustomerNotesForAgent(),regionTableId:this.state.locationData.regionTableId,regionTypeId:this.state.locationData.regionTypeId,propertyId:this.state.locationData.propertyId,team:this.state.locationData.teamId,locationString:this.state.locationData.locationString,inquirySource:this.state.inquirySource,inquiryChannel:this.state.inquiryChannel,registrationPlatform:this.getRegistrationPlatform()};l.default.post(this.GENERAL_INQUIRY_URL,{data:a}).then(this.onVerifyComplete.bind(this),this.onSubmitError.bind(this))}},onVerifyComplete:function(e){var t=this.getShallowCopyOfRiftParams();e.resultCode===g_apiResultCode.NO_ERROR?(t.success=!0,u.default.track(u.default.actions.CLICK,"inquiry_box","submission_cta",t),u.default.track(u.default.actions.CLICK,"conversion_event","general_inquiry",{trackGA:!0}),this.setState({successfulSubmit:!0,requestInFlight:!1}),e.payload.justRegistered&&(0,f.trackRegistrationConversionSuccess)(this.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN),d.default.formSubmitSuccess(this.state.inquirySource,e.payload.login)):(t.success=!1,e.resultCode===g_apiResultCode.EMAIL_IN_USE?(t.failing_fields="email_already_exists",u.default.track(u.default.actions.FAIL,"inquiry_box","validation_fail",t)):(t.failing_fields="unknown_error",u.default.track(u.default.actions.FAIL,"inquiry_box","validation_fail",t)),this.setState({serverError:e,requestInFlight:!1}))},onSubmitError:function(){var e=this.getShallowCopyOfRiftParams();e.success=!1,e.failing_fields="unknown_error",this.setState({serverError:!0,requestInFlight:!1}),u.default.track(u.default.actions.FAIL,"inquiry_box","validation_fail",e)},onHandleSignIn:function(e){var t=this;this.formName===e&&(0,m.showLoginLightboxIfNeeded)({loginOnly:!0,view:"signin",registrationReason:g_registrationReason.CONTACT_AGENT,loginEmail:this.getState().fields.email.value,suppressEntrypointTracking:!0}).then(function(e){t.entrypointRiftContext&&e.newRegistration?(0,f.trackRegistrationConversionSuccess)(t.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN):(0,f.trackSignInConversionSuccess)(t.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN)})},getRegistrationPlatform:function(){return(0,c.default)("screen-size")<c.default.screenSizes.MEDIUM?"MOBILE_WEB":"WEBSITE"},goBackToForm:function(e){this.setState({serverError:!1,autofocusField:e})},formName:"GeneralInquiryRedfinSubForm",fields:{email:{label:"Email",rules:[{test:(0,i.email)()},{test:(0,i.required)()}]},phone:{label:"Phone",rules:[{test:(0,i.phoneNumber)()},{test:(0,i.required)()}]},comments:{label:"What can we help you with?",summaryLabel:"Question",rules:[{test:(0,i.required)()}]}}});t.default=h,e.exports=t.default},"7TP0":function(e,t,a){},"7ipL":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("gki9")),i=n(a("OvAC")),o=a("TlVh"),s=n(a("kjcz")),l=n(a("FzZH")),u=a("/1q3"),c=n(a("WQTj")),d=(0,o.createStoreFactory)({init:function(e){this.setState({showDialog:!0,currentView:u.DialogView.SPLASH_SCREEN,doFadeTransition:!1,agentData:e.agentData,questionsData:e.questionsData,responsesByQuestionId:{},submitEnabled:!0,requestInFlight:!1}),this.listenTo(s.default.hideDialog,this.onHideDialog),this.listenTo(s.default.submitComplete,this.onSubmitComplete),this.listenTo(l.default.startSplashTimer,this.onStartSplashTimer),this.listenTo(l.default.skipSplashScreen,this.onSkipSplashScreen),this.listenTo(l.default.selectFollowUpOption,this.onSelectFollowUpOption),this.listenTo(l.default.followUpTextQuestionTextChange,this.onFollowUpTextQuestionTextChange),this.listenTo(l.default.clickHadProblemWithAgent,this.onClickHadProblemWithAgent),this.listenTo(l.default.submitFollowUpRequest,this.onSubmitFollowUpRequest),this.listenTo(l.default.selectWhatDidntWorkOption,this.onSelectWhatDidntWorkOption),this.listenTo(l.default.whatDidntWorkTextQuestionTextChange,this.onWhatDidntWorkTextQuestionTextChange),this.listenTo(l.default.backToFollowUpView,this.onBackToFollowUpView),this.listenTo(l.default.submitWhatDidntWork,this.onSubmitWhatDidntWork),this.listenTo(l.default.clickDone,this.onClickDone)},onStartSplashTimer:function(){var e=this;this.splashTimeout=setTimeout(function(){e.setState({doFadeTransition:!0}),setTimeout(function(){e.onSkipSplashScreen()},500)},3e3)},onSkipSplashScreen:function(){clearTimeout(this.splashTimeout),this.setState({doFadeTransition:!1,currentView:u.DialogView.HOW_ELSE_HELP}),c.default.trackImpression(c.default.impressions.HOW_ELSE_HELP_SCREEN)},onHideDialog:function(){this.setState({showDialog:!1})},onSelectFollowUpOption:function(e,t){var a=this.state.questionsData.howElseCanAgentHelpMultiselectQuestion;this._setMultiselectQuestionResponse(a.id,e,t)},onFollowUpTextQuestionTextChange:function(e){var t=this.state.questionsData.howElseCanAgentHelpTextQuestion;this._setQuestionResponse(t.id,e)},onClickHadProblemWithAgent:function(){this.setState({currentView:u.DialogView.WHAT_DIDNT_WORK}),c.default.trackImpression(c.default.impressions.AGENT_PROBLEM_SCREEN)},onSubmitFollowUpRequest:function(){var e=this._gatherHowElseHelpPayload(),t=this.state.agentData.isAssociateAgent?"Your agent":this.state.agentData.agentName;s.default.submitSurvey(e,"Thank you! ".concat(t," will reach out to you soon")),this.setState({requestInFlight:!0})},onSelectWhatDidntWorkOption:function(e,t){var a=this.state.questionsData.whatDidntWorkMultiselectQuestion;this._setMultiselectQuestionResponse(a.id,e,t)},onWhatDidntWorkTextQuestionTextChange:function(e){var t=this.state.questionsData.whatDidntWorkTextQuestion;this._setQuestionResponse(t.id,e)},onBackToFollowUpView:function(){this.setState({currentView:u.DialogView.HOW_ELSE_HELP})},onSubmitWhatDidntWork:function(){var e=this._gatherWhatDidntWorkPayload();s.default.submitSurvey(e,!1),this.setState({currentView:u.DialogView.SORRY_TO_HEAR,requestInFlight:!0})},onClickDone:function(){this.setState({showDialog:!1})},onSubmitComplete:function(){this.setState({requestInFlight:!1,showDialog:!1})},_setMultiselectQuestionResponse:function(e,t,a){var n=(0,i.default)({},t,a),o=(0,r.default)({},this.state.responsesByQuestionId[e],n);this._setQuestionResponse(e,o)},_setQuestionResponse:function(e,t){var a={};a[e]=t,this.setState({responsesByQuestionId:(0,r.default)({},this.state.responsesByQuestionId,a)})},_gatherHowElseHelpPayload:function(){var e=[],t=this.state.questionsData.howElseCanAgentHelpMultiselectQuestion,a=this.state.responsesByQuestionId[t.id];if(a){var n=Object.keys(a).filter(function(e){return a[e]}).filter(function(e){return e!==u.HOW_ELSE_HELP_SOMETHING_ELSE_OPTION_NAME});n.length&&e.push({surveyTemplateElementId:t.id,value:JSON.stringify(n)})}var r=this.state.questionsData.howElseCanAgentHelpTextQuestion,i=this.state.responsesByQuestionId[r.id];return i&&i.trim()&&e.push({surveyTemplateElementId:r.id,value:JSON.stringify(i)}),JSON.stringify(e)},_gatherWhatDidntWorkPayload:function(){var e=[],t=this.state.questionsData.whatDidntWorkMultiselectQuestion,a=this.state.responsesByQuestionId[t.id];if(a){var n=Object.keys(a).filter(function(e){return a[e]});e.push({surveyTemplateElementId:t.id,value:JSON.stringify(n)})}var r=this.state.questionsData.whatDidntWorkTextQuestion,i=this.state.responsesByQuestionId[r.id];return i&&i.trim()&&e.push({surveyTemplateElementId:r.id,value:JSON.stringify(i)}),JSON.stringify(e)}});t.default=d,e.exports=t.default},"7wbY":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;if(!e.surveyToken)return null;t=e.welcomeBackSurveyStore?r.default.createElement(o.default,e.welcomeBackSurveyStore):r.default.createElement(i.default,e.fiveStarSurveyStore);return t};var r=n(a("mXGw")),i=n(a("hWO6")),o=n(a("F4Zs"));e.exports=t.default},"885m":function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("LDFp")),i=n(a("W0B4")),o=a("G4xM"),s=n(a("luvc"));r.default.ensure(a("F40h"));var l=a("YAhj"),u=a("WZ0X"),c=a("9c8K"),d=a("8Jek"),f=a("A3BI"),p=a("1RMg"),m=a("SH7f"),h=a("/yzG"),g=a("A2ec"),_=c({displayName:"HomeownerTools",propTypes:{listingId:i.default.number,propertyId:i.default.number.isRequired,isPrimaryCta:i.default.bool,isAvmShown:i.default.bool,isClaimedHome:i.default.bool,isJustClaimed:i.default.bool,dashboardUrl:i.default.string,isSubscribedToHomeReport:i.default.bool,suppressLinkStyle:i.default.bool},getInitialState:function(){return{showSubscribeConfirmation:!1}},componentWillMount:function(){m.isBrowser()&&"true"===f("RF_SHOW_HOME_MONTHLY_REPORT_SUBSCRIBE_DIALOG")&&(this.toggleHomeMonthlyReportSubscriptionDialog(),this._removeShowHomeMonthlyReportDialogCookie())},componentDidMount:function(){u.findDOMNode(this)&&m.isBrowser()&&g.trackImpression(g.impressions.HOME_REPORT_SUBSCRIBE,{current_property:this.props.propertyId,trackGA:!1})},render:function(){var e=null,t=!this.props.suppressLinkStyle&&!this.props.isPrimaryCta&&this.props.isClaimedHome&&!this.props.isJustClaimed;if(this._mediumOrLarger()){var a=this._calculateClaimSource(),n=l.createElement(h,{subscribeButtonType:this.props.isPrimaryCta?"primary":"tertiary",isClaimedHome:this.props.isClaimedHome,showIcon:!1,rfTestId:"ht-subscribeButton",overrideToFullWidth:!0,onClick:this._onClickHandlerForHomeSubscription,navigateOnClick:!0,source:a,suppressPostJoinSections:!0,registrationReason:g_registrationReason.CLAIM_HOME,linkStyle:t});e=this.props.isPrimaryCta?l.createElement("div",{className:"HomeReportOnly"},this.renderHeading(),this.renderSubtextAboveCta(),n):l.createElement("div",{className:"HomeReportOnly"},n)}else e=null;var r=d({HomeownerTools:!0,corv:!0,linkStyle:t});return l.createElement("div",{className:r,"data-rf-test-id":"HomeownerTools"},e,l.createElement("div",{ref:"placeholderNode"}))},_mediumOrLarger:function(){return(0,s.default)("screen-size")>=s.default.screenSizes.MEDIUM},renderHeading:function(){return!this._mediumOrLarger()||this.props.isClaimedHome?null:l.createElement("h3",{className:"heading-medium heading"},"Is This Your Home?")},renderSubtextAboveCta:function(){return this.props.isClaimedHome?null:l.createElement("div",{className:"homeReportSubtext"},"Track this home's estimate & nearby sales activity")},toggleHomeMonthlyReportSubscriptionDialog:function(){this.setState({showSubscribeConfirmation:!this.props.isSubscribedToHomeReport&&!this.state.showSubscribeConfirmation})},_onClickHandlerForHomeSubscription:function(){var e,t;this.props.isClaimedHome?e=g.clicks.VIEW_HOME_DASHBOARD:(e=g.clicks.HOME_REPORT_SUBSCRIBE,t=g.impressions.VIEW_HOME_DASHBOARD);var a=(0,o.getConfigValueForKey)(o.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo).omdpHigherDescriptionExperimentInfo,n=void 0===a?{}:a;return t&&g.trackImpression(t,{current_property:this.props.propertyId}),g.trackClick(e,{trackGA:!0,current_property:this.props.propertyId,energy_data_variant:p.getVariant(p.feature.ENERGY_DATA_LOCKED_CONTENT_EXPERIMENT),higher_desc_cohort:n.cohort})},_removeShowHomeMonthlyReportDialogCookie:function(){f("RF_SHOW_HOME_MONTHLY_REPORT_SUBSCRIBE_DIALOG",null,{expires:-1})},_calculateClaimSource:function(){var e=(0,o.getConfigValueForKey)(o.DP_GLOBAL_CONFIG_KEYS.pageType);return e===g_detailsPageType.OFF_MARKET?g_claimHomeSource.WEB_OFF_MARKET_SUBSCRIBE_BUTTON:e===g_detailsPageType.RECENTLY_SOLD?g_claimHomeSource.WEB_RECENTLY_SOLD_SUBSCRIBE_BUTTON:g_claimHomeSource.UNKNOWN}});e.exports=_},"8lU5":function(e,t,a){},"8x2j":function(e,t,a){"use strict";var n=a("63Ad"),r=a("wIt4"),i=a("cMqt"),o=(n(a("IsNx")),n(a("nvvy")),n(a("knG5")),n(a("5uHP")),n(a("V4ke"))),s=i.logging.getLogger({name:"corvair.sites.customer-pages.pages.tours.api.ModifyTourApi",color:{server:75,client:"rgb(42,127,212)"}});t.addToTour=function(e,t){return i.ReactServerAgent.get("/stingray/tours/dashboard/api/tours/add/v1",{tourId:e,listing:t}).then(function(e){if(e&&e.body&&e.body.resultCode===g_apiResultCode.NO_ERROR){var t=(0,r.doObjectGraph)()(e.body.payload);return t.inAddHomesExperimentAndAgentCantExtend&&o.default.trackImpressionWithDefaults(o.default.targets.ADD_HOMES_BLOCK_DASHBOARD),t}e&&e.body&&e.body.payload&&e.body.payload.inAddHomesExperimentAndAgentCantExtend&&o.default.trackImpressionWithDefaults(o.default.targets.ADD_HOMES_BLOCK_DASHBOARD);var a=e&&e.body&&e.body.errorMessage||"Sorry! There was an error adding to your tour.",n=new Error(a);throw n.name="customerMessage",n}).fail(function(e){throw e})},t.addToTourList=function(e){return(0,r.getEndpoint)("/stingray/do/tourlist/v2/add",{listing_ids:e,returnCartItemId:!0}).then(function(e){return(0,r.doObjectGraph)()(e)}).catch(function(e){s.error(e)})},t.removeFromTour=function(e,t,a){return i.ReactServerAgent.post("/stingray/tours/dashboard/api/tours/remove").type("form").send({tourId:e,tourItemId:t,clientRemoveFeedback:a}).then(function(e){if(e&&e.body&&e.body.resultCode===g_apiResultCode.NO_ERROR)return(0,r.doObjectGraph)()(e.body.payload);var t=e&&e.body&&e.body.errorMessage||"Could not remove home from tour";throw new Error(t)}).fail(function(e){throw e})},t.cancelTour=function(e,t){return(0,r.getEndpoint)("/stingray/do/tourlist/v2/tour/cancel",{tour_id:e,clientRemoveFeedback:t}).then(function(e){if((e=(0,r.doObjectGraph)()(e))&&!0===e.cancelled)return e;throw new Error("Failed to cancel the tour.")}).fail(function(e){throw e})},t.rescheduleTour=function(e,t,a,n){return i.ReactServerAgent.get("/stingray/tours/dashboard/api/tours/reschedule/v1",{tourId:e,newStartTime:t,newEndTime:a,newAgentId:n}).then(function(e){if(e&&e.body&&e.body.resultCode===g_apiResultCode.NO_ERROR)return!0;var t=e&&e.body&&e.body.errorMessage||"Could not reschedule tour";throw new Error(t)}).fail(function(e){throw e})},t.addNoteToTour=function(e,t,a,n){return i.ReactServerAgent.get("/stingray/do/tourlist/addNoteToTour",{tourId:e,tourNote:t,tourNoteType:a,splitTourId:n}).then(function(e){return e})}},"9NDK":function(e,t,a){},"9QPH":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("NToG")),c=n(a("eef+")),d=n(a("YAhj")),f=n(a("W0B4")),p=n(a("mU1b")),m=n(a("PgSJ")),h=n(a("8Llx")),g=a("R8lb"),_=n(a("BYaZ")),v=n(a("8Jek"));a("9jfl");var y=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).onStartAnOfferClick=a.onStartAnOfferClick.bind((0,l.default)(a)),a.onRefundClick=a.onRefundClick.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{refund:f.default.number,listingId:f.default.number.isRequired,agent:f.default.object.isRequired,deviceConfig:f.default.number,infoBoxType:f.default.number,riftParams:f.default.object.isRequired,isAgentAssignedOrPending:f.default.bool,isInRedfinDirectMarket:f.default.bool}}}]),(0,u.default)(t,[{key:"onStartAnOfferClick",value:function(e){e.preventDefault();var t=_.default.trackClick(_.default.clicks.START_AN_OFFER,this.props.riftParams);h.default.isLoggedIn()||(0,g.trackRegistrationConversionAttempt)(t,g_registrationReason.SUBMIT_OFFER,g_registrationAuthority.REDFIN);var a=(0,g.serializeConversionRiftEntrypoint)(t),n="".concat(this.constructOfferURL(),"&epc=").concat(a);window.location=n}},{key:"onRefundClick",value:function(){_.default.trackClick(_.default.clicks.REFUND,{refund_value:this.props.refund})}},{key:"onRefundFlyoutMoreInfoClick",value:function(){_.default.trackClick(_.default.clicks.REFUND_FLYOUT_MORE_INFO)}},{key:"shouldHideRefund",value:function(){return!this.props.refund}},{key:"renderRefundMessage",value:function(){var e={term:this.props.deviceConfig===g_deviceConfiguration.PHONE?"Redfin Refund":"",position:"above",alignment:"right",definition:"Buy with a Redfin Agent and we'll give you a percentage of our commission from the seller.",definitionLink:"/why-redfin-how-you-save",moreInfoText:"Learn More",underline:!1,onShowDefinitionFlyout:this.onRefundClick,onClickDefinitionLink:this.onRefundFlyoutMoreInfoClick},t=(0,v.default)("refund-message",{"hide-contact-links":this.props.isAgentAssignedOrPending,"agent-only":this.props.internalOnlyRefundTreatment});return d.default.createElement("div",{className:t},d.default.createElement(p.default,e,d.default.createElement("div",{className:"refund-amount font-weight-bold","data-rf-test-name":"refund-amount"},"Redfin Refund: "+m.default.formatPrice(this.props.refund))),d.default.createElement(p.default,(0,r.default)({},e,{infoIcon:!0})),d.default.createElement("div",null,"Savings when you buy with a Redfin Agent"))}},{key:"renderStartAnOfferLink",value:function(){var e=(0,v.default)("offer",{"center-link":this.shouldHideRefund()}),t=this.constructOfferURL();return d.default.createElement(d.default.Fragment,null,d.default.createElement("a",{className:e,"data-rf-test-name":"offer",href:t,rel:"nofollow",onClick:this.onStartAnOfferClick},"Start an Offer"))}},{key:"renderConstructionInfoBox",value:function(){return d.default.createElement("div",{className:"info-box"},d.default.createElement("h4",null,"Save on New Construction With Redfin"),d.default.createElement("p",null,"Get a commission refund when you buy this home with a Redfin Agent. Refund amounts vary and are subject to minimum commission requirements."))}},{key:"renderTenancyInCommonInfoBox",value:function(){return d.default.createElement("div",{className:"info-box"},d.default.createElement("h4",null,"This Home is a Tenancy in Common"),d.default.createElement("p",null,"The buying process for tenancies in common is different from a normal condo or townhome sale. Read more about ",d.default.createElement("a",{href:"/definition/tenancy-in-common?src=listingdetails-ticmessage",target:"_top"},"how tenancies in common work"),"."))}},{key:"renderShortSaleInfoBox",value:function(){return this.props.agent.isRedfin()?d.default.createElement("div",{className:"info-box"},d.default.createElement("h4",null,"This Home Is a Short Sale"),d.default.createElement("p",null,"Redfin agents can help you tour and make offers on short sale properties."),d.default.createElement("p",null,d.default.createElement("a",{href:"/guides/how-to-buy-a-short-sale",target:"_top"},"Learn more about short sales"),".")):this.props.agent.isPartner()?d.default.createElement("div",{className:"info-box"},d.default.createElement("h4",null,"Short Sale"),d.default.createElement("p",null,"This home is flagged as a ",d.default.createElement("a",{href:"/guides/how-to-buy-a-short-sale",target:"_top"},"short sale"),". A local Redfin partner agent can help you tour and make an offer on a short sale.")):d.default.createElement("div",{className:"info-box"},d.default.createElement("h4",null,"This Home Is a Short Sale"),d.default.createElement("p",null,"This home is flagged as a short sale. Redfin agents or partner agents can help you tour and make an offer on a short sale "),d.default.createElement("p",null,d.default.createElement("a",{href:"/guides/how-to-buy-a-short-sale",target:"_top"},"Learn more about short sales"),"."))}},{key:"renderInfoBox",value:function(){if(null==this.props.infoBoxType)return null;switch(this.props.infoBoxType){case g_homeDisclaimerBoxType.NEW_CONSTRUCTION:return this.renderConstructionInfoBox();case g_homeDisclaimerBoxType.TIC:return this.renderTenancyInCommonInfoBox();case g_homeDisclaimerBoxType.SHORT_SALE:return this.renderShortSaleInfoBox();default:return null}}},{key:"constructOfferURL",value:function(){return"/buy-a-home/start-an-offer?listingId=".concat(this.props.listingId,"&inquirySource=").concat(g_inquirySource.LDP_CONTACT_BOX_OFFER_WIZARD)}},{key:"render",value:function(){var e=this.props.isInRedfinDirectMarket||this.props.agent.getAgentType===g_agentType.CONNECT?null:this.renderStartAnOfferLink(),t=!this.props.isInRedfinDirectMarket&&this.renderRefundMessage(),a=this.props.deviceConfig===g_deviceConfiguration.TABLET?"Refund-tablet font-size-small":"Refund font-size-small";return d.default.createElement("div",{className:a,"data-rf-test-name":"refund"},!this.shouldHideRefund()&&t,e,this.renderInfoBox())}}]),t}(d.default.Component);t.default=y,e.exports=t.default},"9To1":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("NToG")),c=n(a("eef+")),d=n(a("W0B4")),f=n(a("mXGw")),p=n(a("lQoP")),m=n(a("Nm66")),h=n(a("4ppV")),g=n(a("ma35")),_=n(a("Xecl")),v=n(a("t/kO")),y=a("EQKR"),S=n(a("8Jek")),E=n(a("VzMp"));a("AKmY");var I="direct_access_instructions_drawer",T="direct_access_instructions_dialog",C="ext_direct_access_instructions_drawer",b="ext_direct_access_instructions_dialog",A=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={showLoadingIndicator:!1},a.riftSection=a.props.deviceConfig===g_deviceConfiguration.PHONE?a.props.isRedfin?I:C:a.props.isRedfin?T:b,a.commonRiftParams={listing_id:a.props.listingId,property_id:a.props.propertyId},a._firePhoneClick=a._firePhoneClick.bind((0,l.default)(a)),a._handleCloseDialog=a._handleCloseDialog.bind((0,l.default)(a)),a._handleSendAppLink=a._handleSendAppLink.bind((0,l.default)(a)),a._handleClickAppLink=a._handleClickAppLink.bind((0,l.default)(a)),a._redirectToScheduleTour=a._redirectToScheduleTour.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{isRedfin:d.default.bool,isOpendoor:d.default.bool,listingId:d.default.number,deviceConfig:d.default.number,onCloseDialog:d.default.func,formName:d.default.string,fields:d.default.shape({phoneNumber:d.default.object}),showError:d.default.bool,isSubmitting:d.default.bool,showSuccess:d.default.bool,propertyId:d.default.number,isServiced:d.default.bool}}}]),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.showSuccess?"":"Download the Redfin mobile app for instant access";this.props.isOpendoor&&(e=this.props.showSuccess?"":"Get instant access to this Opendoor listing");var t=(0,S.default)({DirectAccessOpendoorDialog:!0,drawer:this.props.deviceConfig===g_deviceConfiguration.PHONE,desktop:this.props.deviceConfig!==g_deviceConfiguration.PHONE});return f.default.createElement(h.default,{className:t,close:this._handleCloseDialog,fullScreenOnMobile:!1,title:e,closeOnBackgroundClick:!1},this._renderContent())}},{key:"_renderContent",value:function(){var e=this;if(this.props.showSuccess){var t="We texted a link to the Redfin app to ".concat(E.default.formatPhoneNumberParens(this.props.fields.phoneNumber.value));return this.props.isOpendoor&&(t="We texted a link to the Opendoor app to ".concat(E.default.formatPhoneNumberParens(this.props.fields.phoneNumber.value))),p.default.trackImpression(this.riftSection,"text_sent_success",this.commonRiftParams),f.default.createElement("div",{class:"textConfirmation"},f.default.createElement("div",{className:"fill-valid"},f.default.createElement(m.default,{className:"size-large"})),f.default.createElement("div",{className:"confirmationHeader font-size-medium"},"Text Sent!"),f.default.createElement("div",{className:"confirmationInfo"},t))}var a=this.props.deviceConfig!==g_deviceConfiguration.DESKTOP?"Use the Redfin app to tour on your own schedule without an agent.":"We'll text you a link to the Redfin app so you can tour this home on your own schedule without an agent.";return this.props.isOpendoor&&(a=this.props.deviceConfig!==g_deviceConfiguration.DESKTOP?"Use the Opendoor app to tour on your own schedule without an agent.":"We'll text you a link to the Opendoor app so you can tour this home on your own schedule without an agent."),f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:"infoText"},a),this.props.showError&&f.default.createElement("div",{className:"font-color-red"},"Sorry, something went wrong. Please try again"),f.default.createElement(v.default,{formName:this.props.formName,className:"phoneForm"},this._renderPhoneField(),this._renderCTA()),this.props.isServiced&&f.default.createElement(g.default,{className:"text tourWithAgent",href:"#",saving:this.state.showLoadingIndicator,onClick:function(t){t.preventDefault(),e._redirectToScheduleTour()}},"Tour with an agent instead"))}},{key:"_renderPhoneField",value:function(){return this.props.deviceConfig===g_deviceConfiguration.DESKTOP?f.default.createElement(_.default,(0,r.default)({className:"phone",type:"tel"},this.props.fields.phoneNumber,{autofocus:!1,onClick:this._firePhoneClick})):null}},{key:"_renderCTA",value:function(){if(this.props.deviceConfig!==g_deviceConfiguration.DESKTOP){var e="Go to Redfin app";return this.props.isOpendoor&&(e="Go to Opendoor app"),f.default.createElement(g.default,{className:"primary v3",title:e,onClick:this._handleClickAppLink},e)}return f.default.createElement(g.default,{className:"primary v3",title:"Text me a link",disabled:this.props.isSubmitting,onClick:this._handleSendAppLink},"Text me a link")}},{key:"_firePhoneClick",value:function(){p.default.trackClick(this.riftSection,"phone_field",this.commonRiftParams)}},{key:"_handleCloseDialog",value:function(){p.default.trackClick(this.riftSection,"close_button",this.commonRiftParams),this.props.onCloseDialog()}},{key:"_redirectToScheduleTour",value:function(){var e=p.default.trackClick(this.riftSection,"tour_with_agent_link",this.commonRiftParams);(0,y.redirectForTourWithAgent)(this.props.listingId,e)}},{key:"_handleClickAppLink",value:function(){p.default.trackClick(this.riftSection,"download_app_button",this.commonRiftParams),this.props.isOpendoor?(0,y.clickOpendoorAppLink)(this.props.listingId):(0,y.clickRedfinAppLink)(this.props.listingId)}},{key:"_handleSendAppLink",value:function(){p.default.trackClick(this.riftSection,"text_app_link_button",this.commonRiftParams),this.props.isOpendoor?(0,y.sendOpendoorAppLinkText)(this.props.listingId):(0,y.sendRedfinAppLinkText)(this.props.listingId)}}]),t}(f.default.Component);t.default=A,e.exports=t.default},"9aza":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["clickStar","mouseOver","clickReason","submit","additionalFeedbackTextChange"]);t.default=n,e.exports=t.default},"9gn6":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.isAmpEligible=void 0;var r=a("I5FW"),i=n(a("1RMg")),o=n(a("hd1p")),s=n(a("tdHm")),l=n(a("X7Un"));t.isAmpEligible=function(e){return!!(e&&(0,r.getCurrentCountryCode)()!==g_countryCode.CANADA&&(null!==e.listingId&&e.listingAccessLevel&&(e.listingAccessLevel===g_accessLevel.PUBLIC||i.default.isOn(s.default)&&i.default.isOn(l.default)&&e.listingAccessLevel!==g_accessLevel.REDFIN_AGENT)||e.shouldAmplifyPDP)&&i.default.isOn(o.default))}},"9jfl":function(e,t,a){},"9r8j":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=a("MAzh"),s=n(a("WSab")),l=n(a("EVUh")),u=n(a("LDFp")),c=(n(a("94Bj")),(0,o.customerPages)());u.default.ensure(a("zOLm"));var d=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"handleRoute",value:function(e){var t=e();return this.getConfig("isRawResponse")||!this.getConfig("needUserData")?t:s.default.whenReady().then(function(){return l.default.setDirectives(c),t})}}],[{key:"optIntoAmpCSP",value:function(){var e=c.concat((0,o.ampPages)());l.default.setDirectives(e)}}]),e}();t.default=d,e.exports=t.default},AKmY:function(e,t,a){},AVjo:function(e,t,a){},An05:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,n;return"Have We Met?",t=e.fields.email.value+" is already associated with a Redfin account. Please sign in to continue, or use a different email.",a=r.default.createElement(i.default,{size:"large",type:"tertiary",onClick:c},"Use a Different Email"),n=r.default.createElement(i.default,{size:"large",type:"primary",onClick:d.bind(this,e.fields.email.value)},"Sign In"),r.default.createElement(s.default,{showCloseButton:!1},r.default.createElement("div",{className:"aaq-have-we-met secondary-dialog"},r.default.createElement("div",{className:"title row"},"Have We Met?"),r.default.createElement("div",{className:"message row"},t),r.default.createElement("div",{className:"cta-buttons"},a,n)))};var r=n(a("mXGw")),i=n(a("ma35")),o=a("f2dk"),s=n(a("hzyT")),l=n(a("iDTg")),u=n(a("Tt+I"));function c(){l.default.hideHaveWeMetDialog()}function d(e){(0,o.showLoginLightboxIfNeeded)({registrationReason:g_registrationReason.CONTACT_AGENT,suppressEntrypointTracking:!0,view:u.default.SIGN_IN_FORM,loginOnly:!0,loginEmail:e}).then(l.default.loginSuccess)}a("liRG"),e.exports=t.default},B5BY:function(e,t,a){},BBj3:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.setBusinessMarketCookies=function(e){var t=e.marketName,a=e.businessMarketIds,n={expires:36500,path:"/"};t&&((0,i.default)("RF_MARKET",t,n),r.default.setMarketName(t));a&&(Array.isArray(a)||(a=[a]),a.length>1&&a.sort(function(e,t){return e-t}),(0,i.default)("RF_BUSINESS_MARKET",a.join(","),n),r.default.setBusinessMarkets(a))};var r=n(a("w2OM")),i=n(a("A3BI"))},BCZJ:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("8VmE")),o=r(a("SDJZ")),s=r(a("NToG")),l=r(a("K4DB")),u=r(a("+IV6")),c=r(a("eef+")),d=n(a("mXGw")),f=r(a("xARA")),p=r(a("W0B4")),m=a("DyRb"),h=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.windowWidth=f.default.findDOMNode(this.refs.contactBox0).offsetWidth}},{key:"render",value:function(){var e=this.props.classes.indexOf("contactBoxMultiWindowWithAnimation")>-1,t=this.props.classes.indexOf("partnerSellside")>-1&&1===this.props.position;return d.default.createElement("div",{className:(0,m.getClassSet)({contactBoxMultiWindowViewport:!0,contactBoxMultiWindowWithAnimation:e},this.props),style:{height:t?150:null}},d.default.createElement("div",{className:"contactBoxMultiWindow",style:{left:-1*this.windowWidth*this.props.position}},this.props.views.map(function(e,t){return d.default.createElement(this.props.ContactBox,(0,i.default)({key:t,ref:"contactBox"+t,isDisplayed:t===this.props.position,isPrimaryCta:this.props.isPrimaryCta,TourPopup:this.props.TourPopup,sideBarStore:this.props.sideBarStore,showSellerConsultDialogCallback:this.props.showSellerConsultDialogCallback,showAAQDialogCallback:this.props.showAAQDialogCallback,generalInquiryActions:this.props.generalInquiryActions,generalInquiryDialog:this.props.generalInquiryDialog,liveChatWidgetAction:this.props.liveChatWidgetAction,deviceConfig:this.props.deviceConfig},e))},this)))}}],[{key:"displayName",get:function(){return"ContactBoxMultiWindow"}},{key:"propTypes",get:function(){return{classes:p.default.arrayOf(p.default.string),views:p.default.arrayOf(p.default.object),position:p.default.number,isTabbed:p.default.bool,isDisplayed:p.default.bool,isPrimaryCta:p.default.bool,sideBarStore:p.default.object,showSellerConsultDialogCallback:p.default.func,showAAQDialogCallback:p.default.func,generalInquiryActions:p.default.object,generalInquiryDialog:p.default.func,liveChatWidgetAction:p.default.object,deviceConfig:p.default.number}}},{key:"getDefaultProps",get:function(){return{classes:[],views:[],position:0,isTabbed:!1}}}]),t}(d.Component);t.default=h,e.exports=t.default},BLuO:function(e,t,a){},BYaZ:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("Nwge")),i=n(a("LDFp"));i.default.ensure(a("tTYd"));var o=a("pBXq").default,s=(0,r.default)(new o,{name:"RefundRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],clicks:{CTA_BUTTON:{section:"contact_box",target:"cta_button",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","info_box","device_category","text","customer_status"]},PARTNER_CTA_BUTTON:{section:"partner_contact_box",target:"cta_button",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","info_box","device_category","text","customer_status"]},PHONE_NUMBER:{section:"contact_box",target:"phone_number",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","info_box","device_category"]},PHONE_NUMBER_TEXT:{section:"contact_box",target:"text_button",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","info_box","device_category"]},PHONE_NUMBER_CALL:{section:"contact_box",target:"call_button",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","info_box","device_category"]},PHONE_NUMBER_DIALOG_CLOSE:{section:"contact_box",target:"phone_number",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","info_box","device_category"]},REFUND:{section:"contact_box",target:"refund",trackGA:!0,expectedParams:["refund_value","device_category"]},REFUND_FLYOUT_MORE_INFO:{section:"contact_box_refund_flyout",target:"more_link",trackGA:!0,expectedParams:["device_category"]},START_AN_OFFER:{section:"contact_box",target:"start_an_offer",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","info_box","device_category"]},PARTNER_START_AN_OFFER:{section:"partner_contact_box",target:"start_an_offer",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","info_box","device_category"]}},impressions:{SECTION:{section:"contact_box",trackGA:!0,expectedParams:["text","refund_value","device_category"]},HIDDEN_REFUND_EXPERIMENT_ELIGIBLE:{section:"ldp_refund_experiment_eligible",expectedParams:["device_category"]},PHONE_TEXT_CALL_DIALOG:{section:"contact_box",expectedParams:["device_category"]}}});e.exports=s},BxHH:function(e,t,a){"use strict";var n=a("R16N");e.exports=n.createActions(["updateComingSoonListingUpdatesSubscription","scheduleEarlyTour"])},"CH+5":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=n(a("LE5B")),i=(n(a("W0B4")),n(a("mXGw"))),o=n(a("NFCW")),s=n(a("g9ws")),l=n(a("usTY")),u=n(a("Luu8")),c=n(a("NcWF")),d=n(a("Mba0")),f=n(a("cyv2")),p=n(a("McMD")),m=a("RxnA"),h=n(a("8Jek"));function g(e){var t=(0,r.default)(e.stageHistory,e.currentStage),a=e.isMobile?(0,m.getScreenWidth)()-50:e.sectionWidth,n={width:a,height:e.isMobile?"80vh":e.showBDXExperience&&e.currentStage===g_askAQuestionStage.NAME_WITH_CONTACT?380:330},g=(0,h.default)({"multiStage-aaq-form-stage":!0,"center-content":e.currentStage===g_askAQuestionStage.NAME_WITH_CONTACT});return i.default.createElement("div",{className:"multiStage-aaq-main-container"},i.default.createElement(f.default,{className:"multiStage-aaq-form-container",currentSection:t?t.indexOf(e.currentStage):null,sectionWidth:a,useMobileStyle:!1},t.map(function(a){return i.default.createElement("section",{className:"multiStage-aaq-form-section",key:t.indexOf(a)},i.default.createElement("div",{className:g,style:n},function(e,t){switch(e){case g_askAQuestionStage.QUESTION:return i.default.createElement(o.default,t);case g_askAQuestionStage.NAME:return i.default.createElement(s.default,t);case g_askAQuestionStage.CONTACT:return i.default.createElement(l.default,t);case g_askAQuestionStage.NAME_WITH_CONTACT:return i.default.createElement(u.default,t);case g_askAQuestionStage.PHONE_ONLY:return i.default.createElement(c.default,t);case g_askAQuestionStage.CONFIRMATION:return i.default.createElement(d.default,t);default:return i.default.createElement(p.default,null)}}(a,e)))})))}a("+7Pm"),g.propTypes={},e.exports=t.default},CTEv:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mXGw")),i=(n(a("W0B4")),n(a("8Jek")));a("rJp7");var o=n(a("ma35"));function s(e){var t=e.headerText,a=e.copyText,n=e.ctaLinkText,s=e.href,l=e.onCtaClick,u=e.ctaInline,c=(0,i.default)("copy","font-size-base",{inline:u}),d=(0,i.default)("bannerCopyLink","text","unpadded","margin-top-small");return r.default.createElement("div",{className:"BannerCopy"},t&&r.default.createElement("div",{className:"copyHeader"},t),r.default.createElement("p",{className:c,dangerouslySetInnerHTML:{__html:a}}),n&&u?r.default.createElement(r.default.Fragment,null,r.default.createElement("a",{href:s,onClick:l},n)):r.default.createElement(o.default,{className:d,onClick:l},n))}s.propTypes={},s.defaultProps={headerText:"",ctaLinkText:"",href:"",onCtaClick:null,ctaInline:!1};var l=s;t.default=l,e.exports=t.default},"Cus+":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("NToG")),s=n(a("K4DB")),l=n(a("+IV6")),u=n(a("eef+")),c=n(a("LDFp")),d=n(a("W0B4")),f=a("mXGw"),p=a("M6YI"),m=n(a("1RMg")),h=n(a("7SUW")),g=n(a("m0Cg")),_=n(a("FGq/")),v=n(a("LzrF")),y=n(a("0rPb")),S=n(a("rTJU"));c.default.ensure(a("21KY"));var E=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.interstitialStore,t=e.type,a=e.store,n=e.merchProps,i=e.useDrawerStyle;switch(t){case p.Types.SAVE_SEARCH_DRAWER:return React.createElement(S.default,a);case p.Types.APP_INTERSTITIAL:return i?React.createElement(_.default,(0,r.default)({},a,{merchProps:n})):React.createElement(g.default,(0,r.default)({},a,{merchProps:n}));case p.Types.MERCH_INTERSTITIAL:return i?React.createElement(y.default,(0,r.default)({},a,{merchProps:n})):React.createElement(v.default,(0,r.default)({},a,{merchProps:n}));default:return React.createElement("noscript",null)}}},{key:"componentDidMount",value:function(){this.props.interstitialStore.type===p.Types.APP_INTERSTITIAL&&m.default.isOn(m.default.feature.MW_INTERSTITIAL_SHEET_TEST)&&(new h.default).initialize({experimentId:m.default.feature.MW_INTERSTITIAL_SHEET_TEST,gaExperimentId:"FV3nCj_uQCaUyuKODlrkRA"})}}],[{key:"getComponentDependencies",value:function(){return{dependencies:["interstitialStore"]}}},{key:"getPageLayoutClassName",value:function(){return"dp-col-sm-12 dp-col-md-12"}},{key:"displayName",get:function(){return"Interstitial"}},{key:"propTypes",get:function(){return{interstitialStore:d.default.shape({type:d.default.string,store:d.default.object,merchProps:d.default.object,useDrawerStyle:d.default.bool})}}}]),t}(f.Component);t.default=E,e.exports=t.default},D0QW:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("Nwge")),i=n(a("LDFp"));i.default.ensure(a("tTYd"));var o=a("pBXq").default,s=(0,r.default)(new o,{name:"AddressBannerRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{ADDRESS_BANNER:{section:"address_banner",target:"",expectedParams:["status","redfin_estimate","is_favorite","is_xout","is_rebny"],trackGA:!1},REFUND_FLYOUT:{section:"address_banner_refund_flyout",target:null,expectedParams:["auto_shown"]},REBNY_CENSORED_BANNER:{section:"rebny_censored_banner",target:null,expectedParams:["censored_status"]},HOME_REPORT_SUBSCRIBE:{section:"address_banner",target:"home_report_subscribe_button"}},clicks:{CENSORED_SQ_FT:{section:"address_banner",target:"censored_sq_ft"},CENSORED_REDFIN_ESTIMATE:{section:"address_banner",target:"censored_redfin_estimate"},CENSORED_PRICE:{section:"address_banner",target:"censored_price"},SHOW_REFUND_FLYOUT:{section:"address_banner",target:"refund_label",expectedParams:["refund_flyout_on_load"]},LEARN_MORE_CTA:{section:"address_banner_refund_flyout",target:"learn_more_cta",expectedParams:["auto_shown"]},DISMISS_REFUND_FLYOUT:{section:"address_banner_refund_flyout",target:"dismiss_link",expectedParams:["auto_shown"]},HOME_REPORT_SUBSCRIBE_BUTTON:{section:"address_banner",target:"home_report_subscribe_button"},HOME_REPORT_DASHBOARD_BUTTON:{section:"address_banner",target:"view_owner_dashboard"}}});e.exports=s},DGdc:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=n(a("YAhj")),i=n(a("pCn5")),o=n(a("P/+R")),s=n(a("lQoP")),l=(n(a("W0B4")),n(a("WRm1"))),u=a("G4xM");function c(e){var t=e.propertyId,a=e.listingId,n=e.avmInfo,c=e.isActivish,d=e.simple;if(c)return null;return r.default.createElement(i.default,{wrapperClassSet:{EditFactsButton:!0},label:"Edit Facts",onClick:function(){var e=(0,u.getConfigValueForKey)(u.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo).omdpHigherDescriptionExperimentInfo,r=void 0===e?{}:e,i=s.default.trackClick("address_banner","edit_button",{property_id:t,listing_id:a,has_estimate:n&&null!=n.predictedValue,higher_desc_cohort:r.cohort});o.default.onEditFactsButtonClicked(i)},simple:d},r.default.createElement(l.default,{className:"svg-icon-off-color"}))}c.propTypes={},c.displayName="EditFactsButton",e.exports=t.default},DIpj:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("NToG")),s=n(a("K4DB")),l=n(a("+IV6")),u=n(a("T1e2")),c=n(a("eef+")),d=n(a("OvAC")),f=n(a("ma35")),p=a("mXGw"),m=a("3AZh"),h=a("4Ot/"),g=a("hzyT"),_=a("YPLX"),v=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return a=(0,s.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o))),(0,d.default)((0,u.default)(a),"_renderServerErrorDialog",function(){var e,t,n,r,i;if(a.props.serverError.resultCode===g_apiResultCode.EMAIL_IN_USE?(t="Have We Met?",n=a.props.fields.email.value+" is already associated with a Redfin account. Please sign in to continue, or use a different email.",r=p.createElement(f.default,{className:"v3",size:"large",type:"secondary",onClick:_.closeErrorDialog},"Use a Different Email"),i=p.createElement(f.default,{className:"v3",size:"large",type:"primary",onClick:a.handleSignIn},"Sign In"),e=a._renderStandardServerErrorContent(t,n,r,i)):(t="Sorry!",n="We tried everything, but the information just isn't getting through. Please click OK and try again.",r=p.createElement(f.default,{className:"v3",size:"large",type:"primary",onClick:a.handleClickToRefresh},"OK"),e=a._renderStandardServerErrorContent(t,n,r)),e)return p.createElement(g,{showCloseButton:!1},e)}),(0,d.default)((0,u.default)(a),"_renderStandardServerErrorContent",function(e,t,a,n){return p.createElement("div",{className:"agent-request-form secondary-dialog"},p.createElement("div",{className:"title"},e),p.createElement("div",{className:"message"},t),p.createElement("div",{className:"cta-buttons"},a,n))}),(0,d.default)((0,u.default)(a),"_renderSuccessMessage",function(){return p.createElement("div",{className:"OutOfAreaSubForm"},p.createElement("div",{className:"successNode"},p.createElement("div",{className:"successTitle"},"Thanks for your interest!"),p.createElement("div",{className:"successContent"},"We'll drop you an email when we're launching Redfin in your area.")))}),(0,d.default)((0,u.default)(a),"_renderForm",function(){var e=a.props.serverError?a._renderServerErrorDialog():null,t=a.props.fields.email?p.createElement(m,(0,r.default)({type:"email"},a.props.fields.email,{placeholder:"redfin@redfin.com"})):null;return p.createElement("div",null,e,p.createElement(h,{className:"OutOfAreaSubForm",formName:"GeneralInquiryOutOfAreaSubForm"+a.props.formNameSuffix,announceFormUpdates:!0},p.createElement("p",{className:"outOfAreaMessage"},"Sorry, Redfin Agents and partners don't yet serve this area. Should we email you when we have agents here?"),t,p.createElement(f.default,{className:"submitBtn v3",size:"large",type:"primary",formSubmit:!0,disabled:a.props.requestInFlight},"Email Me")))}),(0,d.default)((0,u.default)(a),"handleSignIn",function(){window.location.href="/stingray/do/login?redirect-path="+encodeURIComponent(window.location)}),(0,d.default)((0,u.default)(a),"handleClickToRefresh",function(){window.location.reload(!0)}),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return this.props.successfulSubmit?this._renderSuccessMessage():this._renderForm()}}]),t}(p.Component);(0,d.default)(v,"displayName","inquiries.generalInquiries.GeneralInquiryOutOfAreaSubForm"),(0,d.default)(v,"defaultProps",{formNameSuffix:""}),e.exports=v},DT4l:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("HVn3")),i=n(a("LDFp")),o=n(a("pBXq"));i.default.ensure(a("tTYd"));var s=(0,r.default)(new o.default,{name:"BDXRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{ASK_BDX:{section:"ask_BDX"},ASK_BDX_DIALOG:{section:"ask_BDX_dialog"},ASK_BDX_COMMENT_DIALOG:{section:"ask_BDX_comment_dialog"},ASK_BDX_NAME_DIALOG:{section:"ask_BDX_name_dialog"},ASK_BDX_CONTACT_INFO_DIALOG:{section:"ask_BDX_contact_info_dialog"},ASK_BDX_FORM_SUCCESS:{section:"ask_BDX_form_success"}},clicks:{ASK_BDX_QUESTION_FIELD_CLICK:{section:"ask_BDX",target:"question_field"},ASK_BDX_QUESTION_BUTTON_CLICK:{section:"ask_BDX",target:"ask_question_button"},ASK_BDX_FOOTER_CLICK:{section:"ask_BDX_footer_CTA",target:"contact_builder_button"},ASK_BDX_DIALOG_CLOSE_CLICK:{section:"ask_BDX_dialog",target:"close_button"},ASK_BDX_COMMENT_DIALOG_COMMENT_CLICK:{section:"ask_BDX_comment_dialog",target:"comment_field"},ASK_BDX_COMMENT_DIALOG_NEXT_CLICK:{section:"ask_BDX_comment_dialog",target:"next_button"},ASK_BDX_FIRST_NAME_FIELD_CLICK:{section:"ask_BDX_name_dialog",target:"first_name_field"},ASK_BDX_LAST_NAME_FIELD_CLICK:{section:"ask_BDX_name_dialog",target:"last_name_field"},ASK_BDX_NAME_DIALOG_NEXT_CLICK:{section:"ask_BDX_name_dialog",target:"next_button"},ASK_BDX_EMAIL_FIELD_CLICK:{section:"ask_BDX_contact_info_dialog",target:"email_field"},ASK_BDX_PHONE_FIELD_CLICK:{section:"ask_BDX_contact_info_dialog",target:"phone_field"},ASK_BDX_POSTCODE_FIELD_CLICK:{section:"ask_BDX_contact_info_dialog",target:"postcode_field"},ASK_BDX_CONTACT_INFO_SUBMIT_CLICK:{section:"ask_BDX_contact_info_dialog",target:"submit_button"}}});t.default=s,e.exports=t.default},Dnv8:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("LDFp")),i=n(a("m7qm")),o=n(a("nbo3")),s=a("r2RK"),l=n(a("M6YI")),u=n(a("o5Zt")),c=n(a("mPm4")),d=n(a("gFdj")),f=n(a("vi92")),p=n(a("1RMg")),m=n(a("7AK6"));r.default.ensure(a("ppC3"),a("QLeL"),a("LIlq"),a("o01j"));var h=i.default.createStoreFactory({init:function(e){var t=this;if(e.deviceConfig!==g_deviceConfiguration.DESKTOP&&!p.default.isOff(p.default.feature.XDP_MOBILE_INTERSTITIAL_SECTION)){var a=l.default.getNumLdpViews();(0,s.serverSide)(function(){++a,l.default.setLdpViews(a)}),e.views=a;var n=m.default.getHasWidgetPromise("SimpleDrawerWidget").then(function(a){a||t.setUpInterstitial(e)}).catch(function(){t.setUpInterstitial(e)});this.setState({copDrawerPromise:n})}},setUpInterstitial:function(e){var t=this,a=!1,n=p.default.getVariant(p.default.feature.DP_SAVE_SEARCH_DRAWER_MWEB_V2);if("SAVE_SEARCH"===n){var r=new f.default(e);r.shouldShowDrawer&&(a=!0,this.setState({type:l.default.Types.SAVE_SEARCH_DRAWER,store:r}))}else{var i="Variant"===p.default.getVariant(p.default.feature.MW_INTERSTITIAL_SHEET_TEST),s=new u.default(e);s.shouldShow&&(n&&(a=!0),this.setState({type:l.default.Types.APP_INTERSTITIAL,store:s,merchProps:e.appInterstitialMerchPlacement,useDrawerStyle:i}))}if(a&&o.default.trackImpression("save_search_drawer_start"),p.default.isOn(p.default.feature.SDP_PDP_MERCH_EXPERIENCE)&&e.merchInterstititalMerchPlacement.then(function(a){if(a){e.isValidMerchInterstitial=d.default.isValidMerchWidget(a);var n=new c.default(e);n.shouldShow&&t.setState({type:l.default.Types.MERCH_INTERSTITIAL,store:n,merchProps:e.merchInterstititalMerchPlacement,useDrawerStyle:!1})}}),"Variant"===p.default.getVariant(p.default.feature.OWNER_ESTIMATE)){var m=new c.default(e);if(m.shouldShow){var h=l.default.Types.MERCH_INTERSTITIAL,g=m,_={promo_image:"/images/merch/listingFee/for-sale.png",title_text_line_1:"Thinking about selling?",title_text_line_2:"Sell your home for more, pay a 1% listing fee.",cta_text:"Yes, learn more",close_button_text:"Not now",sectionName:"one_percent_marketing_interstitial"},v="/sell-a-home/seller-consultation?inquirySource=".concat(g_inquirySource.OMDP_RSDP_LISTINGS_MERCH_PROMPT_AFTER_EDITS);e.propertyId&&(v+="&propertyId=".concat(e.propertyId)),_.cta_link=v,this.setState({type:h,store:g,merchProps:_,useDrawerStyle:!0})}}}});t.default=h,e.exports=t.default},DyRb:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.getClassSet=function(e,t){var a={};return(t.classes||[]).forEach(function(e){a[e]=!0}),(0,r.assign)(a,e),(0,s.default)(a)},t.shouldRunExperiment=l,t.isSellSide=u,t.trackImpressions=function(e,t){c(e,t,i.default.trackImpression.bind(i.default))},t.trackTargetsWithFunction=c,t.trackClick=d,t.trackClicks=function(e,t){c(e,t,d.bind(this))};var r=a("gZHp"),i=n(a("lQoP")),o=n(a("tGxv")),s=n(a("8Jek"));function l(e,t){return(!t||e.refParams.experimentRunning===t)&&e.refParams&&e.refParams.shouldRunExperimentCallback&&e.refParams.shouldRunExperimentCallback(u(e))}function u(e){return e.refParams&&e.refParams.sellSide||e.classes&&e.classes.indexOf("sellside")>-1}function c(e,t,a){t.forEach(function(t){t&&a(e,t)})}function d(e,t,a,n){(a=a||{}).side=u(n)?"sell":"buy",l(n)&&(a.cb_ref="true"),a[o.default.TRACKGA]=!0,i.default.trackClick(e,t,a)}},Dz38:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("mXGw")),d=n(a("W0B4")),f=n(a("4ppV")),p=n(a("ma35")),m=n(a("pBXq"));a("9NDK");var h=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).onPhoneClick=a.onPhoneClick.bind((0,s.default)(a)),a.onTextClick=a.onTextClick.bind((0,s.default)(a)),a.onCallClick=a.onCallClick.bind((0,s.default)(a)),a.onClosePhoneDialog=a.onClosePhoneDialog.bind((0,s.default)(a)),a.state={showPhoneDialog:!1},a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"convertPhoneNumberLinkToSmsLink",value:function(e){return e&&e.replace("tel:","sms:")}},{key:"propTypes",get:function(){return{phoneNumber:d.default.string.isRequired,phoneNumberUrl:d.default.string.isRequired,isMobile:d.default.bool.isRequired,riftTracker:d.default.instanceOf(m.default),riftParams:d.default.object,riftClickEvents:d.default.shape({linkClickEvent:d.default.object,textClickEvent:d.default.object,callClickEvent:d.default.object,dialogCloseEvent:d.default.object}),riftImpressionEvents:d.default.shape({dialogViewEvent:d.default.object})}}}]),(0,l.default)(t,[{key:"onPhoneClick",value:function(e){this.trackClickEvent(this.props.riftClickEvents&&this.props.riftClickEvents.linkClickEvent),this.props.isMobile&&(e.preventDefault(),this.props.riftTracker&&this.props.riftParams&&this.props.riftImpressionEvents&&this.props.riftImpressionEvents.dialogViewEvent&&this.props.riftTracker.trackImpression(this.props.riftImpressionEvents.dialogViewEvent,this.props.riftParams),this.setState({showPhoneDialog:!0}))}},{key:"onTextClick",value:function(){this.trackClickEvent(this.props.riftClickEvents&&this.props.riftClickEvents.textClickEvent)}},{key:"onCallClick",value:function(){this.trackClickEvent(this.props.riftClickEvents&&this.props.riftClickEvents.callClickEvent)}},{key:"onClosePhoneDialog",value:function(){this.trackClickEvent(this.props.riftClickEvents&&this.props.riftClickEvents.dialogCloseEvent),this.setState({showPhoneDialog:!1})}},{key:"trackClickEvent",value:function(e){this.props.riftTracker&&this.props.riftParams&&e&&this.props.riftTracker.trackClick(e,this.props.riftParams)}},{key:"render",value:function(){var e="Want to talk to someone? Call ".concat(this.props.phoneNumber);return c.default.createElement("a",{href:this.props.phoneNumberUrl,className:"phone-number TextOrCallPhoneLink","aria-label":e,"data-rf-test-name":"phone-number",onClick:this.onPhoneClick},this.props.phoneNumber,this.props.isMobile&&this.state.showPhoneDialog&&c.default.createElement(f.default,{className:"drawer no-title phone-dialog",close:this.onClosePhoneDialog,showCloseButton:!1,transitionAppear:!0},c.default.createElement("div",{className:"phone-dialog-content"},c.default.createElement(p.default,{href:t.convertPhoneNumberLinkToSmsLink(this.props.phoneNumberUrl),className:"button tertiary text-link",onClick:this.onTextClick},"Text"),c.default.createElement(p.default,{href:this.props.phoneNumberUrl,className:"button tertiary unpadded call-link",onClick:this.onCallClick},"Call"))))}}]),t}(c.default.Component);t.default=h,e.exports=t.default},EQKR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["redirectForTourWithAgent","showDirectAccessDialog","closeDirectAccessDialog","clickRedfinAppLink","sendRedfinAppLinkText","clickOpendoorAppLink","sendOpendoorAppLinkText"]);t.default=n,e.exports=t.default},F4Zs:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("NToG")),l=n(a("eef+")),u=n(a("mXGw")),c=n(a("8Jek")),d=n(a("4ppV")),f=n(a("ma35")),p=n(a("vH3W")),m=n(a("uiNS")),h=n(a("kjcz")),g=n(a("FzZH")),_=a("/1q3"),v=n(a("WQTj"));a("Yvmo");var y=function(e){function t(e){return(0,r.default)(this,t),(0,i.default)(this,(0,o.default)(t).call(this,e))}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"displayName",get:function(){return"WelcomeBackSurvey"}}]),(0,s.default)(t,[{key:"componentDidMount",value:function(){v.default.trackImpression(v.default.impressions.SPLASH_SCREEN),g.default.startSplashTimer()}},{key:"render",value:function(){if(!this.props.showDialog)return null;var e;switch(this.props.currentView){case _.DialogView.SPLASH_SCREEN:e=u.default.createElement(u.default.Fragment,null,this.renderSplashScreen(),this.renderFollowUpView());break;case _.DialogView.HOW_ELSE_HELP:e=this.renderFollowUpView();break;case _.DialogView.WHAT_DIDNT_WORK:e=this.renderWhatDidntWorkView();break;case _.DialogView.SORRY_TO_HEAR:e=this.renderSorryToHearView();break;default:e=null}var t=(0,c.default)("WelcomeBackSurvey",{isSplashScreen:this.props.currentView===_.DialogView.SPLASH_SCREEN});return u.default.createElement(d.default,{title:null,className:t,fullScreenOnMobile:!0,closeOnBackgroundClick:!1,showCloseButton:!1,close:this._handleDialogClose},e)}},{key:"_handleDialogClose",value:function(){v.default.trackClick(v.default.clicks.CLOSE_DIALOG),h.default.hideDialog()}},{key:"renderSplashScreen",value:function(){var e=(0,c.default)("splashScreen","font-size-large",{"fade-transition":this.props.doFadeTransition});return u.default.createElement("div",{className:"splashScreenContainer",onClick:g.default.skipSplashScreen},u.default.createElement("div",{className:e},u.default.createElement("p",{className:"font-weight-bold"},"Welcome back"),u.default.createElement("p",null,"We hope your first tour went well")))}},{key:"renderFollowUpView",value:function(){var e=this.props.agentData.leadAgentPhoneNumber,t=e?u.default.createElement("div",{className:"agentContact font-size-small margin-bottom-medium"},"You can always reach your agent at"," ",u.default.createElement("a",{href:"tel:".concat(e),onClick:this._handleAgentPhoneNumberClick},e)):null;return u.default.createElement("div",{className:"howElseHelp"},u.default.createElement("div",{className:"questions"},this.renderFollowUpMultiselectQuestion(),this.renderFollowUpTextareaQuestion()),u.default.createElement("div",{className:"problemWithAgent"},u.default.createElement("a",{tabIndex:"0",className:"clickable",onClick:this._handleHadProblemWithAgentClick.bind(this)},"I had a problem with my agent")),t,this._renderStickyFooter(u.default.createElement(u.default.Fragment,null,u.default.createElement(f.default,{className:"text",onClick:this._handleNotNowClick},"Not now"),u.default.createElement(f.default,{className:"primary",onClick:this._handleSubmitFollowUpClick.bind(this),disabled:!this._canSubmitFollowUp()},"Submit"))))}},{key:"_handleHadProblemWithAgentClick",value:function(){v.default.trackClick(v.default.clicks.HAD_PROBLEM_WITH_AGENT,{aa_tour:this.props.agentData.isAssociateAgent}),g.default.clickHadProblemWithAgent()}},{key:"_handleAgentPhoneNumberClick",value:function(){v.default.trackClick(v.default.clicks.AGENT_PHONE_NUMBER)}},{key:"_handleNotNowClick",value:function(){v.default.trackClick(v.default.clicks.NOT_NOW),h.default.hideDialog()}},{key:"_handleSubmitFollowUpClick",value:function(){var e=this.props.questionsData.howElseCanAgentHelpMultiselectQuestion,t=this.props.responsesByQuestionId[e.id]||{},a=Object.keys(t).map(function(e){return Number(t[e])}).reduce(function(e,t){return e+t},0);v.default.trackClick(v.default.clicks.SUBMIT_FOLLOWUP,{num_follow_ups:a}),g.default.submitFollowUpRequest()}},{key:"_canSubmitFollowUp",value:function(){if(this.props.requestInFlight)return!1;var e=this.props.questionsData.howElseCanAgentHelpMultiselectQuestion,t=this.props.responsesByQuestionId[e.id],a=t&&Object.keys(t).map(function(e){return t[e]}).reduce(function(e,t){return e||t},!1),n=this.props.questionsData.howElseCanAgentHelpTextQuestion,r=this.props.responsesByQuestionId[n.id],i=r&&r.trim();return a||i}},{key:"renderFollowUpMultiselectQuestion",value:function(){var e=this,t=this.props.questionsData.howElseCanAgentHelpMultiselectQuestion,a=this.props.responsesByQuestionId[t.id],n=t.options.filter(function(e){return e.value!==_.HOW_ELSE_HELP_SOMETHING_ELSE_OPTION_NAME}).map(function(t){var n=!!a&&a[t.value],r=(0,c.default)("unpadded",{selected:n});return u.default.createElement(f.default,{key:t.value,className:r,onClick:e._handleSelectFollowUpOption.bind(e,t.value,!n)},t.label)});return u.default.createElement("div",{className:"multiselectQuestion"},u.default.createElement("p",{className:"title"},t.title),u.default.createElement("p",{className:"subtitle"},"Select as many as you'd like"),u.default.createElement("div",{className:"multiselectButtons"},n))}},{key:"_handleSelectFollowUpOption",value:function(e,t){v.default.trackClick(v.default.clicks.SELECT_FOLLOWUP_OPTION,{option_name:e,selected:t}),g.default.selectFollowUpOption(e,t)}},{key:"renderFollowUpTextareaQuestion",value:function(){var e=this.props.questionsData.howElseCanAgentHelpTextQuestion,t=this.props.responsesByQuestionId[e.id];return u.default.createElement("div",{className:"textareaQuestion margin-top-smaller"},u.default.createElement("p",null,"Anything else?"),u.default.createElement(p.default,{value:t,placeholder:"Enter a note",onChange:function(e){return g.default.followUpTextQuestionTextChange(e.value)},rows:2}))}},{key:"_canSubmitWhatDidntWork",value:function(){if(this.props.requestInFlight)return!1;var e=this.props.questionsData.whatDidntWorkMultiselectQuestion,t=this.props.responsesByQuestionId[e.id],a=t&&Object.keys(t).map(function(e){return t[e]}).reduce(function(e,t){return e||t},!1),n=this.props.questionsData.whatDidntWorkTextQuestion,r=this.props.responsesByQuestionId[n.id],i=r&&r.trim();return a||i}},{key:"renderWhatDidntWorkView",value:function(){var e=this.props.agentData.agentPhotoUrl,t=e?u.default.createElement("div",{className:"agentImage"},u.default.createElement(m.default,{src:e})):null;return u.default.createElement("div",{className:"whatDidntWork"},t,u.default.createElement("div",{className:"questions"},this.renderWhatDidntWorkMultiselectQuestion(),this.renderWhatDidntWorkTextQuestion()),this._renderStickyFooter(u.default.createElement(u.default.Fragment,null,u.default.createElement(f.default,{className:"text",onClick:this._handleBackToFollowUpViewClick},"Back"),u.default.createElement(f.default,{className:"primary",disabled:!this._canSubmitWhatDidntWork(),onClick:this._handleSubmitWhatDidntWorkClick},"Submit"))))}},{key:"_handleBackToFollowUpViewClick",value:function(){v.default.trackClick(v.default.clicks.BACK_TO_FOLLOWUP_SCREEN),g.default.backToFollowUpView()}},{key:"_handleSubmitWhatDidntWorkClick",value:function(){v.default.trackClick(v.default.clicks.SUBMIT_AGENT_PROBLEM),g.default.submitWhatDidntWork()}},{key:"renderWhatDidntWorkMultiselectQuestion",value:function(){var e=this,t=this.props.questionsData.whatDidntWorkMultiselectQuestion,a=this.props.responsesByQuestionId[t.id],n=t.options.map(function(t){var n=!!a&&a[t.value],r=(0,c.default)("unpadded",{selected:n});return u.default.createElement(f.default,{key:t.value,className:r,onClick:e._handleSelectWhatDidntWorkOption.bind(e,t.value,!n)},t.label)});return u.default.createElement("div",{className:"multiselectQuestion"},u.default.createElement("p",{className:"title"},t.title),u.default.createElement("p",{className:"subtitle"},"Select all that apply"),u.default.createElement("div",{className:"multiselectButtons"},n))}},{key:"_handleSelectWhatDidntWorkOption",value:function(e,t){v.default.trackClick(v.default.clicks.SELECT_PROBLEM_OPTION,{option_name:e,selected:t}),g.default.selectWhatDidntWorkOption(e,t)}},{key:"renderWhatDidntWorkTextQuestion",value:function(){var e=this.props.questionsData.whatDidntWorkTextQuestion,t=this.props.responsesByQuestionId[e.id];return u.default.createElement("div",{className:"textareaQuestion margin-top-large margin-bottom-medium"},u.default.createElement("p",{className:"margin-bottom-small"},e.title),u.default.createElement(p.default,{value:t,placeholder:"Enter a note",onChange:function(e){return g.default.whatDidntWorkTextQuestionTextChange(e.value)},rows:2}))}},{key:"renderSorryToHearView",value:function(){return u.default.createElement("div",{className:"sorryToHear"},u.default.createElement("p",{className:"title"},"We're sorry to hear about your experience"),u.default.createElement("p",{className:"margin-top-large margin-bottom-largest"},"We care deeply about your experience on tour. A Redfin manager will reach out to hear more about how we can offer better service."),this._renderStickyFooter(u.default.createElement(f.default,{className:"primary",onClick:g.default.clickDone},"Done")))}},{key:"_renderStickyFooter",value:function(e){return u.default.createElement("div",{className:"stickyFooter"},u.default.createElement("div",{className:"buttons"},e))}}]),t}(u.default.Component);t.default=y,e.exports=t.default},FCEn:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return i.default.createElement(o.default,(0,r.default)({},e,{disclaimer:l}))},t.SellToBuyIncentiveDisclaimerBody=void 0;var r=n(a("8VmE")),i=n(a("YAhj")),o=n(a("ZmJK")),s=n(a("MO72")),l=i.default.createElement(i.default.Fragment,null,i.default.createElement("p",null,(0,s.default)("ONE_PERCENT_SELL_TO_BUY_INCENTIVE_MARKET")),i.default.createElement("br",null),i.default.createElement("p",null,(0,s.default)("TERMS_AND_CONDITIONS")));t.SellToBuyIncentiveDisclaimerBody=l},"FGq/":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("NToG")),c=n(a("eef+")),d=n(a("W0B4")),f=a("mXGw"),p=n(a("Uq5t")),m=n(a("M6YI")),h=n(a("bSdT")),g=n(a("ma35")),_=a("aKSz");a("AVjo");var v=function(e){function t(e){var a;(0,i.default)(this,t),a=(0,o.default)(this,(0,s.default)(t).call(this,e));var n=e.riftParams?(0,r.default)({},e.riftParams):null;return n&&(n.os=e.os),a.riftTracker=new h.default("app_install_interstitial",n),a.appButtonClicked=a.appButtonClicked.bind((0,l.default)(a)),a.closeButtonClicked=a.closeButtonClicked.bind((0,l.default)(a)),a.overlayClicked=a.overlayClicked.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{hidden:d.default.bool,os:d.default.string,deviceConfig:d.default.number,title_text_line_1:d.default.string,title_text_line_2:d.default.string,cta_text:d.default.string,continue_to_mobile_site_text:d.default.string,riftParams:d.default.object}}},{key:"defaultProps",get:function(){return{title_text_line_1:"See new listings faster",title_text_line_2:"Get the Redfin app for your",cta_text:"Download the app",continue_to_mobile_site_text:"No thanks"}}}]),(0,u.default)(t,[{key:"render",value:function(){return React.createElement(_.CSSTransitionGroup,{component:"div",className:"dialogsContainer",transitionName:"drawer-slide",transitionAppear:!1,transitionEnter:!1,transitionLeave:!0,transitionLeaveTimeout:200,tabIndex:"-1","data-rf-test-name":"dialogsContainer"},this._renderUnderlay(),this._renderDrawer())}},{key:"_renderUnderlay",value:function(){return this.props.hidden?null:React.createElement("div",{className:"AppDrawerInterstitialUnderlay",onClick:this.overlayClicked})}},{key:"_renderDrawer",value:function(){return this.props.hidden?null:React.createElement("div",{className:"AppDrawerInterstitialDialog",id:"mobileDPInterstitial"},React.createElement("div",{className:"drawer bg-color-white","data-rf-test-name":"AppDrawerInterstitial"},this._renderTopContent(),this._renderButtons()))}},{key:"_renderTopContent",value:function(){return React.createElement("div",{className:"topContent"},React.createElement("img",{className:"appDrawerInterstitialImage",src:g_imageServerUrl+"/images/search/apps/interstitial/faster-listings@2x.png"}),this._renderTitle())}},{key:"_renderTitle",value:function(){var e=this.props.title_text_line_1,t="".concat(this.props.title_text_line_2," ").concat(this.props.deviceConfig===g_deviceConfiguration.PHONE?"phone":"tablet",".");return React.createElement("div",{className:"titleContainer"},React.createElement("p",{className:"title heading-medium margin-bottom-medium"},e),React.createElement("p",{className:"subtitle font-size-small"},t))}},{key:"_renderButtons",value:function(){return React.createElement("div",{className:"buttonContainer"},React.createElement("div",{className:"openInBrowserButton"},React.createElement("a",{className:"link",onClick:this.closeButtonClicked},this.props.continue_to_mobile_site_text)),React.createElement(g.default,{type:"primary",size:"compact",onClick:this.appButtonClicked,className:"openInAppButton v3"},this.props.cta_text))}},{key:"componentDidMount",value:function(){m.default.setLdpViews(0),m.default.hideForTimePeriod(3),this.riftTracker.trackImpression(),this.props.hidden||(this.bodyPosition=document.body.style.position,document.body.style.position="fixed")}},{key:"appButtonClicked",value:function(){this.riftTracker.trackClick("open_in_app_button"),p.default.continueInApp()}},{key:"closeButtonClicked",value:function(){this.riftTracker.trackClick("close_button"),p.default.continueInBrowser(),document.body.style.position=this.bodyPosition||""}},{key:"overlayClicked",value:function(){this.riftTracker.trackClick("overlay"),p.default.continueInBrowser(),document.body.style.position=this.bodyPosition||""}}]),t}(f.Component);t.default=v,e.exports=t.default},FzZH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["startSplashTimer","skipSplashScreen","selectFollowUpOption","followUpTextQuestionTextChange","submitFollowUpRequest","clickHadProblemWithAgent","selectWhatDidntWorkOption","whatDidntWorkTextQuestionTextChange","backToFollowUpView","submitWhatDidntWork","clickDone"]);t.default=n,e.exports=t.default},G4xM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("sXLI");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},GWUO:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("8VmE")),i=n(a("LDFp"));i.default.ensure(a("tTYd"));var o=a("pBXq").default,s=(0,r.default)(new o,{name:"DPRedfinEstimateRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{REDFIN_ESTIMATE_SECTION:{section:"redfin_estimate",target:""},GRAPH:{section:"redfin_estimate",target:"graph"},TRACK_ESTIMATE_BUTTON:{section:"redfin_estimate",target:"home_report_subscribe_button"}},clicks:{ESTIMATE_FLYOUT:{section:"redfin_estimate",target:"estimate_flyout_link"},FLYOUT_ACCURACY_LINK:{section:"estimate_flyout",target:"estimate_flyout_accuracy_link"},FLYOUT_AGENT_LINK:{section:"estimate_flyout",target:"estimate_flyout_agent_link"},FLYOUT_FEEDBACK_LINK:{section:"estimate_flyout",target:"estimate_flyout_feedback_link"},ONE_YEAR_CLICK:{section:"redfin_estimate",target:"graph_one_year_button"},FIVE_YEAR_CLICK:{section:"redfin_estimate",target:"graph_five_year_button"},DISMISS_REFUND_FLYOUT:{section:"address_banner_refund_flyout",target:"dismiss_link",expectedParams:["auto_shown"]},HOME_REPORT_SUBSCRIBE_BUTTON:{section:"address_banner",target:"home_report_subscribe_button"},HOME_REPORT_DASHBOARD_BUTTON:{section:"address_banner",target:"view_owner_dashboard"},GRAPH:{section:"redfin_estimate",target:"graph"},TRACK_ESTIMATE_BUTTON:{section:"redfin_estimate",target:"home_report_subscribe_button"},EXPAND_GRAPH:{section:"redfin_estimate",target:"show_history"},CREATE_OWNER_ESTIMATE:{section:"redfin_estimate",target:"create_owner_estimate"},SHOW_COMPARABLES_LINK:{section:"redfin_estimate",target:"show_comparables_link"}}});e.exports=s},GsRH:function(e,t,a){},GzJY:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("YAhj")),d=n(a("8Jek")),f=n(a("W0B4")),p=n(a("luvc")),m=n(a("ma35")),h=n(a("LAaD")),g=n(a("lQoP")),_=n(a("Ngbo")),v=n(a("PgSJ")),y=n(a("7SUW")),S=n(a("WqrT")),E=n(a("1RMg")),I=n(a("LDFp"));a("tJYC"),a("SPF9"),I.default.ensure(a("yBCU"));var T=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,i.default)(this,(0,o.default)(t).call(this))).state={},e.state.isClient=!1,e.onClickButton=e.onClickButton.bind((0,s.default)(e)),e.onClickLogo=e.onClickLogo.bind((0,s.default)(e)),e.initializeCTADisclaimerExperiment(),e.onClickDefinitionLink=e.onClickDefinitionLink.bind((0,s.default)(e)),e.onShowDefinitionFlyout=e.onShowDefinitionFlyout.bind((0,s.default)(e)),e.onClickOfferRange=e.onClickOfferRange.bind((0,s.default)(e)),e.onClickLabel=e.onClickLabel.bind((0,s.default)(e)),e}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{propertyId:f.default.number,deviceCategory:f.default.string,title:f.default.string,message:f.default.string,actionTitle:f.default.string,address:f.default.string,actionLink:f.default.string,estimate:f.default.object,isPrimaryCTA:f.default.bool}}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.state.isClient=!0}},{key:"render",value:function(){var e=(0,d.default)({RedfinNowCTA:!0,CashOfferCTA:!0,SecondaryCTA:!this.props.isPrimaryCTA}),t=this.props.isPrimaryCTA?"primary":"tertiary";return c.default.createElement(h.default,{section:"redfinnow_contact_box",target:"",eventDetails:{device_category:this.props.deviceCategory,propertyId:this.props.propertyId}},c.default.createElement("div",{className:e,"data-rf-test-name":"redfinNowCTA"},c.default.createElement("div",{className:"cash-offer-cta-content-wrapper"},c.default.createElement("img",{className:"logo",alt:"RedfinNow",onClick:this.onClickLogo,src:"".concat(g_imageServerUrl,"/images/redfinnow/redfinnow-logo.png")}),this._renderMessage(),this._renderOffer()),c.default.createElement(m.default,{type:t,className:"v3",onClick:this.onClickButton},this.props.actionTitle)))}},{key:"_renderOffer",value:function(){return this.props.address?c.default.createElement("span",null,this._renderAddress(),this._showLabelAboveOfferRange()&&this._renderEstimateLabelClickable(),c.default.createElement("span",{className:"range"},this._renderRange()),!this._showLabelAboveOfferRange()&&this._renderEstimateLabel()):c.default.createElement("span",null,c.default.createElement("img",{className:"blurred-value",alt:"Blurred Value",src:"".concat(g_imageServerUrl,"/images/redfinnow/blurred-value@3x.png")}),c.default.createElement("div",{className:"your-offer"},"Your Home Offer"))}},{key:"_renderEstimateLabel",value:function(){return c.default.createElement("div",{className:"your-offer-label"}," Estimated Offer Range ")}},{key:"_renderEstimateLabelClickable",value:function(){return c.default.createElement("div",{className:"your-offer-label clickable",onClick:this.onClickLabel}," Estimated offer range ")}},{key:"_renderMessage",value:function(){return c.default.createElement("div",{className:"disclaimer-flyout"},c.default.createElement("div",{className:"cash-offer-content"},"Sell to ",c.default.createElement("span",null),c.default.createElement(S.default,{position:"below",alignment:"right",definitionLink:"/now/disclaimer",openLinkInNewTab:!0,definition:"RedfinNow is a separate company, owned by Redfin. Agents representing RedfinNow do not represent sellers in the sale of their homes. Not all homes are eligible to be purchased by RedfinNow. ",onClickDefinitionLink:this.onClickDefinitionLink,onShowDefinitionFlyout:this.onShowDefinitionFlyout,moreInfoText:"Learn More."}," RedfinNow"),", hassle-free.",c.default.createElement("br",null),"No repairs, showings or uncertainty."))}},{key:"_renderAddress",value:function(){return this._isShowingRangeForClaimedHomeNotViewed()?c.default.createElement(h.default,{section:"redfinnow_contact_box",target:"address_line"},c.default.createElement("div",{className:"address"}," ",this.props.address," ")):null}},{key:"_isShowingRangeForClaimedHomeNotViewed",value:function(){return this.props.estimate.propertyId&&this.props.estimate.propertyId!==this.props.propertyId}},{key:"_showLabelAboveOfferRange",value:function(){return E.default.isOn(I.default.REDFINNOW_OMDP_RANGE_LABEL_NOV_2018)&&"Variant"===E.default.getVariant(I.default.REDFINNOW_OMDP_RANGE_LABEL_NOV_2018)}},{key:"_renderRange",value:function(){if(this.props.estimate&&this.state.isClient){var e=(0,d.default)("offer","clickable",{small:this.props.estimate.offerRangeHigh>=1e6});return c.default.createElement("div",{className:e,onClick:this.onClickOfferRange},v.default.formatPrice(this.props.estimate.offerRangeLow)," - ",v.default.formatPrice(this.props.estimate.offerRangeHigh))}return c.default.createElement(_.default,{className:"loadingSpinner"})}},{key:"initializeCTADisclaimerExperiment",value:function(){var e=new y.default,t=(0,p.default)("screen-size")<p.default.screenSizes.MEDIUM;e.initialize({experimentId:t?E.default.feature.REDFIN_NOW_PDP_DISCLAIMER_MOBILE_MAY_2018:E.default.feature.REDFIN_NOW_PDP_DISCLAIMER_DESKTOP_MAY_2018,gaExperimentId:t?"ewN2WjPbR92Tn5xxq-LsbA":"dnstdMcmTRyfvn5TexN4Kg"})}},{key:"onShowDefinitionFlyout",value:function(){g.default.trackClick("redfinnow_contact_box","redfinnow_disclaimer_flyout")}},{key:"onClickDefinitionLink",value:function(){g.default.trackClick("redfinnow_contact_box","redfinnow_disclaimer_learn_more")}},{key:"onClickButton",value:function(){this.onClickCta("redfinnow_cta")}},{key:"onClickLogo",value:function(){var e={device_category:this.props.deviceCategory,propertyId:this.props.propertyId};g.default.trackClick("redfinnow_contact_box","redfinnow_logo",e),this.onClickCta("redfinnow_logo")}},{key:"onClickOfferRange",value:function(){this.onClickCta("redfinnow_offer_range_link")}},{key:"onClickLabel",value:function(){this.onClickCta("redfinnow_offer_range_label")}},{key:"onClickCta",value:function(e){var t=this._isShowingRangeForClaimedHomeNotViewed()?this.props.estimate.propertyId:null,a={device_category:this.props.deviceCategory,propertyId:this.props.propertyId,claimedPropertyId:t};a[g.default.TRACKGA]=!0,g.default.trackClick("redfinnow_contact_box",e,a),window.location.href=this.props.actionLink}}]),t}(c.default.Component);t.default=T,e.exports=t.default},"H+kC":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("NToG")),l=n(a("eef+")),u=n(a("W0B4")),c=a("mXGw"),d=n(a("Iz7Y")),f=n(a("8Jek")),p=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).state={isSmallWidth:!1},a}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"getComponentDependencies",value:function(){return{dependencies:["isLandingSession","addressSectionInfo","homeDetailsPageHeaderInfo"],clientDependencies:["pageLoadComplete"]}}},{key:"getPageLayoutClassName",value:function(){return"force-sm-fullPageWidth force-md-fullPageWidth"}},{key:"displayName",get:function(){return"NavigationBarSection"}},{key:"propTypes",get:function(){return{className:u.default.string,addressSectionInfo:u.default.object,deviceConfig:u.default.number,linksToShow:u.default.arrayOf(u.default.string),linksToShowSmallWidth:u.default.arrayOf(u.default.string)}}},{key:"defaultProps",get:function(){return{linksToShow:[],linksToShowSmallWidth:[]}}}]),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.homeDetailsPageHeaderInfo&&this.props.homeDetailsPageHeaderInfo.cityUrl,t=this.props.isLandingSession&&this.state.isSmallWidth?this.props.linksToShowSmallWidth:this.props.linksToShow,a=(0,f.default)({Section:!0,FixedHeader:!0,"white-bg":this.props.deviceConfig===g_deviceConfiguration.DESKTOP}),n=(0,f.default)({sectionContainer:!0,NavigationBarSection:!0,"nb-section-back-to-search":this.props.isLandingSession});return React.createElement("div",{className:a},React.createElement("div",{ref:"containerNode",className:n},React.createElement(d.default,{addressSectionInfo:this.props.addressSectionInfo,pageLoadComplete:this.props.pageLoadComplete,deviceConfig:this.props.deviceConfig,linksToShow:t,isLandingSession:this.props.isLandingSession,inNavigationBarVariant:!1,cityUrl:e})))}}]),t}(c.Component);t.default=p,e.exports=t.default},HQal:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("cXUB")),i=n(a("eoGF")),o=a("wIt4");e.exports={getPageInfo:function(e){if(!e||!e.propertyId)throw new Error("propertyId undefined");return(0,r.default)(i.default.get("/stingray/do/api/owner/get-info?propertyId="+e.propertyId)).then(function(e){return e},function(e){throw new Error(e)})},verifyAndAddOwner:function(e){if(!e||!e.propertyId||!e.owner)throw new Error("propertyId or owner undefined");return(0,r.default)(i.default.post("/stingray/do/api/owner/verify",{timeout:2e4,data:e})).then(function(e){return e},function(e){throw new Error(e)})},altVerifyAndAddOwner:function(e){if(!e||!e.propertyId)throw new Error("propertyId undefined");return(0,r.default)(i.default.post("/stingray/do/api/owner/verify-via-alternate-email",{timeout:2e4,data:e})).then(function(e){return e},function(e){throw new Error(e)})},sendVerificationEmail:function(e){if(!e||!e.propertyId)throw new Error("propertyId undefined");return(0,r.default)(i.default.post("/stingray/do/api/owner/send-verification-email",{timeout:2e4,data:e})).then(function(e){return e},function(e){throw new Error(e)})},verifyEmail:function(e){if(!e||!(e.email||e.token&&e.loginId))throw new Error("email or token and loginId undefined");return(0,o.getEndpoint)("/stingray/do/api/verify-email",e).then(function(e){if(!e)throw new Error("empty response");return e},function(e){throw new Error(e)})}}},HjEf:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("8VmE")),i=n(a("LDFp"));i.default.ensure(a("tTYd")),i.default.ensure(a("uTPd")),i.default.ensure(a("AsTD"));var o=a("pBXq").default,s=(0,r.default)(new o,{name:"CostOfOwnershipRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP,i.default.OMDP_COST_OF_OWNERSHIP_MWEB,i.default.OMDP_COST_OF_OWNERSHIP_DESKTOP],trackAllEventsInGA:!0,impressions:{COST_OF_OWNERSHIP_DESKTOP_START:{section:"cost_ownership_desktop",target:null},COST_OF_OWNERSHIP_MWEB_START:{section:"cost_ownership_mweb",target:null},COST_OF_OWNERSHIP:{section:"cost_ownership",target:null},RATES_CAROUSEL:{section:"cost_ownership_refi",target:"rates_carousel",expectedParams:["num_results","loan_balance","loan_type"]},CUSTOMIZE_CALCULATIONS:{section:"cost_ownership_calculations",target:null}},clicks:{CUSTOMIZE_CALCULATION:{section:"cost_ownership",target:"customize_calculation"},REFI_EXPAND:{section:"cost_ownership_refi",target:"expand"},RATES_CAROUSEL_LEFT:{section:"cost_ownership_refi",target:"rates_carousel_left"},RATES_CAROUSEL_RIGHT:{section:"cost_ownership_refi",target:"rates_carousel_right"},PRE_QUALIFIED:{section:"cost_ownership_refi",target:"rates_carousel_get_prequalified_cta",expectedParams:["rank"]},AD_DISCLOSURE:{section:"cost_ownership_refi",target:"advertiser_disclosure"},BROWSE_ALL_RATES:{section:"cost_ownership_refi",target:"browse_all_rates"},SHOULD_I_REFINANCE:{section:"cost_ownership_refi",target:"should_i_refinance"},CHANGE_PRINCIPAL:{section:"cost_ownership_calculations",target:"change_principal",expectedParams:["new_value"]},CHANGE_INTEREST_RATE:{section:"cost_ownership_calculations",target:"change_interest_rate",expectedParams:["new_value"]},CHANGE_LOAN_TYPE:{section:"cost_ownership_calculations",target:"change_loan_type",expectedParams:["new_value"]},CHANGE_ORIGINATION_YEAR:{section:"cost_ownership_calculations",target:"change_origination_year",expectedParams:["new_value"]},CHANGE_PROPERTY_TAXES:{section:"cost_ownership_calculations",target:"change_property_taxes",expectedParams:["new_value"]},CHANGE_HOA_DUES:{section:"cost_ownership_calculations",target:"change_hoa_dues",expectedParams:["new_value"]},CHANGE_HOMEOWNERS_INSURANCE:{section:"cost_ownership_calculations",target:"change_insurance",expectedParams:["new_value"]},CHANGE_UTILS_AND_MAINTENANCE:{section:"cost_ownership_calculations",target:"change_utilities_maintenance",expectedParams:["new_value"]},RESET:{section:"cost_ownership_calculations",target:"reset_calculations"},SAVE:{section:"cost_ownership_calculations",target:"save",expectedParams:["principal","interest_rate","loan_type","origination_year","property_taxes","hoa_dues","insurance","utilities_maintenance"]}}});e.exports=s},Hskl:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("8VmE")),o=r(a("gki9")),s=r(a("SDJZ")),l=r(a("K4DB")),u=r(a("+IV6")),c=r(a("NToG")),d=r(a("eef+")),f=n(a("mXGw")),p=r(a("W0B4")),m=r(a("k0p8")),h=r(a("0nmb")),g=r(a("MdtB")),_=a("JowJ"),v=r(a("HKXw"));a("bXzE");var y=function(e){function t(e){return(0,s.default)(this,t),(0,l.default)(this,(0,u.default)(t).call(this,e))}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"propTypes",get:function(){return{removedShortlist:p.default.array.isRequired}}}]),(0,c.default)(t,[{key:"_getPhotoInfo",value:function(e){return(0,_.buildPhotoInfo)((0,o.default)({},e,{mlsId:e.mlsId&&e.mlsId.value?e.mlsId.value:e.mlsId,listingPhotoType:g_listingPhotoType.BEST_FIT_CROPPED_SMALL,dirpyCode:"genDesktopMapHomeCardUrl",noPhotoImage:"".concat(g_imageServerUrl,"/images/homecard/ghosttown-640x350.png"),allowPagination:!1,vowCardNoText:!0}))}},{key:"_getPriceInfo",value:function(e){return(0,_.buildPriceInfo)(e.priceInfo,e.listingType)}},{key:"_getAddressInfo",value:function(e){return{streetAddressDisplay:(0,_.getStreetAddressDisplay)(e.streetAddress),city:e.city,state:e.state,zip:e.zip}}},{key:"_onAddHome",value:function(e){g.default.trackClick(g.default.clicks.EDIT_FULL_SHORTLIST_ADD_HOME,{property_id:e.homeCardData.propertyId}),v.default.addToShortlist(e.homeCardData.propertyId)}},{key:"_renderRemovedShortlistHomeCards",value:function(){var e=this;if(this.props.removedShortlist&&this.props.removedShortlist.length>0)return this.props.removedShortlist.map(function(t){return f.default.createElement("div",{className:"removed-shortlist-minihomecard"},f.default.createElement(h.default,(0,i.default)({key:t.homeCardData.propertyId,photoInfo:e._getPhotoInfo(t.homeCardData),priceInfo:e._getPriceInfo(t.homeCardData)},e._getAddressInfo(t.homeCardData))),f.default.createElement("div",{className:"removed-shortlist-icon-container"},f.default.createElement(m.default,{className:"removed-shortlist-add-icon fill-link",onClick:function(){return e._onAddHome(t)}})))})}},{key:"_shortlistState",value:function(){return this.props.removedShortlist&&this.props.removedShortlist.length>0?"removed-shortlisted-homes":"ghostTownState"}},{key:"render",value:function(){return f.default.createElement("div",{className:"RemovedShortlistView"},f.default.createElement("p",{className:"removed-from-shortlist-title font-size-base font-weight-bold"},"Removed From Shortlist"),f.default.createElement("div",{className:this._shortlistState()},this._renderRemovedShortlistHomeCards()))}}]),t}(f.Component);t.default=y,e.exports=t.default},"I+M3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)({createNewCommute:{},deleteCommute:{},showRoutes:{sync:!0},autoCompleteSetupDone:{},setUpCommuteDisplay:{sync:!0},autoCompletePlaceChanged:{},openForm:{},updateCommute:{}});t.default=n,e.exports=t.default},IIb6:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("5WRv")),i=n(a("gki9")),o=n(a("SDJZ")),s=n(a("NToG")),l=n(a("RqPZ")),u=n(a("eeCi")),c=n(a("w451")),d=(n(a("ixHX")),n(a("LDFp"))),f=n(a("BEQQ")),p=n(a("LOBS")),m=n(a("RPzR")),h=n(a("cXUB")),g=n(a("fnAH")),_=n(a("8Llx")),v=n(a("1RMg")),y=a("cMqt"),S=a("yecV"),E=n(a("ZpgJ")),I=n(a("bDWC")),T=a("BBj3"),C=a("I5FW"),b=a("w3Q5"),A=a("9gn6"),k=a("JMoV"),N=a("Y5+Z"),O=n(a("yFtP")),D=n(a("URCo")),R=n(a("KSYk")),P=n(a("u8eL")),w=n(a("O0Qs")),B=n(a("WSab")),x=n(a("YTB8")),L=n(a("7AK6")),M=n(a("9HDk")),F=n(a("ejoL")),U=n(a("9MsF")),H=n(a("oRxw")),G=n(a("kYNJ")),W=n(a("EjNz")),q=n(a("lVH2")),V=a("ljGd"),X=n(a("CrGq")),K=a("bqcM"),j=a("cxWw"),Y=n(a("/+pK")),z=a("yfTy"),Q=a("S8r/");a("qQfZ"),d.default.ensure(a("g752"),a("gsk5"),a("CdJi"),a("fdt2"),a("ARUb"),a("Cmlf"),a("TnbX"));var J={IDEAL:"IdealTestWidth",COMPROMISE:"CompromiseTestWidth"},Z=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"setConfigValues",value:function(){return{shouldSkipUniversalBodyClasses:!0,xdpHeaderMinWidth:!0,statsdSampleRate:.01,refreshAfterLogin:!0}}},{key:"handleRoute",value:function(e){var t=this,a=this.getRequest(),n=a.getQuery(),r=n.referrer;"featured-listing"===r&&W.default.setRiftParams({referrer:r}),P.default.setBundleName(this.getBundleName()),X.default.setFirstMeaningfulPaintId("img-card"),this.getDelayLoadedBundleName&&P.default.addHeadStylesheetForChunk({bundleName:this.getDelayLoadedBundleName()}),this._initialStore=(0,N.createHomeDetailsInitialStoreFromRequest)(a);var o=h.default.defer();return h.default.all([B.default.whenReady(),this._initialStore.when("urlData"),this._initialStore.when("primaryRegionInfo")]).then(function(){var a=t._initialStore.state.urlData,r=t._initialStore.state.primaryRegionInfo;if(a){t.isEligibleForSimilarsCarousel=v.default.isOn(v.default.feature.LDP_FB_LANDINGS_MOBILE_CAROUSEL)&&"1"===n[k.FB_SIMILAR]&&(a.pageType===g_detailsPageType.ACTIVE||a.pageType===g_detailsPageType.ACTIVE_PENDING)&&a.deviceConfig===g_deviceConfiguration.PHONE,te(a,t.isEligibleForSimilarsCarousel)&&G.default.setTurnOffSiteHeader();var s={listingId:a.listingId,propertyId:a.propertyId,dataSourceId:a.dataSourceId,accessLevel:_.default.accessLevel(),searchBoxStoreName:"XDPHeaderSearchBox",marketId:a.marketId,pageExperimentInfo:a.pageExperimentInfo||{},deviceConfig:a.deviceConfig,queryParams:n,businessMarkets:a.businessMarkets||[],primaryRegionInfo:{regionTableId:r.tableId||null,regionTypeId:r.regionType||null,mapPageTypeId:g_mapPageType.ROOT},pageType:a.pageType,isLandingSession:a.isLandingSession,mlsId:a.mlsId};v.default.isOn(f.default)&&(t._stateStore={navMenuStore:new R.default({canonicalUrl:"/property/"+a.propertyId})},G.default.setNavMenuStore(t._stateStore.navMenuStore)),E.default.setRiftPageType(a.riftPageType),I.default.addTag(a.riftPageType);var l=g_deviceConfiguration.idToObj[a.deviceConfig].displayName;I.default.addTag(l);var u=v.default.isOn(v.default.feature.XDP_PRELOAD_IMAGE)||n.hasOwnProperty("force_preloadImage");a.preloadImageUrl&&u&&(v.default.isOn(m.default)?w.default.setImageUrl((0,S.getWebpImageUrl)(a.preloadImageUrl)):w.default.setImageUrl(a.preloadImageUrl));var c=t.getPageStore();t._pageStore=new c(s),t._searchBoxStore=new O.default({userData:D.default.getCurrentUserData(),name:s.searchBoxStoreName,page:t.getRequest().getUrl(),isLoggedIn:_.default.isLoggedIn(),pageType:t.isMobile()?"m":"d"});var d=t._pageStore._endpointPromises.getHomeDetailsPageHeaderInfo.then(function(e){return(0,z.setLastDpRegionUrl)(e.cityUrl),e});if(t.isEligibleForSimilarsCarousel){var p=t._pageStore._endpointPromises.getSimilarsCarouselInfo,h=function(e){return!!e&&e.listings.homes.length>=3};G.default.setBackButtonVariantProps({showMobileLandingVariant:!!p&&p.then(h),backButtonName:d.then(function(e){return ne(e.cityName)}),backButtonUrl:d.then(function(e){return e.cityUrl}),searchBox:{show:!!p&&p.then(function(e){return!h(e)})}})}else a&&a.isLandingSession?G.default.setBackButtonVariantProps({backButtonName:"Search",backButtonUrl:d.then(function(e){return e.cityUrl})}):G.default.setBackButtonVariantProps((0,z.getLinkToPage)(parseInt((0,z.getLastNavCookie)(),10),{searchUrl:"#",defaultSearchUrl:d.then(function(e){return e.cityUrl}),shouldRerenderWithSearchUrl:!0}));t._pageStore.when("addressSectionInfo").then(function(e){var t=e.addressSectionInfo,a=t.beds,n=t.zip,r=t.priceInfo.amount,o=t.city;L.default.setWidgetContextData("SaveSearchBannerWidget",(0,i.default)({},s.primaryRegionInfo,{beds:a,zip:n,amount:r,city:V.CitySetter.formatCityName(o)}))}),V.CitySetter.setLastSearchedCity(t._pageStore._endpointPromises.getAboveTheFoldInfo.then(function(e){return V.CitySetter.formatCityName(e.addressSectionInfo.city)})),G.default.setSearchBoxStore(t._searchBoxStore);var y={property_id:s.propertyId};null!==s.listingId&&(y.listing_id=s.listingId),s.mlsId&&(y.mls_id=s.mlsId),s.dataSourceId&&(y.data_source_id=s.dataSourceId),void 0!==W.default&&W.default.setRiftParams&&W.default.setRiftParams(y),v.default.isOn(v.default.feature.MOBILE_XDP_APP_BANNER)&&(q.default.setDisplayBannerType(q.default.BannerTypes.APP_RATINGS),q.default.setLinkType(q.default.LinkTypes.XDP_LINK),q.default.setPropertyId(s.propertyId),q.default.setUseStickyBanner(!1)),U.default.setDisclaimers(t._pageStore.when("amenitiesInfo").then(function(){var e=t._pageStore.state.amenitiesInfo,a=[];return[g_countryCode.UNITED_STATES].indexOf((0,C.getCurrentCountryCode)())>=0&&a.push(H.default.GREAT_SCHOOLS_ATTRIBUTION()),e&&e.mlsDisclaimerInfo&&e.mlsDisclaimerInfo.showDisclaimerInFooter&&a.push(H.default.MLS_DISCLAIMER(e.mlsDisclaimerInfo)),a})),F.default.optInPageZoom(),e().then(function(){(0,T.setBusinessMarketCookies)({marketName:a.marketName,businessMarketIds:a.businessMarkets})}),t.beforeRouteResolution&&t.beforeRouteResolution(),o.resolve({code:a.returnCode,jsBelowTheFold:!0})}else g.default.log("something went wrong")}.bind(this)).catch(function(e){g.default.log("Something went really wrong - ".concat(e))}),o.promise}},{key:"getIncludeAmpLink",value:function(){var e=this,t=this._initialStore.state.urlData,a=h.default.defer();return h.default.all([this._initialStore.when("pageTagsInfo")]).then(function(){var n=(e._initialStore.state.pageTagsInfo||{}).linkTags,r=(0,Q.extractCanonicalUrlFromLinkTags)(n),i=e.getRequest().getUrl(),o=r==="".concat((0,K.getSecureWebServerUrl)()).concat(i),s=Y.default.get(g_dbBackedConfigKeys.AMP_SERVER_RESPONSE_STATUS),l=(0,j.isLizardsRequest)()&&v.default.isOn(v.default.feature.AMP_FORCED_301_TEST)&&-1!==[301,302,404,410].indexOf(s);a.resolve((0,A.isAmpEligible)(t)&&o&&!l||v.default.isOn(v.default.feature.AMP_AUTOMATION_TEST))}),a.promise}},{key:"getElements",value:function(){var e=this.getCommonDependencies(),t=this.extractAndRenderBundleSplittingMetadata(),a=this.renderCriticalComponents(e),n=this.renderDelayLoadedComponents(e),i=this.bundleSplittingMetadata.indexOfTheFold;return n.splice(i,0,React.createElement(y.TheFold,{key:"fold"})),[React.createElement(S.JSDetectionScript,null),t,React.createElement(y.RootContainer,{className:"criticalComponents pageComponentsContainer",key:"cc"},a)].concat((0,r.default)(n))}},{key:"extractAndRenderBundleSplittingMetadata",value:function(){var e=0,t=0,a=window?window._dpBundleSplittingMetadata:{},n=a.numDelayLoadedEntries;e=void 0===n?0:n;var r=a.indexOfTheFold;t=void 0===r?0:r,this.bundleSplittingMetadata={numDelayLoadedEntries:e,indexOfTheFold:t};var i="window._dpBundleSplittingMetadata=".concat(JSON.stringify(this.bundleSplittingMetadata),";");return React.createElement("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:i}})}},{key:"renderCriticalComponents",value:function(e){for(var t=[],a=this.getCriticalComponents(),n=0;n<a.length;++n){var r=a[n],i=this.renderCriticalComponentEntry(r,e,n);i&&t.push(i)}return t}},{key:"renderCriticalComponentEntry",value:function(e,t,a){var n=e.component,r=e.additionalProps,i=e.additionalDependencies,o=e.pageLayoutClassNameOverride;if(!n)return console.error("INVALID COMPONENT SPECIFIED FOR renderCriticalComponentEntry"),null;var s=(0,S.determineComponentDependencies)(n,t,i),l=s.dependencies,u=s.clientDependencies,c=(0,S.determineComponentPageLayoutClassName)(n,o),d="cc-".concat(a);return React.createElement(y.RootElement,{listen:this._pageStore.whenEmitter(l,u),className:c,key:d},React.createElement(n,r))}},{key:"renderDelayLoadedComponents",value:function(e){return this.renderDelayLoadedComponentsClient(e)}},{key:"renderDelayLoadedComponentsServer",value:function(e){for(var t=this.getDelayLoadedComponents(),a=[],n=0;n<t.length;++n){var r=t[n],i=this.renderDelayLoadedComponentEntry(r,e,n);a.push(i)}return a}},{key:"renderDelayLoadedComponentsClient",value:function(e){for(var t=this.bundleSplittingMetadata.numDelayLoadedEntries,a=[],n=0;n<t;++n){var r=this.renderDelayLoadedComponentEntryAsync(n,e);a.push(r)}return a}},{key:"renderDelayLoadedComponentEntryAsync",value:function(e,t){var a=this,n=h.default.defer();return this._pageStore.aboveTheFoldInteractivePromise.promise.then(function(){a.getDelayLoadedComponents().then(function(r){var i=r[e],o=a.renderDelayLoadedComponentEntry(i,t,e);n.resolve(o)})}),n.promise}},{key:"renderDelayLoadedComponentEntry",value:function(e,t,a){var n=e.component,r=e.additionalProps,i=e.additionalDependencies,o=e.pageLayoutClassNameOverride;if(!n)return console.error("INVALID COMPONENT SPECIFIED FOR renderDelayLoadedComponentEntry"),null;if(n===y.TheFold)return React.createElement("div",{key:"dlc-".concat(a)});var s=(0,S.determineComponentDependencies)(n,t,i),l=s.dependencies,u=s.clientDependencies,c=(0,S.determineComponentPageLayoutClassName)(n,o),d="dlc-".concat(a);return React.createElement(S.DelayLoadedComponentWrapper,{key:d,pageStore:this._pageStore,dependencies:l,clientDependencies:u,pageLayoutClassName:c},React.createElement(n,r))}},{key:"getCommonDependencies",value:function(){return["experimentStore","listingId","propertyId","dataSourceId","deviceConfig","queryParams"]}},{key:"getCriticalComponents",value:function(){if(this.getCriticalComponentsCalculator){var e=this.getCriticalComponentsCalculator();return this.computeEntries(e)}console.error("Tried to call HomeDetailsBasePage's getCriticalComponents with no import! This is NOT supported!")}},{key:"getDelayLoadedComponents",value:function(){var e=this,t=h.default.defer();return this.getDelayedComponentsOrderingCalculator().then(function(a){t.resolve(e.computeEntries(a))}),t.promise}},{key:"computeEntries",value:function(e){var t=this.getComponentOrderingConfigs(),a=e.computeComponents(t);return $(a)}},{key:"getTitle",value:function(){var e=this;return this._initialStore.when("pageTagsInfo").then(function(){var t=e._initialStore.state.pageTagsInfo;return t?t.pageTitle:""})}},{key:"getMetaTags",value:function(){var e=this;return this._initialStore.when("pageTagsInfo").then(function(){var t=e._initialStore.state.pageTagsInfo;return t?t.metaTags:[]})}},{key:"getLinkTags",value:function(){var e=this;return this._initialStore.when("pageTagsInfo").then(function(){var t=e._initialStore.state.pageTagsInfo;return t?t.linkTags:[]})}},{key:"getBodyClasses",value:function(){var e=this;return B.default.whenReady().then(function(){var t=["HomeDetailsPage"];if((t.push(e.isMobile()?"mobileDP":""),t.push(ae(e._initialStore.state.urlData)?"phoneForTablet":""),v.default.isOn(v.default.feature.ADJUST_DP_CONTENT_WIDTH))&&-1!==Y.default.get("ADJUST_DP_CONTENT_WIDTH_PAGETYPES").indexOf(e._initialStore.state.urlData.pageType)){var a=v.default.getVariant(v.default.feature.ADJUST_DP_CONTENT_WIDTH),n=J[a];n&&t.push(n)}return t})}},{key:"isMobile",value:function(){return this._pageStore?this._pageStore.state.deviceConfig===g_deviceConfiguration.PHONE:(console.error("Tried to access DP page store properties before the store was initialized!"),!1)}},{key:"getComponentOrderingConfigs",value:function(){var e=this._initialStore.state.urlData;return{hasAvm:e&&e.hasAvm,shouldShowHeader:te(e,this.isEligibleForSimilarsCarousel),isPropertyPage:e&&!e.listingId,deviceConfig:e&&e.deviceConfig,isRentalEstimateEligible:e&&(0,b.isRentalEstimateEligible)(e.marketId),isMoveBrokeragePlacementExperiment:v.default.isOn(p.default)&&"Variant"===v.default.getVariant(p.default)}}}],[{key:"middleware",value:function(){return[w.default,x.default,M.default]}}]),e}();t.default=Z;var $=function(e){var t=(0,c.default)(e,ee);return(0,u.default)(t,function(e){return e.shouldRender})},ee=function(e){(0,l.default)(e)&&(e={component:e});var t=e,a=t.component,n=t.additionalProps,r=void 0===n?{}:n,i=t.additionalDependencies,o=void 0===i?[]:i,s=t.shouldRender,u=void 0===s||s,c=t.pageLayoutClassNameOverride;return{component:a,additionalProps:r,additionalDependencies:o,shouldRender:u,pageLayoutClassNameOverride:void 0===c?null:c}},te=function(e,t){return!(!e||!e.isLandingSession||e.deviceConfig!==g_deviceConfiguration.PHONE||t||"VARIANT"===v.default.getVariant(v.default.feature.MOBILE_APP_NAVIGATION))},ae=function(e){return!!(e&&e.pageExperimentInfo&&e.pageExperimentInfo.eligibleForADPTabletRefresh)},ne=function(e){var t=!e||e.length>28;return"More ".concat(t?"Nearby":e," Homes")};e.exports=t.default},IqJ5:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("HVn3")),i=n(a("pBXq")),o=n(a("w46v")),s=(0,r.default)(new i.default,{name:"DatePickerDayRiftTracker",bouncerFlags:[o.default],trackAllEventsInGA:!1,impressions:{TODAY_TOMORROW:{section:"today_tomorrow_experiment",target:null}},trackImpressionWithDefaults:function(e,t,a){this.trackImpression(e,t,a)}});t.default=s,e.exports=t.default},Iz7Y:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NAVIGATION_LINKS_KEYS=void 0;var r=n(a("e+GP")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("NToG")),c=n(a("eef+")),d=n(a("OvAC")),f=n(a("T5cu")),p=n(a("KSAc")),m=n(a("W0B4")),h=a("mXGw"),g=n(a("xARA")),_=n(a("8Jek")),v=n(a("Ncjd")),y=n(a("D9Kd")),S=n(a("1RMg")),E=n(a("LDFp")),I=n(a("WMbM")),T=n(a("NXtq")),C=a("AYTD");a("sgmV"),E.default.ensure(a("kEDa"),a("2rLI"),a("wIvk"),a("umC9"),a("PkMz"),a("VleT"),a("MeyF"),a("/XKJ"),a("Mhib"),a("F40h"),a("s/K0"));var b=function(e,t,a){return{displayName:e,sectionId:t,riftClickEvent:T.default.clicks[a]}},A={OVERVIEW:b("Overview","overview","OVERVIEW"),AVM:b("Redfin Estimate","redfin-estimate","AVM"),AMENITIES:b("Property Details","property-details","PROPERTY_DETAILS"),AMENITIES_ALT:b("Listing Details","property-details","PROPERTY_DETAILS"),TOUR_INSIGHTS:b("Tour Insights","agent-insights","TOUR_INSIGHTS"),PROPERTY_HISTORY:b("Property History","property-history","PROPERTY_HISTORY"),PUBLIC_RECORDS:b("Public Facts","public-records","PUBLIC_RECORDS"),SCHOOLS:b("Schools","schools","SCHOOLS"),NEIGHBORHOOD_INFO:b("Neighborhood","neighborhood-info","NEIGHBORHOOD"),SIMILARS:b("Similar Homes","similar-homes","SIMILARS"),ENERGY_DATA:b("Energy Report","energy-data","ENERGY_REPORT")},k=(0,p.default)(Object.keys(A),Object.keys(A));t.NAVIGATION_LINKS_KEYS=k;var N=function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,o.default)(this,(0,s.default)(t).call(this,e)),(0,d.default)((0,l.default)(a),"_handleScroll",function(){for(var e=0;e<a.validNavigationBarElements.length;e++){var t=a.validNavigationBarElements[e];if((0,I.default)(t)){a.setState({currentSection:a.elementMap[t.id]});break}}}),a.state={currentSection:k.OVERVIEW},a.pageRenderCalled=!1,a.generateNavigationLinks=a.generateNavigationLinks.bind((0,l.default)(a)),a.generateMapCityLink=a.generateMapCityLink.bind((0,l.default)(a)),a._handleScroll=(0,f.default)(a._handleScroll.bind((0,l.default)(a)),500),a._handleIntersect=a._handleIntersect.bind((0,l.default)(a)),a.getDisplayableSections=a.getDisplayableSections.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"displayName",get:function(){return"NavigationBar"}},{key:"propTypes",get:function(){return{addressSectionInfo:m.default.object.isRequired,linksToShow:m.default.arrayOf(m.default.string),pageLoadComplete:m.default.bool,deviceConfig:m.default.number,isLandingSession:m.default.bool,inNavigationBarVariant:m.default.bool,cityUrl:m.default.string}}},{key:"defaultProps",get:function(){return{linksToShow:[],isLandingSession:!1,inNavigationBarVariant:!1,cityUrl:"/"}}}]),(0,u.default)(t,[{key:"componentDidUpdate",value:function(e){var t=this;!this.pageRenderCalled&&this.props.pageLoadComplete&&(this._onPageRendered(),this.pageRenderCalled=!0),!this.props.inNavigationBarVariant||"undefined"==typeof window||e.linksToShow.length===this.props.linksToShow.length&&e.linksToShow.every(function(e,a){return e===t.props.linksToShow[a]})||(this.removeScrollEvent(),this.setupScrollEvent())}},{key:"componentWillUpdate",value:function(e){var t=this;!this.props.inNavigationBarVariant||e.linksToShow.length===this.props.linksToShow.length&&e.linksToShow.every(function(e,a){return e===t.props.linksToShow[a]})||this.getDisplayableSections(e)}},{key:"componentDidMount",value:function(){this.props.inNavigationBarVariant&&"undefined"!=typeof window&&this.setupScrollEvent(),this.domNode=g.default.findDOMNode(this),this.props.inNavigationBarVariant&&this.props.isLandingSession&&T.default.trackImpression(T.default.impressions.BACK_TO_SEARCH)}},{key:"componentWillUnmount",value:function(){this.props.inNavigationBarVariant&&"undefined"!=typeof window&&this.removeScrollEvent()}},{key:"UNSAFE_componentWillMount",value:function(){this.displayableSections||this.getDisplayableSections(this.props)}},{key:"render",value:function(){if(this.props.deviceConfig===g_deviceConfiguration.PHONE)return null;var e=(0,_.default)({nb:!0,"no-print":!0,desktop:this.props.deviceConfig===g_deviceConfiguration.DESKTOP,"nb-sticky":this.props.inNavigationBarVariant}),t=this.props.isLandingSession?"sticky-with-back-to-search":"",a=(0,_.default)({"theme-menu":!0,"theme-menu-with-back-to-search":this.props.isLandingSession}),n=this.props,r=n.inNavigationBarVariant,i=n.isLandingSession,o=this.generateNavigationLinks(),s=r&&i?this.generateMapCityLink():null,l=React.createElement("div",{className:e},s,React.createElement("div",{className:a},o));return r?React.createElement(y.default,{className:t},l):l}},{key:"setupScrollEvent",value:function(){var e=this;if(this.validNavigationBarElements=[],this.elementMap={},this.crossingSections={},this.props.linksToShow&&this.props.linksToShow.length&&"undefined"!=typeof window){for(var t in this.displayableSections){var a=A[t].sectionId;this.validNavigationBarElements.push(document.getElementById(a+"-scroll")),this.elementMap[a+"-scroll"]=t,this.crossingSections[a+"-scroll"]=!1}this.validNavigationBarElements.length<=0||(window.IntersectionObserver?(this.observer=new window.IntersectionObserver(this._handleIntersect),this.validNavigationBarElements.forEach(function(t){t&&e.observer.observe(t)})):window.addEventListener("scroll",this._handleScroll,{passive:!0}))}}},{key:"removeScrollEvent",value:function(){this.observer?this.observer.disconnect():window.removeEventListener("scroll",this._handleScroll)}},{key:"_handleIntersect",value:function(e){if(e&&e.length){for(var t=0;t<e.length;t++)if("object"===(0,r.default)(e[t])){var a=e[t].target.id;this.crossingSections[a]=e[t].isIntersecting}for(var n in this.crossingSections)if(this.crossingSections.hasOwnProperty(n)&&this.crossingSections[n]){this.setState({currentSection:this.elementMap[n]});break}}}},{key:"onNavigationLinkClick",value:function(e,t){t.preventDefault();var a=A[e],n=a.riftClickEvent,r=a.sectionId;this.props.inNavigationBarVariant?(0,C.autoScrollToSectionId)(r,49):(0,C.navigateToSectionId)(r);var i=this.props.inNavigationBarVariant&&this.domNode.getBoundingClientRect().top<=0?"sticky":"top",o=this.props.inNavigationBarVariant;n&&T.default.trackClick(n,{position:i,isVariant:o})}},{key:"_onPageRendered",value:function(){var e=location.hash;if(e&&!(e.length<2)){var t=e.substr(1);this.props.inNavigationBarVariant?(0,C.autoScrollToSectionId)(t,49):(0,C.navigateToSectionId)(t)}}},{key:"generateMapCityLink",value:function(){return React.createElement("div",{className:"mapCityLinkContainer"},React.createElement("a",{href:this.props.cityUrl,className:"mapCityLink",onClick:function(){return T.default.trackClick(T.default.clicks.BACK_TO_SEARCH)}},React.createElement("div",{key:"icon",className:"mapCityLinkIcon"},React.createElement(v.default,null)),React.createElement("span",{className:"mapCityLinkText"},"Back to Search")))}},{key:"getDisplayableSections",value:function(e){this.displayableSections={};for(var t=e.addressSectionInfo,a=e.linksToShow,n=!(t&&(4===t.listingType||5===t.listingType)),r=0;r<a.length;r++){var i=a[r],o=!0;if(i in k){switch(i){case k.AVM:o=t&&t.avmInfo&&S.default.isOn(E.default.SDP_PDP_AVM);break;case k.AMENITIES:case k.AMENITIES_ALT:o=S.default.isOn(E.default.LDP_PROPERTY_DETAILS);break;case k.TOUR_INSIGHTS:o=S.default.isOn(E.default.LDP_AGENT_INSIGHTS);break;case k.PROPERTY_HISTORY:o=n&&S.default.isOn(E.default.LDP_PROPERTY_HISTORY);break;case k.PUBLIC_RECORDS:o=n&&S.default.isOn(E.default.LDP_PUBLIC_RECORDS);break;case k.SCHOOLS:var s=t.countryCode===g_countryCode.CANADA.id&&!S.default.isOn(E.default.LDP_REDPANDA_SCHOOLS);o=S.default.isOn(E.default.LDP_NEARBY_SCHOOLS)&&!s;break;case k.NEIGHBORHOOD_INFO:o=S.default.isOn(E.default.LDP_NEIGHBORHOOD_STATS);break;case k.SIMILARS:o=S.default.isOn(E.default.LDP_HIGHER_SIMILARS);break;case k.ENERGY_DATA:o=S.default.isOn(E.default.ENERGY_DATA_MASTER_SWITCH)&&"Blur_Lock"===S.default.getVariant(E.default.ENERGY_DATA_LOCKED_CONTENT_EXPERIMENT)}this.displayableSections[i]=o}}}},{key:"generateNavigationLinks",value:function(){var e=this;return Object.keys(this.displayableSections).reduce(function(t,a,n){return e.displayableSections.hasOwnProperty(a)&&e.displayableSections[a]&&t.push(e.renderNavigationLink(a,n)),t},[])}},{key:"renderNavigationLink",value:function(e,t){var a=A[e],n=a.displayName,r=a.sectionId,i=this.onNavigationLinkClick.bind(this,e),o=this.props.inNavigationBarVariant&&this.state.currentSection===e?"current-section":"";return React.createElement(O,{key:t,text:n,href:"#".concat(r),linkClickHandler:i,additionalClassNames:o})}}]),t}(h.PureComponent);t.default=N;var O=function(e){var t=e.href,a=e.linkClickHandler,n=e.text,r=e.additionalClassNames;return React.createElement("div",{className:"navigation-link-container"},React.createElement("a",{className:"navigation-link "+r,target:"_self",href:t,onClick:a},n))}},J09A:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("mXGw")),i=(n(a("W0B4")),n(a("4ppV"))),o=n(a("i30b")),s=n(a("Hskl")),l=n(a("LAaD")),u=n(a("MdtB")),c=n(a("HKXw")),d=n(a("ma35"));function f(e){var t=e.removedFromShortlist,a=e.stagedShortlist,n=e.showDialog,c=e.maxShortlistSize,f=e.numPlaceholderHomeCards,h=void 0===f?4:f,g=e.isLoadingHomeCards,_=void 0===g||g;return n?r.default.createElement(i.default,{className:"EditShortlistDialog",fullScreenOnMobile:!0,title:null,close:p},r.default.createElement(l.default,u.default.impressions.EDIT_FULL_SHORTLIST_VIEW,r.default.createElement("div",{className:"edit-shortlist-dialog-content"},r.default.createElement("div",null,r.default.createElement("span",{className:"heading-medium shortlist-dialog-title"},"Shortlist Full")),r.default.createElement("div",null,function(e){return r.default.createElement("p",{className:"shortlist-subtitle text-smaller"},"You can only have ",r.default.createElement("span",{className:"font-weight-bold"}," ",e," homes")," in your shortlist. Please remove a home from this list.")}(c)),r.default.createElement("div",{className:"lists-container"},r.default.createElement(o.default,{stagedShortlist:a,numPlaceholderHomeCards:h,isLoadingHomeCards:_}),r.default.createElement(s.default,{removedShortlist:t})),r.default.createElement("div",{className:"ctaFooter","data-rf-test-name":"ctaFooter"},r.default.createElement(d.default,{type:"primary v3",onClick:m},"Update"))))):null}function p(){u.default.trackClick(u.default.clicks.EDIT_FULL_SHORTLIST_CANCEL),c.default.closeDialog()}function m(){u.default.trackClick(u.default.clicks.EDIT_FULL_SHORTLIST_UPDATE),c.default.saveEditedShortlist()}a("GsRH"),f.propTypes={};var h=f;t.default=h,e.exports=t.default},JBtx:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("W0B4")),c=n(a("mXGw")),d=n(a("TRKi")),f=n(a("PFRA")),p=n(a("Uce5")),m=n(a("YPLX")),h=n(a("4ppV")),g=n(a("lQoP"));a("hI4d");var _=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={showDialog:!1},a}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){var e=this;m.default.showDialogForInquirySource.listen(function(t,a){var n=a.agentId;t!==e.props.inquirySource||e.props.agentId&&n!==e.props.agentId||(e.generalInquiryStore||(e.generalInquiryStore=(0,p.default)({allowSearch:!1,inquirySource:e.props.inquirySource,defaultCustomerNotes:e.props.defaultCustomerNotes,propertyId:e.props.propertyId})),e.setState({showDialog:!0}))}),m.default.hideDialogForInquirySource.listen(function(t){t===e.props.inquirySource&&e.setState({showDialog:!1})})}},{key:"render",value:function(){var e=this;if(!this.state.showDialog)return null;var t=d.default.createRootElement(this.generalInquiryStore,c.default.createElement(f.default,{displayAsSection:!1,title:this.props.title,subtitle:this.props.subtitle,isDialog:!0}));return c.default.createElement(h.default,{className:"GeneralInquiryDialog",close:function(){m.default.hideDialogForInquirySource(e.props.inquirySource),g.default.trackClick("gif_dialog","close_dialog",{trackGA:!0})}},t)}}],[{key:"propTypes",get:function(){return{inquirySource:u.default.number.isRequired,title:u.default.string,subtitle:u.default.string,agentId:u.default.number,propertyId:u.default.number,defaultCustomerNotes:u.default.string}}}]),t}(c.default.PureComponent);t.default=_,e.exports=t.default},JLHZ:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("8VmE")),i=n(a("kj8T")),o=n(a("zl5j")),s=n(a("iscO")),l=n(a("xqSa")),u=n(a("fCIp")),c=n(a("Z890")),d=n(a("ftTN")),f=n(a("ZNeB")),p=a("osI4"),m=function(e){var t=e.bannerInfoStore,a=e.personalizationInfo,n=e.mediaBrowserInfo,m=e.deviceConfig,h=e.listingId,g=e.dataSourceId,_=e.experimentStore,v=e.fallBackComponent,y=void 0===v?null:v;switch(t.displayBannerType){case g_detailsPageBanner.REDFIN_DIRECT:return"desktop"===(0,p.getCurrentDeviceType)()?React.createElement(c.default,(0,r.default)({},t.displayBannerStore,{listingId:h})):y;case g_detailsPageBanner.OFFER_DEADLINE:return React.createElement(i.default,{offerDeadlineInfoStore:t.displayBannerStore,contactBoxInfo:t.contactBoxInfo,homePhotosInfo:n.photos});case g_detailsPageBanner.COMING_SOON:return React.createElement(o.default,{comingSoonInfoStore:t.displayBannerStore,personalizationInfo:a,deviceConfig:m});case g_detailsPageBanner.LOCAL_RULES:return React.createElement(s.default,(0,r.default)({dataSourceId:g},t.displayBannerStore));case g_detailsPageBanner.HOTNESS:return React.createElement(l.default,(0,r.default)({hotHomesUpdateExperimentEligibility:_.hotHomesUpdateExperimentEligibility},t.displayBannerStore,{isDirectAccess:t.contactBoxInfo.experienceData&&t.contactBoxInfo.experienceData.isDirectAccess,isDirectAccessRedfin:t.contactBoxInfo.experienceData&&t.contactBoxInfo.experienceData.isRedfin}));case g_detailsPageBanner.RECENTLY_SOLD:return React.createElement(u.default,t.displayBannerStore);case g_detailsPageBanner.REDFIN_NOW:return React.createElement(d.default,t.displayBannerStore);case g_detailsPageBanner.PENDING_HOME:return React.createElement(f.default,null);default:return y}};m.getComponentDependencies=function(){return{dependencies:["bannerInfoStore","personalizationInfo","dataSourceId","mediaBrowserInfo"]}},m.getPageLayoutClassName=function(){return"dp-col-sm-12 dp-col-md-12"},m.displayName="BannerSection",e.exports=m},JPWT:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("NToG")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("eef+")),c=a("mXGw"),d=r(a("yEpk")),f=n(a("4ppV")),p=a("osI4"),m=r(a("McMD"));a("bGwx");var h=g_imageServerUrl+"/images/homes/details/clickThroughContent/blurred_dp_bg.jpg",g=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.overflowStyle=document.body.style.overflow,document.body.style.overflow="hidden",document.body.classList.add("clickThroughContentFixedBodyPosition")}},{key:"componentWillUnmount",value:function(){document.body.style.overflow=this.overflowStyle,document.body.classList.remove("clickThroughContentFixedBodyPosition")}},{key:"render",value:function(){if(!this.props.showSection)return null;var e="phone"===(0,p.getCurrentDeviceType)();return React.createElement("div",{className:"ClickThroughContentContainer"},React.createElement("div",{className:"ClickThroughContentHeaderOverlay"}),e?this._getMobileClickThroughContentBackground():this._getClickThroughContentUnderlay(),React.createElement(f.default,{className:"ClickThroughContentDialog ".concat(f.DRAWER_STYLE_CLASS),showCloseButton:!1,closeOnBackgroundClick:!0,title:this.props.title,transitionAppear:!0,shouldPreventScrollingDown:!0},React.createElement(d.default,this.props)))}},{key:"_getClickThroughContentUnderlay",value:function(){var e={backgroundImage:"url(".concat(h,")")};return React.createElement("div",null,React.createElement("div",{className:"ClickThroughContentBackground bg-color-white"}),React.createElement("div",{className:"ClickThroughContentUnderlay",style:e}))}},{key:"_getMobileClickThroughContentBackground",value:function(){return React.createElement("div",{className:"MobileClickThroughContentBackground bg-color-white"},React.createElement(m.default,null))}}]),t}(c.Component);t.default=g,e.exports=t.default},JpRy:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("NToG")),s=n(a("K4DB")),l=n(a("+IV6")),u=n(a("eef+")),c=a("mXGw"),d=n(a("W0B4")),f=n(a("TRKi")),p=n(a("JX1m")),m=n(a("1AMb")),h=n(a("xok9")),g=n(a("pnNL")),_=n(a("13FN")),v=a("g8+3"),y=n(a("765W")),S=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){p.default.aboveTheFoldInteractive()}},{key:"render",value:function(){if(this.state&&this.state.mediaBrowserStore){var e=this.props.mediaBrowserInfo.displayType;return React.createElement(m.default,{name:"MediaBrowserSection"},f.default.createRootElement(this.state.mediaBrowserStore,React.createElement(h.default,{displayType:e})))}return null}}],[{key:"getComponentDependencies",value:function(){return{dependencies:["mediaBrowserInfo"]}}},{key:"getDerivedStateFromProps",value:function(e,t){if(e.mediaBrowserInfo&&e.mediaBrowserInfo.propertyId!==(t||{}).propertyId)return{mediaBrowserStore:new g.default((0,r.default)(e.mediaBrowserInfo,{queryParams:e.queryParams,ClientPerfMonitor:y.default,fullScreenComponents:v.fullScreenComponents,KeyboardShortcutsActions:_.default,showThumbnails:e.showThumbnails})),propertyId:e.mediaBrowserInfo.propertyId}}},{key:"displayName",get:function(){return"DesktopMediaBrowser"}},{key:"propTypes",get:function(){return{mediaBrowserInfo:d.default.object}}}]),t}(c.Component);t.default=S,e.exports=t.default},K4NS:function(e,t,a){},KaCs:function(e,t,a){"use strict";var n=a("RBnj");e.exports=(0,n.createActions)(["setCurrentFullScreenComponent"])},KnzI:function(e,t,a){},LI1s:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("K4DB")),s=r(a("+IV6")),l=r(a("T1e2")),u=r(a("NToG")),c=r(a("eef+")),d=n(a("mXGw")),f=r(a("W0B4")),p=r(a("lQoP")),m=r(a("Ncjd")),h=r(a("OKss")),g=a("DyRb"),_=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e)))._onLeftNav=a._onLeftNav.bind((0,l.default)(a)),a._onRightNav=a._onRightNav.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"displayName",get:function(){return"ContactBoxNavigation"}},{key:"propTypes",get:function(){return{classes:f.default.arrayOf(f.default.string),numSlots:f.default.number,position:f.default.number,isDisplayed:f.default.bool,riftParams:f.default.object}}},{key:"getDefaultProps",get:function(){return{classes:[],numSlots:0,position:0}}}]),(0,u.default)(t,[{key:"_onLeftNav",value:function(){p.default.trackClick("partner_contact_box","left_arrow",this.props.riftParams),this.props.onLeftNav()}},{key:"_onRightNav",value:function(){p.default.trackClick("partner_contact_box","right_arrow",this.props.riftParams),this.props.onRightNav()}},{key:"render",value:function(){return d.default.createElement("div",{className:(0,g.getClassSet)({contactBoxNavigation:!0},this.props)},d.default.createElement("div",{className:"leftNavContainer"},d.default.createElement("div",{onClick:this._onLeftNav},d.default.createElement(m.default,{className:"leftNav",asset:"slide-previous"}))),d.default.createElement("div",{className:"rightNavContainer"},d.default.createElement("div",{onClick:this._onRightNav},d.default.createElement(h.default,{className:"rightNav",asset:"slide-next"}))))}}]),t}(d.Component);t.default=_,e.exports=t.default},LaW7:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("NToG")),s=n(a("K4DB")),l=n(a("+IV6")),u=n(a("T1e2")),c=n(a("eef+")),d=(n(a("W0B4")),n(a("mXGw"))),f=n(a("nbo3")),p=n(a("Xecl")),m=n(a("vH3W")),h=n(a("ma35")),g=n(a("t/kO")),_=n(a("RIHJ")),v=n(a("4ppV")),y=n(a("YPLX")),S=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleSignIn=a.handleSignIn.bind((0,u.default)(a)),a.handleClickToRefresh=a.handleClickToRefresh.bind((0,u.default)(a)),a.goBackToForm=a.goBackToForm.bind((0,u.default)(a)),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_renderServerErrorDialog",value:function(){var e,t,a,n,r,i;if(this.props.serverError.resultCode===g_apiResultCode.EMAIL_IN_USE)t="Have We Met?",a=this.props.fields.email.value+" is already associated with a Redfin account. Please sign in to continue, or use a different email.",n=d.default.createElement(h.default,{className:"v3",size:"large",type:"secondary",onClick:this.goBackToForm.bind(this,this.props.fields.email)},"Use a Different Email"),r=d.default.createElement(h.default,{className:"v3",size:"large",type:"primary",onClick:this.handleSignIn},"Sign In"),e=this._renderStandardServerErrorContent(t,a,n,r);else if(this.props.serverError.resultCode===g_apiResultCode.PENDING_AGENT_REQUEST)t="Sorry!",a="It looks like you are already working with an agent. Click OK to refresh the page.",n=d.default.createElement(h.default,{className:"v3",size:"large",type:"primary",onClick:this.handleClickToRefresh},"Ok"),e=this._renderStandardServerErrorContent(t,a,n);else if(this.props.serverError.resultCode===g_apiResultCode.INVALID_ARGUMENT){var o="invalid value";(i=this.props.serverError.payload)&&Object.keys(i).length>0&&(o=i[Object.keys(i)[0]].toLowerCase()),t="Sorry!",a="It looks like you've entered an "+o+". Please try again.",n=d.default.createElement(h.default,{className:"v3",size:"large",type:"primary",onClick:this.goBackToForm},"Go Back to Form"),e=this._renderStandardServerErrorContent(t,a,n)}else t="Sorry!",a="We tried everything, but the information just isn't getting through. Please click OK and try again",n=d.default.createElement(h.default,{className:"v3",size:"large",type:"primary",onClick:this.handleClickToRefresh},"OK"),e=this._renderStandardServerErrorContent(t,a,n);if(e)return d.default.createElement(v.default,{showCloseButton:!1},e)}},{key:"_renderStandardServerErrorContent",value:function(e,t,a,n){return d.default.createElement("div",{className:"agent-request-form secondary-dialog"},d.default.createElement("div",{className:"title"},e),d.default.createElement("div",{className:"message"},t),d.default.createElement("div",{className:"cta-buttons"},a,n))}},{key:"_renderSuccessMessage",value:function(){return d.default.createElement("div",{className:"RedfinSubForm"},d.default.createElement("div",{className:"successNode"},d.default.createElement("div",{className:"successTitle",role:"alert","aria-label":"Form sent."},"Thanks for contacting us!"),d.default.createElement("div",{className:"successContent"},"We'll get back to you shortly. Learn more about ",d.default.createElement("a",{href:"/why-buy",target:"_blank"},"buying")," or ",d.default.createElement("a",{href:"/why-sell",target:"_blank"},"selling")," a home with Redfin.")))}},{key:"_renderTermsAndPrivacyMessage",value:function(e){return e?null:d.default.createElement("div",{className:"termsOfUse"},"You are creating a Redfin account and agree to our ",d.default.createElement("a",{className:"clickable",onClick:this._onTermsOfUseClick},"Terms of Use")," and ",d.default.createElement("a",{className:"clickable",onClick:this._onPrivacyPolicyClick},"Privacy Policy"),".")}},{key:"_onTermsOfUseClick",value:function(){f.default.trackClick("registration_div","terms_of_use_link"),window.open("/about/terms-of-use","_blank")}},{key:"_onPrivacyPolicyClick",value:function(){f.default.trackClick("registration_div","privacy_policy_link"),window.open("/about/privacy-policy","_blank")}},{key:"_renderForm",value:function(){var e="Enter your email field",t="Enter your phone number field",a="Enter your message field",n=this.props.disclaimer?this.props.disclaimer(this.props.login):this._renderTermsAndPrivacyMessage(this.props.login),i=this.props.serverError?this._renderServerErrorDialog():null,o=this.props.fields.email?d.default.createElement(p.default,(0,r.default)({type:"email"},this.props.fields.email,{onFocus:this.handleFieldFocus.bind(this,"email_field"),placeholder:"redfin@redfin.com",ariaLabel:e})):null,s=this.props.fields.phone?d.default.createElement(p.default,(0,r.default)({type:"tel"},this.props.fields.phone,{onFocus:this.handleFieldFocus.bind(this,"phone_field"),placeholder:"(      )      -",ariaLabel:t})):null,l=this.props.fields.comments?d.default.createElement(m.default,(0,r.default)({expanding:!1,onFocus:this.handleFieldFocus.bind(this,"question_field")},this.props.fields.comments,{rows:5,placeholder:this.props.isDialog?"How big is the yard? Is there an offer deadline for this home?":"I'm interested in buying, selling or a free consult with a Redfin Agent.",ariaLabel:a})):null;return d.default.createElement("div",null,i,d.default.createElement(g.default,{className:"RedfinSubForm",formName:this.props.formName,announceFormUpdates:!0},o,s,l,d.default.createElement(h.default,{className:"submitBtn v3",size:"large",type:"primary",formSubmit:!0,onClick:this.handleSubmitClick,disabled:this.props.requestInFlight},this.props.submitText),n))}},{key:"render",value:function(){return this.props.successfulSubmit?this._renderSuccessMessage():this._renderForm()}},{key:"handleFieldFocus",value:function(e){f.default.track(f.default.actions.CLICK,"inquiry_box",e,this.props.riftParams)}},{key:"handleClickToRefresh",value:function(){window.location.reload(!0)}},{key:"handleSignIn",value:function(){y.default.handleSignIn(this.props.formName)}},{key:"goBackToForm",value:function(e){_.default.buttonClick("go-back-to-form",e)}}]),t}(d.default.Component);t.default=S,S.displayName="inquiries.generalInquiries.GeneralInquiryRedfinSubForm",S.propTypes={},S.defaultProps={submitText:"Send",disclaimer:null},e.exports=t.default},LftV:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("gki9")),i=a("TlVh"),o=n(a("cXUB")),s=n(a("x3Yk")),l=a("cMqt"),u=n(a("ei5F")),c=n(a("7ipL")),d=n(a("kjcz")),f=n(a("5p6h")),p=l.logging.getLogger({name:"corvair.sites.customer-pages.components.postTourCheckIn.PostTourCheckInStore",color:{server:207,client:"rgb(212,42,212)"}}),m=(0,i.createStoreFactory)({init:function(e){this.setState({showLeadAgentConnectionSurvey:!1,promise:e.promise.then(this._processResponse.bind(this))}),this.listenTo(d.default.hideDialog,this.onHideDialog),this.listenTo(d.default.submitSurvey,this.onSubmitSurvey)},_processResponse:function(e){if(e&&e.surveyToken){if(this.setState({surveyToken:e.surveyToken,surveyHasShown:!1}),e.welcomeBackQuestionsData){var t={questionsData:e.welcomeBackQuestionsData,agentData:e.agentData},a=new c.default(t);this.setState({welcomeBackSurveyStore:a})}else{var n={agentRemarksTemplateElementId:e.agentRemarksTemplateElementId,npsTemplateElementId:e.npsTemplateElementId,reasonsTemplateElementId:e.reasonsTemplateElementId,reasons:e.reasons,agentData:e.agentData},r=new u.default(n);this.setState({fiveStarSurveyStore:r})}this._markSurveyAsViewed()}},_markSurveyAsViewed:function(){this._sendPostRequest({customReviewState:"VIEWING",surveyQuestionResponsesJson:"{}"})},onHideDialog:function(){this._sendPostRequest({customReviewState:"DISMISSED",surveyQuestionResponsesJson:"{}"})},onSubmitSurvey:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Thank you for your feedback!",a={surveyQuestionResponsesJson:e};this._sendPostRequest(a,t)},_sendPostRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!!t;(0,o.default)((0,s.default)("/stingray/api/survey-response/post",{method:"POST",body:(0,r.default)({serviceRequestPlatform:"Website",surveyToken:this.state.surveyToken},e),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}})).then(function(e){if(!e.body.success)throw new Error(e);a&&(f.default.showNotice({title:t,type:"confirm",dismissible:!1}),d.default.submitComplete(!0))}).catch(function(e){p.error(e),a&&(f.default.showNotice({title:"Something went wrong, please wait a second and try again.",type:"error",dismissible:!1}),d.default.submitComplete(!1))}).done()}});t.default=m,e.exports=t.default},Luot:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("YAhj")),d=n(a("W0B4")),f=n(a("8Jek")),p=a("G4xM"),m=n(a("luvc")),h=a("R8lb"),g=n(a("8Llx")),_=a("I5FW"),v=a("1O0j"),y=n(a("ma35")),S=n(a("WqrT")),E=n(a("lQoP")),I=n(a("LAaD")),T=n(a("PgSJ")),C=a("+ahH");a("iIgH");var b=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).state={},a.state.isUnitedStates=(0,_.getCurrentCountryCode)()===g_countryCode.UNITED_STATES,a.state.isMobile=(0,m.default)("screen-size")<m.default.screenSizes.MEDIUM||e.showMobileExperience,a.state.CTAInfo=(0,C.getListingMerchCTA)(e.showRedfinNow,e.isPartner,e.showOpendoor),a._onClickRequestConsult=a._onClickRequestConsult.bind((0,s.default)(a)),a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{isPrimaryCta:d.default.bool,propertyId:d.default.number.isRequired,deviceCategory:d.default.number,listingFeeMessagingType:d.default.object,showSalePriceEstimate:d.default.bool,minSalePriceRange:d.default.number,maxSalePriceRange:d.default.number,isPartner:d.default.bool,showMobileExperience:d.default.bool,showOpendoor:d.default.bool,showRedfinNow:d.default.bool,minOfferPriceRange:d.default.number,maxOfferPriceRange:d.default.number,ownerDashRIFT:d.default.bool}}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.deviceCategoryString=g_deviceConfiguration.idToObj[this.props.deviceCategory].displayName||"unknown"}},{key:"_onClickRequestConsult",value:function(e){var t=this._trackClick("listing_fee_merch","request_consultation_cta"),a=this.state.CTAInfo.riftTarget,n=this.props.ownerDashRIFT?"seller_merchandising":e?"merch_section":"side_pane";E.default.trackClick(n,a);var r="/sell-a-home/seller-consultation?propertyId=".concat(this.props.propertyId,"&inquirySource=").concat(g_inquirySource.OMDP_RSDP_LISTINGS_MERCH);g.default.isLoggedIn()||((0,h.trackRegistrationConversionAttempt)(t,g_registrationReason.SCHEDULE_LISTING_CONSULT,g_registrationAuthority.REDFIN),r="".concat(r,"&").concat(h.REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM,"=").concat((0,h.serializeConversionRiftEntrypoint)(t))),window.location.href=this.props.showRedfinNow?"/now?src=".concat(g_inquirySource.OWNER_DASHBOARD,"&pid=").concat(this.props.propertyId):r}},{key:"_trackClick",value:function(e,t){var a=((0,p.getConfigValueForKey)(p.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo)||{}).omdpHigherDescriptionExperimentInfo,n=void 0===a?{}:a,r={device_category:this.deviceCategoryString,commission_percentage:this.props.commissionPercentage,higher_desc_cohort:n.cohort};return E.default.trackClick(e,t,r)}},{key:"render",value:function(){var e=(0,f.default)({ListingFeeMerch:!0,primaryCta:this.props.isPrimaryCta});return c.default.createElement(I.default,{section:this.props.ownerDashRIFT?"seller_merchandising":"listing_fee_merch",target:this.state.CTAInfo.riftTarget,eventDetails:{device_category:this.deviceCategoryString,commission_percentage:this.props.commissionPercentage,is_served_by_partner_agent:this.props.isPartner}},c.default.createElement("div",{className:e,"data-rf-test-name":"listingFeeMerch"},this.props.showRedfinNow&&c.default.createElement("img",{src:g_imageServerUrl+"/images/redfinnow/redfinnow-logo.png",className:"redfin-now-logo"}),this._renderMerchTitle(this.props.isPrimaryCta,this.state.isMobile),this._renderMerchBody(this.state.isUnitedStates,this.props.isPartner,this.props.listingFeeMessagingType),c.default.createElement("div",{className:"merchEstimateWrapper"+(this.props.showSalePriceEstimate&&!this.state.isMobile?"":" noEstimateDesktop")},this._renderSalePriceRange(this.props.showSalePriceEstimate,this.props.isPartner)),this._renderCtaButton(this.props.isPrimaryCta,this.state.isMobile)))}},{key:"_renderMerchTitle",value:function(e,t){return e&&!t&&c.default.createElement("div",{className:"merchTitle"},"Thinking About Selling?")}},{key:"_renderMerchBody",value:function(e,t,a){return c.default.createElement("div",{className:"merchBody"+(this.props.showRedfinNow||this.props.showOpendoor?" cashOfferMessaging":"")},this._renderMerchMessaging(e,t,a))}},{key:"_renderMerchMessaging",value:function(e,t,a){if(this.props.showOpendoor){return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",null," Get a cash offer from ",c.default.createElement(S.default,{position:"above",alignment:"center",definition:"Redfin and Opendoor are separate companies. Redfin is not involved in creating your cash offer, but may receive referral compensation from Opendoor's brokerage. Not all homes are eligible.",definitionLink:"https://www.opendoor.com/redfin",moreInfoText:"Learn More"}," Opendoor"),"."),c.default.createElement("div",null," No prep, showings or uncertainty. "))}if(this.props.showRedfinNow){return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",null," Sell to ",c.default.createElement(S.default,{position:"above",alignment:"center",definition:"RedfinNow is a separate company, owned by Redfin. Agents representing RedfinNow do not represent sellers in the sale of their homes. Not all homes are eligible to be purchased by RedfinNow.",definitionLink:"https://www.redfin.com/now/disclaimer",moreInfoText:"Learn More"}," RedfinNow "),", hassle-free. "),c.default.createElement("div",null," No repairs, showings, or uncertainty. "))}if(t)return c.default.createElement("div",null,"Sell your home with a ",c.default.createElement("br",null),"Redfin Partner Agent.");var n=(0,v.listingFeeMessageWithLineBreakIfNeeded)(a.inlineListingFee);return e?c.default.createElement("div",null,"Sell your home for more,",c.default.createElement("br",null),"pay ",n,(0,v.getDisclaimer)(a)):c.default.createElement("div",null,"Full service agents. ",c.default.createElement("br",null),"Pay ",n,".")}},{key:"_renderSalePriceRange",value:function(e,t){var a=T.default.formatPriceForOMDPRightRail(this.props.showRedfinNow?this.props.minOfferPriceRange:this.props.minSalePriceRange),n=T.default.formatPriceForOMDPRightRail(this.props.showRedfinNow?this.props.maxOfferPriceRange:this.props.maxSalePriceRange);return e?c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"salePriceText"},this.props.showRedfinNow||this.props.showOpendoor?"Estimated offer range":"Estimated sale price"),c.default.createElement(I.default,{section:"side_pane",target:t?"partner_sale_price_range":"brokerage_sale_price_range"},c.default.createElement("div",{className:"salePriceRange"},a+" - "+n))):null}},{key:"_renderCtaButton",value:function(e,t){var a=this,n=(0,f.default)({consultButton:!0,"full-width-button":e||t}),r=this.state.CTAInfo.ctaText,i=e?"primary":"tertiary";return c.default.createElement(y.default,{className:"".concat(n," ").concat(i),onClick:function(){return a._onClickRequestConsult(t)}},r)}}]),t}(c.default.Component);t.default=b,e.exports=t.default},Luu8:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.renderHaveWeMetDialog)return i.default.createElement(u.default,e);e.showBDXExperience?f.default.trackImpression(f.default.impressions.ASK_BDX_CONTACT_INFO_DIALOG):d.default.trackImpressionWithDefaults(d.default.impressions.AAQ_CONTACT_INFO_DIALOG,{phone_prefilled:!1},e.isOpendoor);return i.default.createElement("div",{className:"aaq-name-and-contact-stage"},i.default.createElement("div",{className:"aaq-name-and-contact-stage-title"},e.inlineHeader),e.headlineError&&i.default.createElement(p.default,{className:"full-width",title:"It looks like there is an error.",type:"error"},e.headlineError),i.default.createElement(o.default,{formName:e.formName,className:"aaq-name-and-contact-stage-form"},function(e){return i.default.createElement("div",{className:"aaq-name-input-fields"},i.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text leftField",type:"text",onFocus:function(){return e.showBDXExperience?f.default.trackClick(f.default.clicks.ASK_BDX_FIRST_NAME_FIELD_CLICK):d.default.trackClickWithDefaults(d.default.clicks.AAQ_FIRST_NAME_FIELD_CLICK,null,e.isOpendoor)}},e.fields.firstName)),i.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text rightField",type:"text",onFocus:function(){return e.showBDXExperience?f.default.trackClick(f.default.clicks.ASK_BDX_LAST_NAME_FIELD_CLICK):d.default.trackClickWithDefaults(d.default.clicks.AAQ_LAST_NAME_FIELD_CLICK,null,e.isOpendoor)}},e.fields.lastName)))}(e),function(e){return i.default.createElement("div",{className:"aaq-contact-input-fields"},i.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text leftField",type:"email",onFocus:function(){return e.showBDXExperience?f.default.trackClick(f.default.clicks.ASK_BDX_EMAIL_FIELD_CLICK):d.default.trackClickWithDefaults(d.default.clicks.AAQ_EMAIL_FIELD_CLICK,null,e.isOpendoor)}},e.fields.email)),function(e){if(e.showBDXExperience)return i.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text rightField",type:"tel",onFocus:function(){return f.default.trackClick(f.default.clicks.ASK_BDX_PHONE_FIELD_CLICK)}},e.fields.optionalPhoneNumber));return i.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text rightField",type:"tel",onFocus:function(){return d.default.trackClickWithDefaults(d.default.clicks.AAQ_PHONE_FIELD_CLICK,null,e.isOpendoor)}},e.fields.phoneNumber))}(e))}(e),e.showBDXExperience&&function(e){return i.default.createElement("div",{className:"aaq-contact-input-fields"},i.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text leftField",type:"zip",onFocus:function(){return f.default.trackClick(f.default.clicks.ASK_BDX_POSTCODE_FIELD_CLICK)}},e.fields.zipCode)))}(e),i.default.createElement(l.default,{className:"aaq-name-and-contact-form-button",type:"primary",formSubmit:!0,onClick:function(){return e.showBDXExperience?f.default.trackClick(f.default.clicks.ASK_BDX_CONTACT_INFO_SUBMIT_CLICK):c.default.storeSubmitButtonRiftClick(e.isOpendoor?d.default.trackClickWithDefaults(d.default.clicks.AAQ_CONTACT_INFO_SUBMIT_BUTTON_CLICK,null,!0):d.default.trackClickWithDefaults(d.default.clicks.AAQ_CONTACT_INFO_NEXT_BUTTON_CLICK,null,!1))},disabled:e.shouldDisableSubmit},"Send Question"),i.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"You are creating a Redfin account and agree to our ",i.default.createElement("a",{href:"/about/terms-of-use",onClick:function(){return d.default.trackClickWithDefaults(d.default.clicks.AAQ_TERMS_LINK_CLICK,null,e.isOpendoor)},target:"_blank"},"Terms of Use"),"and",i.default.createElement("a",{href:"/about/privacy-policy",onClick:function(){return d.default.trackClickWithDefaults(d.default.clicks.AAQ_PRIVACY_POLICY_LINK_CLICK,null,e.isOpendoor)},target:"_blank"},"Privacy Policy")),e.isOpendoor&&i.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"Your message and contact details will be shared with Opendoor so that they can respond to your inquiry."),e.showBDXExperience&&i.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"Your message and contact details will be shared with ",e.builderName," so that they can respond to your inquiry.")))};var r=n(a("8VmE")),i=n(a("mXGw")),o=n(a("t/kO")),s=n(a("Xecl")),l=n(a("ma35")),u=n(a("An05")),c=n(a("iDTg")),d=n(a("YqrK")),f=n(a("DT4l")),p=n(a("2Xwv"));a("oDev"),e.exports=t.default},Lv69:function(e,t,a){},"LyK/":function(e,t,a){a("+4El");var n=a("0js8");n.attachModuleForRoute("RSDPDesktop",a("PsKC")),n.attachModuleForRoute("HomeDetails",a("WXJB"));var r=a("cMqt").ClientController;window.rfBootstrap=function(){new r({routes:n}).init()}},LzrF:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("ezUj")),i=n(a("fWcF"));n(a("W0B4"));function o(e){var t=e.merchProps,a=t&&t.widgets&&t.widgets.length>0,n={MerchInterstitial:r.default};return React.createElement(i.default,{placement:a?t:null,typeToComponent:n,componentProps:e})}o.propTypes={};var s=o;t.default=s,e.exports=t.default},"M/T6":function(e,t,a){},M6YI:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("72T9")),i=n(a("io1H")),o=n(a("luvc")),s=a("QP4D"),l={Types:{APP_INTERSTITIAL:"app_interstitial",MERCH_INTERSTITIAL:"merch_interstitial",SAVE_SEARCH_DRAWER:"save_search_drawer"},getNumLdpViews:function(){return parseInt((0,r.default)("RF_VIEW_COUNT_FOR_INTERSTITIAL"))||0},setLdpViews:function(e){(0,r.default)("RF_VIEW_COUNT_FOR_INTERSTITIAL",e,{expires:5475,domain:i.default.get("cookieDomain"),path:"/"})},shouldHideInterstitial:function(){return(0,r.default)("RF_HIDE_INTERSTITIAL")},hideForTimePeriod:function(e){(0,r.default)("RF_HIDE_INTERSTITIAL","true",{expires:e,domain:i.default.get("cookieDomain"),path:"/"})},cleanListingFeeMerchPropertyInLocalStorage:function(){(0,s.isBrowser)()&&(0,o.default)("localstorage")&&localStorage.removeItem("RF_LISTING_FEE_MERCH_DP")},getListingFeeMerchPropertyFromLocalStorage:function(){return(0,s.isBrowser)()&&(0,o.default)("localstorage")?JSON.parse(localStorage.getItem("RF_LISTING_FEE_MERCH_DP")):null}};t.default=l,e.exports=t.default},MMXu:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("8VmE")),o=r(a("OvAC")),s=r(a("SDJZ")),l=r(a("K4DB")),u=r(a("+IV6")),c=r(a("T1e2")),d=r(a("NToG")),f=r(a("eef+")),p=r(a("W0B4")),m=n(a("mXGw")),h=r(a("lQoP")),g=r(a("LAaD")),_=r(a("ma35")),v=r(a("qF8C")),y=r(a("yPuu")),S=r(a("EQKR")),E=r(a("9To1"));a("VjAe");var I=function(e){function t(e){var a;return(0,s.default)(this,t),(a=(0,l.default)(this,(0,u.default)(t).call(this,e)))._directOfferButtonClick=a._directOfferButtonClick.bind((0,c.default)(a)),a}return(0,f.default)(t,e),(0,d.default)(t,null,[{key:"getComponentDependencies",value:function(){return{dependencies:["contactBoxInfo","pageType","listingId"]}}},{key:"propTypes",get:function(){return{isRedfin:p.default.bool,isOpendoor:p.default.bool,isDirectOffer:p.default.bool,deviceConfig:p.default.number,listingId:p.default.number,propertyId:p.default.number,isPartner:p.default.bool,isServiced:p.default.bool}}}]),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;this._store=new y.default({isRedfin:this.props.isRedfin,isOpendoor:this.props.isOpendoor,deviceConfig:this.props.deviceConfig,listingId:this.props.listingId,propertyId:this.props.propertyId,isPartner:this.props.isPartner}),this._store.listen(function(){return e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this._store.destroy()}},{key:"render",value:function(){var e=this,t="This home is available for self tours from 8am8pm daily.";this.props.isOpendoor&&(t="This home is available for self tours from 6am9pm daily.");var a=this._renderDirectOfferButton();return m.default.createElement(g.default,{section:this._getRiftSection(),target:null,eventDetails:{listing_id:this.props.listingId,property_id:this.props.propertyId}},m.default.createElement("div",{className:"DirectAccessCTA"},m.default.createElement("h3",{className:"selfTourTitle font-weight-roman font-size-medium"},"Self Tour This Home"),m.default.createElement("div",{className:"selfTourDescription"},t),m.default.createElement(_.default,{className:"primary",title:"Self Tour",onClick:function(){return e._handleSelfTourClick(e.props.listingId,e.props.propertyId)}},m.default.createElement("span",{className:"lightning fill-white"},m.default.createElement(v.default,{className:"size-small"})),m.default.createElement("span",null,"Self Tour")),this._renderDialog(),this.props.isServiced&&m.default.createElement(_.default,{className:"text tourWithAgent",href:"#",saving:this._store&&this._store.state.showLoadingIndicator,onClick:function(t){t.preventDefault(),e._redirectToScheduleTour(e.props.listingId,e.props.propertyId)}},"Tour with an agent instead"),a))}},{key:"_redirectToScheduleTour",value:function(e,t){var a,n=(a={},(0,o.default)(a,h.default.TRACKGA,!0),(0,o.default)(a,"listing_id",e),(0,o.default)(a,"property_id",t),a),r=h.default.trackClick(this._getRiftSection(),"tour_with_agent_link",n);S.default.redirectForTourWithAgent(e,r)}},{key:"_handleSelfTourClick",value:function(e,t){var a,n=(a={},(0,o.default)(a,h.default.TRACKGA,!0),(0,o.default)(a,"listing_id",e),(0,o.default)(a,"property_id",t),a);h.default.trackClick(this._getRiftSection(),"self_tour_button",n),S.default.showDirectAccessDialog(g_inquirySource.LDP_DIRECT_ACCESS_WIDGET_SELF_TOUR)}},{key:"_renderDialog",value:function(){return this._store&&this._store.state.isShowingDialog?m.default.createElement(E.default,(0,i.default)({isRedfin:this.props.isRedfin,isOpendoor:this.props.isOpendoor,deviceConfig:this.props.deviceConfig,onCloseDialog:S.default.closeDirectAccessDialog,isServiced:this.props.isServiced},this._store.state)):null}},{key:"_getRiftSection",value:function(){return this.props.isRedfin?"direct_access_widget":"ext_direct_access_widget"}},{key:"_renderDirectOfferButton",value:function(){if(!this.props.isDirectOffer)return null;var e={className:"directOfferButton",children:"Start an Offer",onClick:this._directOfferButtonClick,rfTestId:"offer"},t=(0,o.default)({listing_id:this.props.listingId,redfin_direct:!0},h.default.TRACKGA,!0);return m.default.createElement(g.default,{section:"contact_box",eventDetails:t,target:"start_an_offer"},m.default.createElement("div",{className:"directOfferButtonContainer"},m.default.createElement(_.default,e)))}},{key:"_directOfferButtonClick",value:function(){h.default.trackClick("contact_box","start_an_offer",(0,o.default)({listing_id:this.props.listingId,redfin_direct:!0},h.default.TRACKGA,!0)),window.location="/buy-a-home/two-ways?listingId=".concat(this.props.listingId,"&inquirySource=").concat(g_inquirySource.LDP_CONTACT_BOX_OFFER_WIZARD)}}]),t}(m.Component);t.default=I,e.exports=t.default},MNrX:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("cuvU"));t.default=function(e,t){return e?t?"Redfin will list this home, so you can buy it online without an agent. This will save\n      the seller ".concat(r.default.dollars(t)," and make your offer stand out.\n      Otherwise, a Redfin Agent can represent you."):"Redfin will list this home, so you can buy it online without an agent. You call the shots and negotiate\n        with the seller. Otherwise, a Redfin Agent can represent you.":t?"Redfin listed this home, so you can buy it online without an agent. This saves the\n      seller ".concat(r.default.dollars(t)," and makes your offer stand out.\n      Otherwise, a Redfin Agent can represent you."):"Redfin listed this home, so you can buy it online without an agent. You call the shots and negotiate with the seller.\n        Otherwise, a Redfin Agent can represent you."},e.exports=t.default},Mba0:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.showBDXExperience;t&&o.default.trackImpression(o.default.impressions.ASK_BDX_FORM_SUCCESS);return r.default.createElement("div",{className:"aaq-confirmation-stage"},r.default.createElement("div",{className:"aaq-confirmation-stage-content"},r.default.createElement("div",{className:"aaq-confirmation-stage-header"},r.default.createElement("div",{className:"aaq-confirmation-icon-text"},r.default.createElement("div",{className:"aaq-confirmation-icon-container"},r.default.createElement(i.default,{className:"aaq-confirmation-icon"})),r.default.createElement("div",{className:"aaq-confirmation-stage-main-text"},"Question Submitted")),r.default.createElement("div",{className:"aaq-confirmation-stage-sub-text"},"We'll get in touch soon."))))};var r=n(a("mXGw")),i=n(a("Nm66")),o=n(a("DT4l"));a("ipUu"),e.exports=t.default},MgFY:function(e,t,a){},MouV:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("TlVh"),i=n(a("lQoP")),o=n(a("5yNn")),s=n(a("X/2h")),l=n(a("8x2j")),u=n(a("WRAN")),c=(0,r.createStoreFactory)({listenables:[s.default],init:function(e){e&&this.onResetStoreData(e)},onResetStoreData:function(e){this.setState({existingTour:e.existingTour,dialogState:e.dialogState||"ARE_YOU_SURE",onClose:e.onClose,onSuccess:e.onSuccess,onAdd:e.onAdd,timeZone:e.timeZone,addressString:e.addressString||"these homes",listingIds:e.listingIds,fromLDP:e.fromLDP,tourNotes:"",loadingMessage:null,existingTourTimePref:e.existingTourTimePref,errorMessage:null})},onSetExistingTour:function(e){this.setState({existingTour:e})},onAddToExistingTour:function(){var e=this;"FORCE_ADD_HOME_TOUR"===this.state.dialogState&&u.default.trackClickWithDefaults(u.default.targets.timeSelect.FORCE_ADD_HOME_DIALOG_YES),this.setState({dialogState:"LOADING",loadingMessage:"Adding..."}),i.default.trackClick("add_to_existing_tour_cta",{tour_type:this.state.existingTour.isScheduled?"scheduled":"pending",homes_added:this.state.listingIds.length}),l.default.addToTour(this.state.existingTour.tourId,this.state.listingIds).then(function(t){e.state.onAdd&&e.state.onAdd(t),e.setState({dialogState:"ADD_NOTES",newSplitTourHomes:t.newSplitTourResult&&t.newSplitTourResult.homes.length,newSplitTourId:t.newSplitTourResult&&t.newSplitTourResult.tour._id})}).catch(function(t){e.setState({dialogState:"ERROR",errorMessage:"customerMessage"===t.name&&t.message})})},onAddNote:function(){var e=this;this.setState({dialogState:"LOADING",loadingMessage:"Sending..."}),l.default.addNoteToTour(this.state.existingTour.tourId,this.state.tourNotes,o.default.id,this.state.newSplitTourId).then(function(){e.setState({dialogState:"ALL_SET"})})},onNoteInputChange:function(e){this.setState({tourNotes:e.value})}});t.default=c,e.exports=t.default},NFCW:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=n(a("8VmE")),i=(n(a("W0B4")),n(a("mXGw"))),o=n(a("nar/")),s=n(a("t/kO")),l=n(a("vH3W")),u=n(a("ma35")),c=n(a("8zKa")),d=a("nOk1"),f=n(a("8Jek")),p=n(a("YqrK")),m=n(a("DT4l")),h=n(a("LAaD")),g=n(a("LDFp"));a("mrPQ");var _=n(a("94Bj"));function v(e){return!e.isInlineForm&&e.showBDXExperience&&m.default.trackImpression(m.default.impressions.ASK_BDX_COMMENT_DIALOG),i.default.createElement("div",{className:"aaq-question-stage"},function(e){return i.default.createElement("div",{className:"aaq-question-stage-title"},e.inlineHeader)}(e),!e.showBDXExperience&&(!e.isMobile||e.isInlineForm||e.isOpendoor)&&function(e){if(e.isOpendoor)return function(e){var t=e.listingAgent.agentInfo.agentName,a=e.agentPicture?i.default.createElement("img",{className:"agent-picture",alt:"Listing Agent ".concat(t),src:e.agentPicture}):i.default.createElement(c.default,null);return i.default.createElement("div",{className:"aaq-question-stage-agent-info-container listing-agent"},i.default.createElement("div",{className:"agent-avatar"},a),i.default.createElement("div",{className:"aaq-question-stage-agent-info"},i.default.createElement("div",{className:"agent-name listing-agent"},t),i.default.createElement("div",{"data-rf-test-name":"external-brokerage-name"},e.listingAgent.brokerName)))}(e);if(e.isTourConfirmation)return function(e){return i.default.createElement("div",{className:"aaq-question-stage-agent-info-container tour-agent"},i.default.createElement("div",{className:"agent-avatar"},i.default.createElement("img",{className:"agent-picture",alt:"Buyer's Agent ".concat(e.agent.displayName),src:e.agentPicture})),i.default.createElement("div",{className:"aaq-question-stage-agent-info"},i.default.createElement("div",{className:"agent-name tour-agent"},e.agent.displayName),i.default.createElement("div",{"data-rf-test-name":"brokerage-name"},"Redfin Buyer's Agent")))}(e);var t=e.isPartnerAgent?" Redfin Partner Agent ":" Redfin Agent ",a=e.responseTimeMinutes?(0,d.pluralizeCount)(e.responseTimeMinutes,"minute"):"4 business hours",n=e.responseTimeMinutes&&e.agent.getFirstName()?e.agent.getFirstName()+" typically replies in about ":"Responds in ",r=i.default.createElement("div",{"data-rf-test-name":"response-info"},n,i.default.createElement("span",{"data-rf-test-name":"response-time"},a)),o=e.listingAddress?e.listingAddress.city:null,s=e.agent._licenseClassTitle||(o||e.agent.getBusinessMarket())+t,l=s+e.agent.getFullName(),u=e.agent._profileUrl;return i.default.createElement("div",{className:"aaq-question-stage-agent-info-container"},i.default.createElement("div",{className:"agent-avatar"},i.default.createElement("span",{onClick:function(){return S(p.default.clicks.AAQ_AGENT_PHOTO_CLICK,e.isOpendoor,u)}},i.default.createElement("img",{className:"agent-picture",alt:l,src:e.agentPicture}))),i.default.createElement("div",{className:"aaq-question-stage-agent-info"},i.default.createElement("span",{className:"agent-name",onClick:function(){return S(p.default.clicks.AAQ_AGENT_NAME_CLICK,e.isOpendoor,u)}},e.agent.getFullName()),i.default.createElement("div",{"data-rf-test-name":"agent-business-market"},s),e.isPartnerAgent&&i.default.createElement("div",{"data-rf-test-name":"partner-brokerage-name"},e.brokerageName),!e.shouldHideResponseTime&&r))}(e),function(e){var t=!e.isInlineForm&&e.isMobile||e.isOpendoor||e.fromRightRail?"Next":"Ask a Question",a=!e.isInlineForm&&e.isMobile?"primary":"teritiary",n=(0,f.default)({"aaq-question-form-button":!0,"extra-bottom-margin":!y(e)&&!E()});return i.default.createElement(s.default,{formName:e.formName,className:"aaq-question-stage-form"},i.default.createElement(l.default,(0,r.default)({className:"aaq-question-form-text-area",type:"text",rows:3,maxRows:4},e.fields.questionText,{onFocus:function(){return t=e.showBDXExperience,a=e.isInlineForm,n=e.isOpendoor,void(t?a?m.default.trackClick(m.default.clicks.ASK_BDX_QUESTION_FIELD_CLICK):m.default.trackClick(m.default.clicks.ASK_BDX_COMMENT_DIALOG_COMMENT_CLICK):p.default.trackClickWithDefaults(p.default.clicks.AAQ_QUESTION_FIELD_CLICK,null,n));var t,a,n}})),!e.showBDXExperience&&!e.isInlineForm&&e.isMobile&&function(e){var t=e.responseTimeMinutes?(0,d.pluralizeCount)(e.responseTimeMinutes,"minute"):"4 business hours";return i.default.createElement("div",{className:"aaq-question-form-response"},e.responseTimeMinutes?"Typical response time is about ":"Responds in 4 business hours.",e.responseTimeMinutes&&i.default.createElement("span",null,t))}(e),i.default.createElement(u.default,{className:n,type:a,formSubmit:!0,onClick:function(){return t=e.showBDXExperience,a=e.isInlineForm,n=e.isOpendoor,void(t?a?m.default.trackClick(m.default.clicks.ASK_BDX_QUESTION_BUTTON_CLICK):m.default.trackClick(m.default.clicks.ASK_BDX_COMMENT_DIALOG_NEXT_CLICK):n?p.default.trackClickWithDefaults(p.default.clicks.AAQ_QUESTION_NEXT_CLICK,null,!0):p.default.trackClickWithDefaults(p.default.clicks.AAQ_QUESTION_BUTTON_CLICK,null,!1));var t,a,n},disabled:e.shouldDisableSubmit},t),y(e)&&function(e){return e.phoneNumber?i.default.createElement("div",{className:"aaq-question-form-contact"},"Text or call ",i.default.createElement("span",{className:"phone-link","data-rf-test-name":"phone-link",onClick:function(){return S(p.default.clicks.AAQ_PHONE_NUMBER_CLICK,e.isOpendoor,"tel:".concat(e.phoneNumber))}},e.phoneNumber)):null}(e))}(e),E()&&function(e){var t={device_category:e.isMobile?"mobile":"desktop"};return e.isPartnerAgent?i.default.createElement(h.default,{section:"ask_a_question",target:"partner_recruitment_cta",eventDetails:t},i.default.createElement("div",{className:"partnerProgramAd"},"Are you an Agent?",i.default.createElement("a",{href:"/partner?src=inline_ask_question",onClick:function(){return p.default.trackClickWithDefaults(p.default.clicks.AAQ_PARTNER_RECRUITMENT_CTA_CLICK,t,!1)},target:"_blank"}," Learn about partnering with Redfin"))):null}(e))}function y(e){return!e.showBDXExperience&&(!e.isPartnerAgent||e.detailsPageContext===o.default.id)&&e.phoneNumber&&(e.isInlineForm||!e.isMobile)}function S(e,t,a){p.default.trackClickWithDefaults(e,null,t),window.location.href=a}function E(){return"Variant"===_.default.getVariant(_.default.feature.PARTNER_AGENT_RECRUITMENT_CTA)}g.default.ensure(a("TmV8")),v.propTypes={},e.exports=t.default},NGQd:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=a("mXGw"),c=a("PqOS"),d=n(a("JPWT")),f=n(a("TRKi")),p=n(a("xvpH")),m=n(a("bBnL")),h=function(e){return e.dataSourceRequirementInfo&&e.dataSourceRequirementInfo.missingRequirementIds&&e.dataSourceRequirementInfo.missingRequirementIds.length>0},g=function(e){function t(e){var a;if((0,r.default)(this,t),a=(0,o.default)(this,(0,s.default)(t).call(this,e)),h(e)){var n={dataSourceId:e.dataSourceId,requirementsContext:1,missingRequirementIds:e.dataSourceRequirementInfo.missingRequirementIds,tosStoreOpts:{declineTosUrl:e.homeDetailsPageHeaderInfo&&e.homeDetailsPageHeaderInfo.cityUrl}};a.store=new p.default(n),c.ListenerMethods.listenTo(m.default.allRequirementsMet,a.onAllRequirementsMet)}return a}return(0,l.default)(t,e),(0,i.default)(t,[{key:"onAllRequirementsMet",value:function(){window.location.reload()}},{key:"render",value:function(){return h(this.props)?f.default.createRootElement(this.store,React.createElement(d.default,null)):null}}],[{key:"getComponentDependencies",value:function(){return{dependencies:["dataSourceRequirementInfo","homeDetailsPageHeaderInfo"]}}}]),t}(u.Component);t.default=g,e.exports=t.default},NHmO:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("K4DB")),s=r(a("+IV6")),l=r(a("T1e2")),u=r(a("NToG")),c=r(a("eef+")),d=r(a("W0B4")),f=n(a("mXGw")),p=r(a("8Jek")),m=r(a("nbo3")),h=r(a("LAaD")),g=r(a("VMur")),_=r(a("Ely0")),v=r(a("zCAw")),y=r(a("ploZ"));a("Svbq");var S=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={isTourPromptFlyoutDismissed:!1,shouldFadeTourPromptFlyout:!1},a._dismissTourPromptFlyout=a._dismissTourPromptFlyout.bind((0,l.default)(a)),a._handleOnClick=a._handleOnClick.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{isMobile:d.default.bool,alignment:d.default.string.required,position:d.default.string.required,onClick:d.default.string.func,callback:d.default.string.func,riftImpression:d.default.object.required,riftClick:d.default.object.required,riftDismiss:d.default.object.required}}}]),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this;clearTimeout(this.state.fadeTourPromptFlyout),this.setState({fadeTourPromptFlyout:setTimeout(function(){e.setState({shouldFadeTourPromptFlyout:!0}),setTimeout(function(){e.setState({isTourPromptFlyoutDismissed:!0}),e.props.callback&&e.props.callback()},500)},1e4)})}},{key:"render",value:function(){var e=this;if(this.state.isTourPromptFlyoutDismissed)return null;var t=f.default.createElement(v.default,{className:"promptClose fill-link-black",onClick:function(){e._dismissTourPromptFlyout()}}),a=f.default.createElement("div",{className:"promptContent",onClick:this._handleOnClick},f.default.createElement(_.default,{className:"size-large tourHomeImg"}),f.default.createElement("div",{className:"promptText text-left"},f.default.createElement("div",{className:"font-weight-bold font-size-base font-line-height-spacious"},"Like this home?"),f.default.createElement("div",{className:"font-weight-normal font-size-small font-color-subtext font-line-height-condensed"},"Get all of your questions answered on tour with a local expert."))),n=(0,p.default)("TourPromptFlyout",{fadeOut:this.state.shouldFadeTourPromptFlyout,stickyFooter:this.props.isMobile});return f.default.createElement(g.default,{alignment:this.props.alignment,position:this.props.position,strictPositioning:!0,className:n,animateOnAppear:!0},f.default.createElement(h.default,this.props.riftImpression,a),t)}},{key:"_dismissTourPromptFlyout",value:function(){y.default.trackClick(this.props.riftDismiss),this.setState({isTourPromptFlyoutDismissed:!0}),this.props.callback&&this.props.callback()}},{key:"_handleOnClick",value:function(){y.default.trackClick(this.props.riftClick),m.default.flushRiftEvents(),this.props.onClick&&this.props.onClick()}}]),t}(f.Component);t.default=S,e.exports=t.default},NXtq:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("Nwge")),i=n(a("LDFp"));i.default.ensure(a("tTYd"));var o=a("pBXq").default,s=(0,r.default)(new o,{name:"NavigationBarRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],clicks:{OVERVIEW:{section:"nav_bar",target:"overview_link",expectedParams:["position","isVariant"],trackGA:!0},PROPERTY_DETAILS:{section:"nav_bar",target:"property_details_link",expectedParams:["position","isVariant"],trackGA:!0},TOUR_INSIGHTS:{section:"nav_bar",target:"tour_insights_link",expectedParams:["position","isVariant"],trackGA:!0},PROPERTY_HISTORY:{section:"nav_bar",target:"property_history_link",expectedParams:["position","isVariant"],trackGA:!0},PUBLIC_RECORDS:{section:"nav_bar",target:"public_records_link",expectedParams:["position","isVariant"],trackGA:!0},ACTIVITY:{section:"nav_bar",target:"activity_link",expectedParams:["position","isVariant"],trackGA:!0},SCHOOLS:{section:"nav_bar",target:"schools_link",expectedParams:["position","isVariant"],trackGA:!0},NEIGHBORHOOD:{section:"nav_bar",target:"neighborhood_link",expectedParams:["position","isVariant"],trackGA:!0},SIMILARS:{section:"nav_bar",target:"similar_homes_link",expectedParams:["position","isVariant"],trackGA:!0},AVM:{section:"nav_bar",target:"estimate_link",expectedParams:["position","isVariant"],trackGA:!0},UNKNOWN:{section:"nav_bar",target:"unknown_link",expectedParams:["position","isVariant"],trackGA:!0},ENERGY_REPORT:{section:"nav_bar",target:"energy_report_link",expectedParams:["position","isVariant"],trackGA:!0},BACK_TO_SEARCH:{section:"nav_bar",target:"back_to_search_link",trackGA:!0}},impressions:{BACK_TO_SEARCH:{section:"nav_bar",target:"back_to_search_link",trackGA:!0}}});e.exports=s},NcWF:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fields.phoneNumber&&""!==e.fields.phoneNumber.value;e.showBDXExperience?c.default.trackImpression(c.default.impressions.ASK_BDX_CONTACT_INFO_DIALOG):u.default.trackImpressionWithDefaults(u.default.impressions.AAQ_CONTACT_INFO_DIALOG,{phone_prefilled:t},e.isOpendoor);return i.default.createElement("div",{className:"aaq-phone-only-stage"},i.default.createElement("div",{className:"aaq-phone-only-stage-title"},e.inlineHeader),e.headlineError&&i.default.createElement(d.default,{className:"full-width",title:"It looks like there is an error.",type:"error"},e.headlineError),i.default.createElement(o.default,{formName:e.formName,className:"aaq-phone-only-stage-form"},function(e,t){if(e.showBDXExperience)return i.default.createElement(s.default,(0,r.default)({className:"aaq-phone-only-form-text",type:"tel"},e.fields.optionalPhoneNumber,{autofocus:e.isMobile,onFocus:function(){return c.default.trackClick(c.default.clicks.ASK_BDX_PHONE_FIELD_CLICK)}}));return i.default.createElement(s.default,(0,r.default)({className:"aaq-phone-only-form-text",type:"tel"},e.fields.phoneNumber,{autofocus:e.isMobile,onFocus:function(){return u.default.trackClickWithDefaults(u.default.clicks.AAQ_PHONE_FIELD_CLICK,{phone_prefilled:t},e.isOpendoor)}}))}(e,t),e.showBDXExperience&&function(e){return i.default.createElement("div",{className:"aaq-contact-input-fields"},i.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text leftField",type:"zip",onFocus:function(){return c.default.trackClick(c.default.clicks.ASK_BDX_POSTCODE_FIELD_CLICK)}},e.fields.zipCode)))}(e),i.default.createElement(l.default,{className:"aaq-phone-only-form-button",type:"primary",formSubmit:!0,onClick:function(){return e.showBDXExperience?c.default.trackClick(c.default.clicks.ASK_BDX_CONTACT_INFO_SUBMIT_CLICK):e.isOpendoor?u.default.trackClickWithDefaults(u.default.clicks.AAQ_CONTACT_INFO_SUBMIT_BUTTON_CLICK,null,!0):u.default.trackClickWithDefaults(u.default.clicks.AAQ_CONTACT_INFO_NEXT_BUTTON_CLICK,null,!1)},disabled:e.shouldDisableSubmit},"Send Question"),e.isOpendoor&&i.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"Your message and contact details will be shared with Opendoor so that they can respond to your inquiry."),e.showBDXExperience&&i.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"Your message and contact details will be shared with ",e.builderName," so that they can respond to your inquiry.")))};var r=n(a("8VmE")),i=n(a("mXGw")),o=n(a("t/kO")),s=n(a("Xecl")),l=n(a("ma35")),u=n(a("YqrK")),c=n(a("DT4l")),d=n(a("2Xwv"));a("liRG"),e.exports=t.default},Nh9I:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("TlVh"),i=n(a("5BUB")),o=n(a("x3Yk")),s=n(a("ZpgJ")),l=n(a("URCo")),u=n(a("8Llx")),c=n(a("8wdY")),d=n(a("b2XU")),f=n(a("wNRX")),p=a("wIt4"),m=a("RxnA"),h=n(a("iDTg")),g=a("R8lb"),_=(0,r.createStoreFactory)({mixins:[i.default],formName:"MultistageAAQForm",fields:{questionText:{rules:[{test:f.default.rules.required()}]},firstName:{label:"First Name",placeholder:"First Name",rules:[{test:f.default.rules.required()}]},lastName:{label:"Last Name",placeholder:"Last Name",rules:[{test:f.default.rules.required()}]},email:{label:"Email",placeholder:"Email",rules:[{test:f.default.rules.required()},{test:f.default.rules.email()}]},phoneNumber:{label:"Phone",placeholder:"(  )  -",rules:[{test:f.default.rules.required()},{test:f.default.rules.phoneNumber()}]},zipCode:{label:"Zip Code",placeholder:"Zip Code",rules:[{test:f.default.rules.required()},{test:f.default.rules.zipCode()}]},optionalPhoneNumber:{label:"Phone (optional)",placeholder:"(  )  -",rules:[{test:f.default.rules.phoneNumber()}]}},init:function(e){var t=e.submittedQuestion,a=e.isMobile,n=e.isInlineForm,r=e.contactBoxInfo,i=e.listingId,o=e.propertyId,f=e.streetAddress,g=e.inquiryChannel,_=e.inquirySource,v=e.trackRegistrationAttempt,y=e.listingAddress,S=e.isOpendoor,E=e.fromRightRail,I=e.listingAgent,T=e.showBDXExperience,C=e.builderName,b=e.isTourConfirmation;if(this.listenToMany(h.default),r||S||b||T){var A=s.default.getJsonLogin()||null!==l.default.getCurrentInstance()&&l.default.getCurrentInstance().state.userData.jsonLogin,k=u.default.isLoggedIn(),N=e.agent||r&&r.recommendedAgent,O=!S&&!b&&g_agentType.CONNECT===N.getAgentType(),D=S||b?null:r.experienceData&&(0,p.doObjectGraph)()(r.experienceData.refundMessagingData),R=D?D.phoneNumber:null,P=!S&&(r&&(r.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||r.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED)&&!r.isSoldProperty||!!b),w=!(!S&&!b)||(r.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||r.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED),B=b?N.small_square_photo_url_secure:S?I.agentInfo&&I.agentInfo.agentPhotoUrl:(0,m.generateAgentPictureUrl)(O,N);this.setState({agent:S?{}:N,phoneNumber:R,responseTimeMinutes:S||b?null:N&&N.get("agentAverageResponseMinutes"),isPartnerAgent:O,brokerageName:b?null:S?I.brokerName:N.get("brokerageName"),inlineFormSubmittedQuestion:t,agentPicture:B,formName:"".concat(this.formName,".").concat(c.default.randomShortString()),isLoggedIn:k,user:A,isMobile:a,isInlineForm:n,sectionWidth:575,shouldUseGIF:P,shouldHideResponseTime:w,stageHistory:[],nextPendingStage:null,mlsId:r&&r.mlsId,listingId:i,propertyId:o,streetAddress:f,shouldDisableSubmit:!1,failingFields:[],inquiryChannel:g,inquirySource:_,headlineError:null,requestInFlight:!1,listingAddress:y,isOpendoor:S,fromRightRail:E,showBDXExperience:T,builderName:T&&C,listingAgent:S&&I,isTourConfirmation:b,detailsPageContext:r&&r.detailsPageContext}),A&&(this.setFields({phoneNumber:A.phoneNumber||""}),this.removeFields(["firstName","lastName","email"]),b&&this.removeFields(["phoneNumber"])),T?this.removeFields(["phoneNumber"]):this.removeFields(["optionalPhoneNumber","zipCode"]),this.getNextStageAndHandleResponse(),this.state.fields.questionText.value="I'd like to know more about ".concat(S||!f?"this home":f,"."),this.listenTo(d.default.submit,this.onSubmit),this.listenTo(d.default.fieldChange,this.onFieldChange),this.listenTo(d.default.fieldBlur,this.onFieldBlur),this.trackRegistrationAttempt=!0,!1===v&&(this.trackRegistrationAttempt=!1)}},setRiftEntrypointRiftContext:function(e){this.entrypointRiftContext=e},storeSubmitButtonRiftClick:function(e){this.setRiftEntrypointRiftContext(e),this.trackRegistrationAttempt&&(0,g.trackRegistrationConversionAttempt)(e,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN)},getCurrentStageTitle:function(){if(this.state.isMobile)return null;switch(this.state.currentStage){case g_askAQuestionStage.QUESTION:return this.getQuestionStageExpandedHeaderText();case g_askAQuestionStage.NAME_WITH_CONTACT:return this.state.isOpendoor?"How can Listing Agent ".concat(this._getAgentFirstName(this.state.listingAgent.agentInfo.agentName)," get back to you?"):this.state.showBDXExperience?"How can the builder get back to you?":"How can we get back to you?";case g_askAQuestionStage.PHONE_ONLY:return this.state.showBDXExperience?"How can we get back to you?":null;default:return null}},getStageInlineHeader:function(e){switch(e){case g_askAQuestionStage.QUESTION:return this.shouldShowInlineHeaderInQuestionStage()?this.state.showBDXExperience||this.state.isMobile&&!this.state.isOpendoor?"How can we help you?":this.getQuestionStageExpandedHeaderText():null;case g_askAQuestionStage.NAME:return"What's your name?";case g_askAQuestionStage.CONTACT:case g_askAQuestionStage.PHONE_ONLY:return this.state.isOpendoor?"How can Listing Agent ".concat(this._getAgentFirstName(this.state.listingAgent.agentInfo.agentName)," get back to you?"):this.state.showBDXExperience?null:"How can we get back to you?";default:return null}},shouldShowInlineHeaderInQuestionStage:function(){return this.state.isMobile&&!this.state.isInlineForm||!this.state.isMobile&&this.state.isInlineForm},getQuestionStageExpandedHeaderText:function(){return this.state.isTourConfirmation?null:this.state.showBDXExperience?"How can we help you?":this.state.isOpendoor?"Contact Listing Agent ".concat(this._getAgentFirstName(this.state.listingAgent.agentInfo.agentName)):"Ask Redfin ".concat(this.state.isPartnerAgent?"Partner Agent":"Agent"," ").concat(this.state.agent.get("firstName")," a Question")},onFieldChange:function(e){var t=e.name,a=e.value;e.formName===this.state.formName&&(this.state.fields[t].value=a,this.state.fields[t].feedback=null,this.validateCurrentStage(!1)?this.enableFormInteractions():this.disableFormInteractions())},onFieldBlur:function(e){var t=e.name,a=e.value;e.formName===this.state.formName&&(this.validateAndSetField(t,a),this.validateCurrentStage(!1)?this.enableFormInteractions():this.disableFormInteractions())},disableFormInteractions:function(){this.setState({shouldDisableSubmit:!0})},enableFormInteractions:function(){this.setState({shouldDisableSubmit:!1})},isFieldValid:function(e){return f.default.validateField(this.fields[e].label,this.state.fields[e].value,this.fields[e].rules,{feedbackMode:f.default.feedbackModes.ERROR_ONLY}).valid},getFieldsInStage:function(e){var t=[];switch(e){case g_askAQuestionStage.QUESTION:t.push("questionText");break;case g_askAQuestionStage.NAME:t.push("firstName"),t.push("lastName");break;case g_askAQuestionStage.CONTACT:this.state.isLoggedIn||t.push("email"),this.state.showBDXExperience?(t.push("zipCode"),t.push("optionalPhoneNumber")):t.push("phoneNumber");break;case g_askAQuestionStage.NAME_WITH_CONTACT:t.push("firstName"),t.push("lastName"),t.push("email"),this.state.showBDXExperience?(t.push("zipCode"),t.push("optionalPhoneNumber")):t.push("phoneNumber");break;case g_askAQuestionStage.PHONE_ONLY:this.state.showBDXExperience?(t.push("zipCode"),t.push("optionalPhoneNumber")):t.push("phoneNumber");break;default:t.push.apply(["questionText","phoneNumber","lastName","email","phoneNumber"])}return t},validateStage:function(e,t){var a=this,n=this.getFieldsInStage(e);return t?(n.forEach(function(e){return a.validateAndSetField(e)}),!this.state.failingFields.length):!n.filter(function(e){return!a.isFieldValid(e)}).length},validateCurrentStage:function(e){return this.validateStage(this.state.currentStage,e)},shouldInitiallyDisableSubmitForStage:function(e){return!(e===g_askAQuestionStage.QUESTION||this.validateStage(e,!1))},transitionToStage:function(e){this.state.currentStage&&this.state.stageHistory.push(this.state.currentStage),this.setState({currentStage:e,shouldDisableSubmit:this.shouldInitiallyDisableSubmitForStage(e),inlineHeader:this.getStageInlineHeader(e)})},handleNextStageResponse:function(e){if(this.setState({errorFetchingNextStage:!1}),e===g_askAQuestionStage.CONFIRMATION)return this.setState({nextPendingStage:g_askAQuestionStage.CONFIRMATION}),void this.submitForm();this.transitionToStage(e)},getNextStageAndHandleResponse:function(){var e=this;(0,p.getEndpoint)("/stingray/ask-a-question/stage/get",{currentStage:this.state.currentStage,isMobile:this.state.isMobile,isInlineForm:this.state.isInlineForm}).then(function(t){e.enableFormInteractions(),e.handleNextStageResponse(t)}).catch(function(){e.setState({errorFetchingNextStage:!0})})},onSubmit:function(e){e.formName===this.state.formName&&this.validateCurrentStage(!0)&&(this.disableFormInteractions(),this.state.isTourConfirmation?(this.setState({nextPendingStage:g_askAQuestionStage.CONFIRMATION}),this.submitForm()):this.getNextStageAndHandleResponse())},handleSubmitResponseBody:function(e){e.resultCode===g_apiResultCode.NO_ERROR?(e.payload.justRegistered&&((0,g.trackRegistrationConversionSuccess)(this.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN),this.setState({justRegistered:!0})),this.transitionToStage(this.state.nextPendingStage),this.setState({nextPendingStage:null})):e.resultCode===g_apiResultCode.EMAIL_IN_USE?this.setState({renderHaveWeMetDialog:!0}):e.resultCode===g_apiResultCode.PENDING_AGENT_REQUEST?(this.setState({shouldUseGIF:!0}),this.submitForm()):"The email is invalid."===e.errorMessage?(this.state.fields.email.feedback={type:"error",text:"The email is invalid."},this.trigger(this.state)):this.setState({headlineError:"Please try again."})},submitForm:function(){var e,t=this,a=this.state.showBDXExperience?"/stingray/bdx-lead-post/submit":this.state.isOpendoor?"/stingray/redbird-agent-request/submit":this.state.shouldUseGIF?"/stingray/do/general-inquiry-form/submit":"/myredfin/agent-request/submit",n=this.state.agent;this.disableFormInteractions(),this.setState({requestInFlight:!0}),e=this.state.showBDXExperience?{firstName:this.state.fields.firstName?this.state.fields.firstName.value:this.state.user&&this.state.user.firstName?this.state.user.firstName:null,lastName:this.state.fields.lastName?this.state.fields.lastName.value:this.state.user&&this.state.user.lastName?this.state.user.lastName:null,emailAddress:this.state.fields.email?this.state.fields.email.value:this.state.user&&this.state.user.email?this.state.user.email:null,phoneNumber:this.state.fields.optionalPhoneNumber?this.state.fields.optionalPhoneNumber.value:null,postalCode:this.state.fields.zipCode?this.state.fields.zipCode.value:null,notesForAgent:this.state.inlineFormSubmittedQuestion||this.state.fields.questionText.value,inquiryChannel:this.state.inquiryChannel,inquirySource:this.state.inquirySource,listingId:this.state.listingId}:this.state.isOpendoor?{firstName:this.state.fields.firstName?this.state.fields.firstName.value:null,lastName:this.state.fields.lastName?this.state.fields.lastName.value:null,emailAddress:this.state.fields.email?this.state.fields.email.value:null,phoneNumber:this.state.fields.phoneNumber?this.state.fields.phoneNumber.value:null,notesForAgent:this.state.inlineFormSubmittedQuestion||this.state.fields.questionText.value,inquiryChannel:this.state.inquiryChannel,inquirySource:this.state.inquirySource,listingId:this.state.listingId}:this.state.shouldUseGIF?{phoneNumber:this.state.isTourConfirmation?this.state.phoneNumber:this.state.fields.phoneNumber.value,notesForAgent:this.state.inlineFormSubmittedQuestion||this.state.fields.questionText.value,propertyId:this.state.propertyId,inquirySource:this.state.inquirySource,agentId:this.state.isTourConfirmation?this.state.agent.id:this.state.agent.get("id")}:{firstName:this.state.fields.firstName?this.state.fields.firstName.value:null,lastName:this.state.fields.lastName?this.state.fields.lastName.value:null,emailAddress:this.state.fields.email?this.state.fields.email.value:null,phoneNumber:this.state.fields.phoneNumber?this.state.fields.phoneNumber.value:null,"requestType-buying":!0,"requestType-selling":!1,notesForAgent:this.state.inlineFormSubmittedQuestion||this.state.fields.questionText.value,agent:n.get("cmsSlug"),agentServiceType:g_agentServiceType.HOME_BUYING,inquiryChannel:this.state.inquiryChannel,inquirySource:this.state.inquirySource,listing_id:this.state.listingId,propertyId:this.state.propertyId,mlsId:this.state.mlsId},(0,o.default)(a,{method:"POST",body:e,headers:{"Content-Type":"form"}}).then(function(e){t.setState({requestInFlight:!1}),e.ok&&t.handleSubmitResponseBody(e.body)},function(){t.setState({errorFetchingNextStage:!0})})},hideHaveWeMetDialog:function(){this.setState({renderHaveWeMetDialog:!1})},onLoginSuccess:function(e){e.newRegistration?(0,g.trackRegistrationConversionSuccess)(this.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN):(0,g.trackSignInConversionSuccess)(this.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN),this.setState({renderHaveWeMetDialog:!1,isLoggedIn:u.default.isLoggedIn()}),this.submitForm()},_getAgentFirstName:function(e){var t=e.replace(/ .*/,"");return-1!==["the","mr","mrs"," "].indexOf(t.toLowerCase())?null:c.default.capitalizeFirst(t.toLowerCase())}});t.default=_,e.exports=t.default},ORHH:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("cXUB")),i=n(a("pKkH")),o=n(a("m7qm")),s=n(a("lcmt")),l=a("QP4D"),u=n(a("/BzH")),c=n(a("8wdY")),d=a("R8lb"),f=a("G4xM"),p=o.default.createStoreFactory({listenables:u.default,init:function(e){this.setState(e),e.promise?(0,r.default)(e.promise).then(this._processData.bind(this)):this._processData(e)},_processData:function(e){if(e&&e.offerDeadlineDate&&e.timezone&&e.startAnOfferRelativeUrl){var t={};t.offerDeadlineDate=e.offerDeadlineDate,t.timezone=e.timezone,t.actionTitle="Start an Offer",t.startAnOfferRelativeUrl=e.startAnOfferRelativeUrl,t.addressInfo=e.addressInfo,(0,f.getConfigValueForKey)(f.DP_GLOBAL_CONFIG_KEYS.deviceConfig)!==g_deviceConfiguration.PHONE&&(t.message=(0,i.default)(e.offerDeadlineDate).tz(e.timezone).calendar()),!this.state.timeRemainingInterval&&(0,l.isBrowser)()&&(t.timeRemainingInterval=window.setInterval(this._updateTimeRemaining,6e4)),this.setState(t),this._updateTimeRemaining()}},_updateTimeRemaining:function(e){if(this.state.offerDeadlineDate){var t=e||new Date,a=new Date(this.state.offerDeadlineDate),n=s.default.elapsedHours(a,t),r=s.default.elapsedMinutes(a,t)%60,i=(0,f.getConfigValueForKey)(f.DP_GLOBAL_CONFIG_KEYS.deviceConfig);n>0||r>0?this.setState({title:"Reviewing offers in "+this._formatTime(n,r,i===g_deviceConfiguration.PHONE)}):(this.setState({offerDeadlineDate:null}),this._removeIntervalTimer())}},_removeIntervalTimer:function(){this.state.timeRemainingInterval&&(window.clearInterval(this.state.timeRemainingInterval),this.setState({timeRemainingInterval:null}))},_formatTime:function(e,t,a){if(e>=72){var n=Math.floor(e/24);return"".concat(c.default.formatPlural("day",n,""))}return a?"".concat(e," hr ").concat(t," min"):"".concat(c.default.formatPlural("hour",e,"")," and ").concat(c.default.formatPlural("minute",t,""))},onRedirectToOfferWizard:function(e){var t=(0,d.serializeConversionRiftEntrypoint)(e),a="".concat(this.state.startAnOfferRelativeUrl,"&epc=").concat(t);window.location=a},onUnmountStore:function(){this._removeIntervalTimer()}});e.exports=p},OfDy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditFactsConfirmationDisplayType=t.RIFT_FIELD_NAMES=t.RENOVATION_TYPES_ALLOWING_STRUCTURAL_CHANGES=t.RENOVATION_TYPE_OPTIONS=t.PROPERTY_TYPE_OPTIONS=t.MONTHLY_HOA_FREQ=t.NON_HOME_PROPERTY_TYPES=t.MAX_LOT_SQFT=t.MAX_LOT_ACRES=t.FT_PER_ACRE=void 0;t.FT_PER_ACRE=43560;t.MAX_LOT_ACRES=999;t.MAX_LOT_SQFT=99999999;var n=[g_propertyTypes.MOORAGE,g_propertyTypes.PARKING,g_propertyTypes.VACANT_LAND];t.NON_HOME_PROPERTY_TYPES=n;t.MONTHLY_HOA_FREQ=2;t.PROPERTY_TYPE_OPTIONS=function(){var e=[];for(var t in g_propertyType.idToObj)if(g_propertyType.idToObj.hasOwnProperty(t)){var a=t;e.push({value:a,label:g_propertyType.idToObj[a].displayName})}return e.sort(function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}),e};t.RENOVATION_TYPE_OPTIONS=function(){var e=[];for(var t in g_renovationType.idToObj)if(g_renovationType.idToObj.hasOwnProperty(t)){var a=t;e.push({value:a,label:g_renovationType.idToObj[a].displayName})}return e.sort(function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}),e};var r=[g_renovationType.MAJOR_REMODEL,g_renovationType.BATHROOM,g_renovationType.KITCHEN,g_renovationType.BEDROOM,g_renovationType.BASEMENT];t.RENOVATION_TYPES_ALLOWING_STRUCTURAL_CHANGES=r;t.RIFT_FIELD_NAMES={propertyType:{target:"property_type",section:"property_info"},lotSize:{target:"lot_size",section:"property_info"},lotUnit:{target:"lot_unit",section:"property_info"},yearBuilt:{target:"year_built",section:"property_info"},numStories:{section:"property_info",addTarget:"stories_add",removeTarget:"stories_remove"},numParkingSpaces:{section:"property_info",addTarget:"parking_spaces_add",removeTarget:"parking_spaces_remove"},hoaDues:{target:"hoa_dues",section:"property_info"},poolType:{target:"pool",section:"property_features"},basementType:{target:"basement",section:"property_features"},accessibilityType:{target:"accessible",section:"property_features"},greenCertification:{target:"green",section:"property_features"},hasGarage:{target:"garage",section:"property_features"},isOnWaterfront:{target:"waterfront",section:"property_features"},hasView:{target:"views",section:"property_features"}};t.EditFactsConfirmationDisplayType={REDFIN_ESTIMATE_ONLY:1,RENTAL_ESTIMATE_ONLY:2}},OrNX:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("PgSJ")),s=n(a("1RMg")),l=n(a("LDFp")),u=a("c3mQ");l.default.ensure(a("uTPd")),l.default.ensure(a("AsTD"));var c=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,null,[{key:"featureIsDisabled",value:function(e){var t=s.default.isOff(l.default.OMDP_COST_OF_OWNERSHIP_MWEB)||"Control"===s.default.getVariant(l.default.OMDP_COST_OF_OWNERSHIP_MWEB),a=s.default.isOff(l.default.OMDP_COST_OF_OWNERSHIP_DESKTOP)||"Control"===s.default.getVariant(l.default.OMDP_COST_OF_OWNERSHIP_DESKTOP);return e?t:a}},{key:"computePotentialSavingsAfterRefinancing",value:function(e,t){return e.length>0?t-e[0].monthlyPayment:0}},{key:"computeTotalMonthlyCost",value:function(e){var t=e.propertyTaxes,a=void 0===t?0:t,n=e.homeInsurance,r=void 0===n?0:n,i=e.hoaDues,o=void 0===i?0:i,s=e.mortgagePayment,l=void 0===s?0:s,u=e.utilitiesAndMaintenance;return a+r+o+l+(void 0===u?0:u)}},{key:"formatSectionTitle",value:function(e){return"".concat(o.default.formatPrice(e,0,"$")," per month")}},{key:"formatSectionSubtitle",value:function(e,t){return"".concat(e.displayName.toLowerCase(),", ").concat(t,"% interest")}},{key:"formatLendersFromBankrate",value:function(e){var t=this,a=e.lenders,n=(void 0===a?[]:a).filter(function(e){return t.lendersInfoIsValid(e)}).map(function(e){return t.formatLenderInfo(e)});return this.sortLenders(n)}},{key:"lendersInfoIsValid",value:function(e){return e&&e.payment&&e.productFriendlyName&&e.apr&&e.dateString&&e.interestRate&&e.fees&&e.lenderName&&e.nmls&&e.contactUrl&&e.totalInterestCost}},{key:"formatLenderInfo",value:function(e){return{monthlyPayment:+e.payment,mortgageType:this.cleanProductFriendlyName(e.productFriendlyName),APR:+e.apr,date:e.dateString,totalInterestCost:+e.totalInterestCost,fees:+e.fees,lenderInfo:"".concat(e.lenderName," NMLS# ").concat(e.nmls),contactUrl:e.contactUrl}}},{key:"cleanProductFriendlyName",value:function(e){return e.replace(/refinance/i,"")}},{key:"sortLenders",value:function(e){if(0===e.length)return[];e.sort(function(e,t){return e.monthlyPayment-t.monthlyPayment}),e[0].sashInfo=u.BEST_MONTHLY_SAVINGS_SASH;var t=e.shift();if(0===e.length)return[t];e.sort(function(e,t){return e.totalInterestCost-t.totalInterestCost});var a=e.shift();a.totalInterestCost<t.totalInterestCost&&(a.sashInfo=u.BEST_INTEREST_SAVINGS_SASH),e.sort(function(e,t){return e.monthlyPayment-t.monthlyPayment});var n=[t,a].concat(e).slice(0,10);return n.forEach(function(e,t){return e.rank=t}),n}}]),e}();t.default=c,e.exports=t.default},"P/+R":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("R16N")).default.createActions(["onEditFactsButtonClicked","onManagePhotosButtonClicked","onCreateOwnerEstimateLinkClicked"]);t.default=r,e.exports=t.default},P7cu:function(e,t,a){"use strict";var n=a("63Ad"),r=a("vdEC");Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var i=r(a("mXGw")),o=a("zOB4"),s=n(a("sMp4")),l=n(a("pCn5")),u=(n(a("W0B4")),n(a("yTPA"))),c=n(a("7ea6")),d=n(a("AHsC")),f="FixedHeader-AddressBanner-XOutButton";function p(e){var t=function(){s.default.updateFavorite({storeId:o.PERSONAL_PROPERTY_INFO_FAV_STORE_ID,sender:e.senderId||f,isFavorite:!1,isXout:!e.isXout,buttonType:"XOut"})};(0,i.useEffect)(function(){return u.default.keyboardXOut.listen(t)});var a=e.isXout?c.default:d.default;return i.default.createElement(l.default,{label:"X-Out",wrapperClassSet:{XOutButton:!0},onClick:t,rfTestName:"abp-xoutButton",simple:e.simple,toggledActive:e.isXout},i.default.createElement(a,{className:"svg-icon-off-color"}))}p.senderId=f,p.displayName="XOutButton",p.propTypes={},e.exports=t.default},PFRA:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=(n(a("W0B4")),n(a("mXGw"))),c=n(a("LAaD")),d=n(a("TRKi")),f=n(a("dD06")),p=n(a("FIsv")),m=n(a("McMD")),h=n(a("0O13")),g=n(a("YPLX")),_=n(a("LaW7")),v=n(a("DIpj")),y=a("I5FW"),S=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){this.searchBoxPlaceholder="City, Address"+((0,y.getCurrentCountryCode)()===g_countryCode.UNITED_STATES?", ZIP":"")}},{key:"renderTitle",value:function(){return this.props.successfulSubmit?null:u.default.createElement("div",{className:"contact-text"},u.default.createElement("h3",null,this.props.title),u.default.createElement("h3",null,this.props.titleLineTwo||null),u.default.createElement("p",null,this.props.subtitle))}},{key:"renderSearchBox",value:function(){if(!this.props.allowSearch||this.props.successfulSubmit||this.props.locationDataUnnecessary)return null;var e=this.props.requestInFlight?u.default.createElement(m.default,{size:"small",centerPosition:"none"}):null,t={name:this.props.searchBoxName,placeHolder:this.searchBoxPlaceholder,searchHandler:g.default.locationSearch,altEndPoint:"/stingray/do/general-inquiry-form/location-autocomplete",resultsShownInSections:!1,inputTabIndex:0,searchBoxRiftSection:"inquiry_box"};return this.props.locationData&&this.props.locationData.locationString&&(t.location=this.props.locationData.locationString),u.default.createElement("div",{className:"searchBoxSubForm"},u.default.createElement("span",{className:"field required","aria-label":"Search field"},u.default.createElement("span",{className:"label"},"Where are you searching for homes?"),u.default.createElement(h.default,t),e))}},{key:"renderSubform",value:function(){if(this.props.locationData.teamId||this.props.locationDataUnnecessary)return d.default.createRootElement(this.props.substores.redfinFormStore,u.default.createElement(_.default,{formName:"GeneralInquiryRedfinSubForm",submitText:this.props.submitText,inquiryChannel:this.props.inquiryChannel,inquirySource:this.props.inquirySource,isDialog:this.props.isDialog,disclaimer:this.props.disclaimer}));var e=this.props.locationData.partnerAgent;if(e){var t=d.default.createRootElement(this.props.substores.partnerAgentRequestFormStore,u.default.createElement(f.default,{agentId:e.get("id"),agentFirstName:e.get("firstName"),agentFullName:e.get("fullName"),agentType:g_agentType.CONNECT}));return u.default.createElement("div",{className:"partnerAgentSubform"},t,u.default.createElement("div",{className:"agentCardContainer"},u.default.createElement(p.default,{agent:this.props.locationData.partnerAgent,size:"small-icon",showContact:!1})),u.default.createElement("div",{className:"clear"}))}return this.props.locationData.outOfArea?d.default.createRootElement(this.props.substores.outOfAreaFormStore,u.default.createElement(v.default,null)):null}},{key:"render",value:function(){if(!this.props.shouldShowFormCallback||!this.props.shouldShowFormCallback())return null;var e=u.default.createElement("div",{className:"GeneralInquiryForm"},this.renderTitle(),this.renderSearchBox(),this.renderSubform());return this.props.displayAsSection?u.default.createElement("section",{id:"contactus",role:"form","aria-label":"Contact Redfin"},u.default.createElement(c.default,{section:"inquiry_box",eventDetails:this.props.riftParams},e)):e}}]),t}(u.default.Component);S.displayName="inquiries.generalInquiries.react.GeneralInquiryForm",S.propTypes={},S.defaultProps={searchBoxName:"gif_search_box",title:"Ask an Agent",subtitle:"Were here to help seven days a week.",submitText:"Send",displayAsSection:!0,isDialog:!1},e.exports=S},PHpU:function(e,t,a){},PRCX:function(e,t,a){"use strict";var n=null,r=[],i=null,o={currentState:{sideBarFloatingXPosition:null},initResizeListener:function(){n||(n=window.addEventListener("resize",function(){this._checkResize()}.bind(this)))},_checkResize:function(){var e={sideBarFloatingXPosition:this.calculatePositions().sideBarFloatingXPosition},t=!1;for(var a in this.currentState)this.currentState.hasOwnProperty(a)&&e[a]!==this.currentState[a]&&(t=!0);if(t)for(var n=0;n<r.length;n++)r[n](e)},onStateChange:function(e){r.push(e)},addSideBarContentContainerNode:function(e){i=e,this.initResizeListener()},calculatePositions:function(){return{sideBarFloatingXPosition:this.calculateHorizontalPositionForSideBarWhileFloating()}},calculateHorizontalPositionForSideBarWhileFloating:function(){if(i)return i.offsetLeft+i.offsetParent.offsetLeft-window.scrollX}};e.exports=o},PUZH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("cMqt"),r={getQuestionnaire:function(e){var t="/stingray/api/questionnaire/sections/".concat(e);return n.ReactServerAgent.get(t).then(this._parseResponseUsingFieldAndGlobalErrors)},getAnswers:function(e,t){var a="/stingray/api/questionnaire/".concat(e,"/answers");return t&&(a+="?entityId=".concat(t)),n.ReactServerAgent.get(a).then(this._parseResponseUsingFieldAndGlobalErrors)},saveAnswer:function(e,t){var a="/stingray/api/questionnaire/".concat(e,"/answers");return n.ReactServerAgent.post(a,t).type("json").then(this._parseResponseUsingFieldAndGlobalErrors)},_parseResponseUsingFieldAndGlobalErrors:function(e){if(e){if(200!==(e.status||e.statusCode))throw new Error("Server returned invalid response status of ".concat(e.statusCode));if(e.body){if(e.body.globalErrors&&e.body.globalErrors.length)throw new Error(e.body.globalErrors[0].message);if(e.body.fieldErrors&&e.body.fieldErrors.length)throw new Error(e.body.fieldErrors[0].message);if(e.body.resultCode===g_apiResultCode.NOT_LOGGED_IN)throw new Error("You are not logged in. This may be because you logged out in another browser window, or because your account was inactive for a long period of time. To prevent unauthorized access to your account, please log in and try again.");if(e.body.resultCode===g_apiResultCode.STALE_OBJECT)throw new Error("Oops! It looks like your agent might have made updates since you opened your Deal Room. To ensure you have the most up-to-date version, please refresh the page.");if(e.body.resultCode&&e.body.resultCode!==g_apiResultCode.NO_ERROR)throw new Error(e.body.errorMessage||"An unexpected server error occurred.");return e.body.payload}throw new Error("Server response body was unavailable.")}throw new Error("Server response was unavailable.")}};t.default=r,e.exports=t.default},PrQJ:function(e,t,a){},PsKC:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad"),i=r(a("gki9")),o=r(a("SDJZ")),s=r(a("NToG")),l=r(a("K4DB")),u=r(a("+IV6")),c=r(a("kxHp")),d=r(a("eef+"));a("WXJB");var f=r(a("IIb6")),p=n(a("YCJs")),m=r(a("cIuk"));a("31kO"),a("ov5i");var h=r(a("94Bj")),g=r(a("cXUB")),_=r(a("iQdB")),v=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"getCriticalComponentsCalculator",value:function(){return p}},{key:"getBundleName",value:function(){return"RSDPDesktop"}},{key:"getDelayLoadedBundleName",value:function(){return"RSDPDesktopDelayLoadedComponents"}},{key:"getDelayedComponentsOrderingCalculator",value:function(){var e=g.default.defer();return a.e(6).then(function(t){e.resolve(a("VBE/"))}.bind(this).bind(null,a)).catch(a.oe),e.promise}},{key:"getPageStore",value:function(){return m.default}},{key:"getComponentOrderingConfigs",value:function(){var e=h.default.isOn(_.default)&&"Variant"===h.default.getVariant(_.default);return(0,i.default)({},(0,c.default)((0,u.default)(t.prototype),"getComponentOrderingConfigs",this).call(this),{isInHomeOwnerToolsExperiment:e})}}]),t}(f.default);e.exports=v},Qc3W:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("TlVh"),i=n(a("cXUB")),o=n(a("mhup")),s=n(a("adVl")),l=n(a("2eC9")),u=n(a("gwIM")),c=n(a("R6XQ")),d=(0,r.createStoreFactory)({init:function(){this.questionnaireViewStore=new u.default({submitOnSingleSelection:!0}),this.setState({visible:!1,showCtaSection:!1,questionsAndAnsweredOptions:null,needsRefreshWhenNotNavigating:!1,sellerConsultFlowUrl:null,ownerDashboardUrl:null,questionnaireViewData:null}),this.listenTo(o.default.show,this._onShow),this.listenTo(o.default.hide,this._onHide),this.listenTo(s.default.questionnaireCompleted,this._onQuestionnaireCompleted)},_onShow:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.sellerConsultFlowUrl,n=t.ownerDashboardUrl,r=t.claimHomeResponse,o=t.needsRefreshWhenNotNavigating;return r&&1===r.activeAndNonActiveClaimCount?(this.setState({needsRefreshWhenNotNavigating:o}),this.questionnaireDataStore||(this.questionnaireDataStore=new l.default(c.default.OWNER_ONBOARDING.id),this.setState({questionnaireViewData:this.questionnaireViewStore})),this.questionnaireDataStore.whenResolved().then(function(){e.setState({visible:!0,showCtaSection:!1,sellerConsultFlowUrl:a,ownerDashboardUrl:n})})):(n?window.location.href=n:o&&window.location.reload(),i.default.resolve())},_onHide:function(){this.setState({visible:!1}),this.state.needsRefreshWhenNotNavigating&&window.location.reload()},_onQuestionnaireCompleted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.questionsAndAnsweredOptions;this.setState({showCtaSection:!0,questionsAndAnsweredOptions:t})}});t.default=d,e.exports=t.default},"R+1u":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("YAhj")),c=n(a("8Z2X")),d=n(a("W0B4")),f=n(a("mU1b")),p=n(a("cuvU")),m=n(a("FDyu")),h=n(a("D0QW")),g=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"_getPrice",value:function(){var e=this.props.priceInfo;if(!e||!e.amount)return null;if(e.hasOwnProperty("displayLevel")&&e.displayLevel&&!g_displayLevel.idToObj[e.displayLevel].isVisible&&g_displayLevel.idToObj[e.displayLevel].isReachable)return this._signInOrVerifyWithLock(e.displayLevel,function(){return h.default.trackClick(h.default.clicks.CENSORED_PRICE)});var t=p.default.format(e.amount);return this.props.listingType?(this.props.listingType===g_listingType.NEW_CONSTRUCTION_PLAN&&(t+="+"),u.default.createElement("div",null,u.default.createElement("span",null,"$"),u.default.createElement("span",null,t))):"$"+t}},{key:"_getPriceLabel",value:function(){if("Last List Price"!==this.props.priceInfo.label)return this.props.priceInfo.label;return u.default.createElement(f.default,{term:"Last List Price",definition:"Redfin couldn't find a public record of the final sale price of this home. This is the last price at which the home was listed for sale.",definitionLink:"https://support.redfin.com/hc/en-us/articles/360001432472-Search-for-Sold-Homes"},this.props.priceInfo.label)}},{key:"_signInOrVerifyWithLock",value:function(e,t){return u.default.createElement(m.default,{displayLevel:e,dataSourceId:this.props.dataSourceId,trackClick:t,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT},u.default.createElement(c.default,{className:"size-tiny"}))}},{key:"render",value:function(){return null==this._getPrice()?null:u.default.createElement("div",{className:this.props.className,"data-rf-test-id":"abp-price"},u.default.createElement("div",{className:"statsValue"},this._getPrice()),u.default.createElement("span",{className:"statsLabel"},this._getPriceLabel()))}}],[{key:"propTypes",get:function(){return{priceInfo:d.default.object,listingType:d.default.number}}},{key:"defaultProps",get:function(){return{priceInfo:{label:"",amount:"Unknown"}}}}]),t}(u.default.Component);t.default=g,e.exports=t.default},RDeN:function(e,t,a){},RxnA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAgentPictureUrl=function(e,t){var a=t.getPhotoUrl150x150();e||(a=t.getPhotoUrl()||t.getPhotoUrl270x360());return a||g_imageServerUrl+n},t.getScreenWidth=void 0;var n="/images/serviceProvider/person-270x360.jpg";t.getScreenWidth=function(){return"undefined"!=typeof document&&document&&document.documentElement.clientWidth||"undefined"!=typeof window&&window&&window.innerWidth||0}},"S+CJ":function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("NToG")),s=n(a("K4DB")),l=n(a("+IV6")),u=n(a("T1e2")),c=n(a("eef+")),d=n(a("OvAC")),f=(n(a("W0B4")),n(a("8Z2X"))),p=n(a("luvc")),m=n(a("IgEu")),h=a("WPTq"),g=a("qfcJ"),_=a("bqcM"),v=a("YAhj"),y=a("8Jek"),S=a("0MY4"),E=a("SE8B"),I=a("FDyu"),T=a("OFlL"),C=a("AYTD").navigateToSectionId,b=a("D0QW"),A=a("R+1u"),k=a("cuvU"),N=a("hnEv");a("7B61");var O=function(e){var t=e.priceInfo,a=e.url;return{"@context":"http://schema.org","@type":"Offer",priceCurrency:"USD",price:t.amount,url:(0,_.getSecureWebServerUrl)()+a}},D=function(e){var t=e.streetAddress,a=e.city,n=e.state,r=e.zip,i=e.countryCode,o=e.priceInfo,s=e.url,l=e.latLong,u=e.primaryPhotoUrl,c=(0,g.getFullAddress)(t,a,n,r),d=l&&l.latitude&&l.longitude?{"@type":"GeoCoordinates",latitude:l.latitude,longitude:l.longitude}:void 0;return{"@context":"http://schema.org","@type":["Product","SingleFamilyResidence"],name:c,offers:{"@type":"Offer",priceCurrency:"USD",price:o.amount,url:(0,_.getSecureWebServerUrl)()+s},address:{"@type":"PostalAddress",streetAddress:t.assembledAddress,addressLocality:a,addressRegion:n,postalCode:r,addressCountry:i},geo:d,image:u}},R=function(){return v.createElement("span",null,"")},P=function(e){function t(){var e,a;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return a=(0,s.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o))),(0,d.default)((0,u.default)(a),"state",{showAvmBlurb:!1}),(0,d.default)((0,u.default)(a),"_getAvmValue",function(){return a.props.avmInfo?k.dollars(a.props.avmInfo.predictedValue):null}),(0,d.default)((0,u.default)(a),"_getAvmLabel",function(){return v.createElement("span",{className:"clickable",ref:a._setFlyoutParent},v.createElement("span",{className:"avmLabel",onClick:a._toggleAvmBlurbShowing},"Redfin Estimate"))}),(0,d.default)((0,u.default)(a),"_viewSqft",function(e){e.preventDefault();var t=e.target.getAttribute("href").substring(1);C(t)}),(0,d.default)((0,u.default)(a),"_getSqft",function(){var e=a.props.sqFt;return e.link?v.createElement("a",{target:"_self",onClick:a._viewSqft,href:a.props.sqFt.link},"View"):!g_displayLevel.idToObj[e.displayLevel].isVisible&&g_displayLevel.idToObj[e.displayLevel].isReachable?a._signInOrVerifyWithLock(a.props.sqFt.displayLevel,a._hiddenSqFtClick):e.value?N.dash(k.format(e.value)):R()}),(0,d.default)((0,u.default)(a),"_getSqftInfo",function(){var e=a._getSqft(),t=a.props.pricePerSqFt?"$"+a.props.pricePerSqFt+" / Sq. Ft.":"";return t?v.createElement("span",null,v.createElement("span",{className:"statsValue"},e)," ",v.createElement("span",{className:"sqft-label"},"Sq. Ft."),v.createElement("div",{className:"statsLabel","data-rf-test-id":"abp-priceperft"},t)):v.createElement("span",null,v.createElement("span",{className:"statsValue"},e),v.createElement("div",{className:"statsLabel"},"Sq. Ft."))}),(0,d.default)((0,u.default)(a),"_hideAvmBlurb",function(){a.setState({showAvmBlurb:!1})}),(0,d.default)((0,u.default)(a),"_toggleAvmBlurbShowing",function(){S.trackClick(S.clicks.FLYOUT_LINK),a.setState({showAvmBlurb:!a.state.showAvmBlurb})}),(0,d.default)((0,u.default)(a),"_getAvmBlurb",function(){return a.state.showAvmBlurb?v.createElement(E,{alignment:"left",animateOnAppear:!0,onBlur:a._hideAvmBlurb,parent:a.state.flyoutParent,dialogProps:{closeOnBackgroundClick:!0},show:a.state.showAvmBlurb,showDialogOnSmallScreen:!0},v.createElement(T,(0,r.default)({},a.props.avmInfo,{className:"fly",contactBoxData:a.props.contactBoxData,riftTracker:S}))):null}),(0,d.default)((0,u.default)(a),"_renderWithAvm",function(){var e=(0,p.default)("screen-size")<p.default.screenSizes.MEDIUM,t=R(),n=(0,h.getBedsInfo)(a.props.beds,a.props.supplementaryBedrooms,t),r=(0,h.getBathsInfo)(a.props.baths,a.props.numFullBaths,a.props.numPartialBaths),i=r.numBaths?r.numBaths:t,o=a.props.avmInfo&&a.props.avmInfo.displayLevel===g_displayLevel.AGENT_ACCESSIBLE,s=O({priceInfo:a.props.priceInfo,url:a.props.url});return v.createElement("div",{className:"HomeMainStats float-right","data-rf-test-id":"abp-homeinfo-homemainstats"},v.createElement("div",{className:"info-block avm","data-rf-test-id":"avm-price"},v.createElement("div",{className:y("statsValue",{"agent-only":o})},a._getAvmValue()),v.createElement("span",{className:y({"agent-only":o})},a._getAvmLabel()),a._getAvmBlurb(e)),!e&&v.createElement(A,{priceInfo:a.props.priceInfo,className:"info-block price",dataSourceId:a.props.dataSourceId}),v.createElement("div",{className:"info-block","data-rf-test-id":"abp-beds"},v.createElement("div",{className:"statsValue"},n.bedsDisplay),v.createElement("span",{className:"statsLabel"},1===n.totalBeds?"Bed":"Beds")),v.createElement("div",{className:"info-block","data-rf-test-id":"abp-baths"},v.createElement("div",{className:"statsValue"},i),v.createElement("span",{className:"statsLabel"},r.label)),v.createElement("div",{className:"info-block sqft","data-rf-test-id":"abp-sqFt"},a._getSqftInfo()),v.createElement(m.default,{blob:s}))}),(0,d.default)((0,u.default)(a),"_renderWithoutAvm",function(){var e=R(),t=(0,h.getBedsInfo)(a.props.beds,a.props.supplementaryBedrooms,e),n=(0,h.getBathsInfo)(a.props.baths,a.props.numFullBaths,a.props.numPartialBaths),r=n.numBaths?n.numBaths:e,i=D({streetAddress:a.props.streetAddress,city:a.props.city,state:a.props.state,zip:a.props.zip,countryCode:a.props.countryCode,priceInfo:a.props.priceInfo,url:a.props.url,latLong:a.props.latLong,primaryPhotoUrl:a.props.primaryPhotoUrl});return v.createElement("div",{className:"HomeMainStats home-info inline-block float-right","data-rf-test-id":"abp-homeinfo-homemainstats"},v.createElement(A,{priceInfo:a.props.priceInfo,listingType:a.props.listingType,className:"info-block price",dataSourceId:a.props.dataSourceId}),v.createElement("div",{className:"info-block","data-rf-test-id":"abp-beds"},v.createElement("div",{className:"statsValue"},t.bedsDisplay),v.createElement("span",{className:"statsLabel"},1===t.totalBeds?"Bed":"Beds")),v.createElement("div",{className:"info-block","data-rf-test-id":"abp-baths"},v.createElement("div",{className:"statsValue"},r),v.createElement("span",{className:"statsLabel"},n.label)),v.createElement("div",{className:"info-block sqft","data-rf-test-id":"abp-sqFt"},a._getSqftInfo()),v.createElement(m.default,{blob:i}))}),(0,d.default)((0,u.default)(a),"_setFlyoutParent",function(e){a.setState({flyoutParent:e})}),(0,d.default)((0,u.default)(a),"_hiddenSqFtClick",function(){return b.trackClick(b.clicks.CENSORED_SQ_FT)}),(0,d.default)((0,u.default)(a),"_signInOrVerifyWithLock",function(e,t){return v.createElement(I,{displayLevel:e,dataSourceId:a.props.dataSourceId,trackClick:t,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT},v.createElement(f.default,{className:"size-tiny"}))}),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return this.props.avmInfo?this._renderWithAvm():this._renderWithoutAvm()}}]),t}(v.Component);(0,d.default)(P,"displayName","HomeMainStats"),(0,d.default)(P,"defaultProps",{sqFt:{value:null,displayLevel:g_displayLevel.ACCESSIBLE}}),P.propTypes={},e.exports=P},"S8r/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractCanonicalUrlFromLinkTags=void 0;t.extractCanonicalUrlFromLinkTags=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="";return e.forEach(function(e){"canonical"===e.rel&&(t=e.href)}),t}},SPF9:function(e,t,a){},ScUM:function(e,t,a){},Svbq:function(e,t,a){},TK2v:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("RiSW")),o=n(a("gki9")),s=n(a("mXGw")),l=a("cMqt"),u=a("TlVh"),c=n(a("9ncp")),d=n(a("wJDW")),f=n(a("yD/q")),p=(n(a("cXUB")),l.logging.getLogger({name:"corvair.sites.customer-pages.stores.COPDataStore",color:{server:217,client:"rgb(212,127,127)"}})),m=(0,u.createStoreFactory)({init:function(e){var t=this,a=e.copDataStore,n=e.componentStorePromise;this.setState({copDataStore:a,componentStorePromise:n}),n.then(function(e){t.setState({componentStore:e})})}}),h=(0,u.createStoreFactory)({init:function(e){var t=e.isPageCOPEligible,a=e.widgetComponentPropsOverridesMap,n=e.disableCOPDefaultWidgetTypes,r=e.disableAllCOPDefaultWidgets;this.setState({isPageCOPEligible:t,disableCOPDefaultWidgetTypes:n,disableAllCOPDefaultWidgets:r,onWidgetHideCallbacks:[],namedFlyouts:{},currentFlyout:null,_getWidgetInfo:this._getWidgetInfo.bind(this)}),this.widgetWrapperStores={},this.extraRenderDelayPromises=[],this.widgetComponentPropsOverridesMap=a},requestPlacement:function(e){var t=this;if(!this.state.isPageCOPEligible)return p.debug("Page is not COP eligible; not requesting placement ".concat(e)),void this.setState({placementInfo:null});p.debug("Requesting COP placement ".concat(e,""));var a=(0,c.default)(e).then(function(a){return p.debug("Received COP placement ".concat(e,".")),a?{placementName:a.placementName,riftParams:a.riftParams,gaExperimentInfo:a.gaExperimentInfo,refExperimentFlag:a.refExperimentFlag,pageMetadata:a.pageMetadata,allWidgetsInfo:t._createWidgetsInfoArray(a,t.widgetComponentPropsOverridesMap)}:null}).catch(function(t){return p.error('While fetching or parsing "'.concat(e,'" placement:'),t),null});this.setState({placementInfo:a})},getWidgetComponentState:function(e){return this._getWidgetWrapperStore(e).when("componentStore").then(function(e){return e.componentStore})},setWidgetComponentState:function(e,t){var a=this;this.getWidgetComponentState(e).then(function(n){a._getWidgetWrapperStore(e).setState({componentStore:(0,o.default)({},n||{},t)})})},registerFlyout:function(e){var t=this.state.namedFlyouts;if(t[e])throw new Error("A flyout with that name was already registered: ".concat(e));t[e]=!0,this.setState({namedFlyouts:t})},unregisterFlyout:function(e){var t=this.state,a=t.namedFlyouts;t.currentFlyout===e&&this.dismissCurrentFlyout(),delete a[e],this.setState({namedFlyouts:a})},pickAFlyout:function(){var e=this;if(this.state.currentFlyout)return null;var t=this._getWidgetInfo("COPFlyout");if(!t)return null;var a=(t.widgetStartingProps||{}).flyoutNames;if(!a)return p.warning("COPFlyout config doesn't have a flyoutNames array",t),null;var n=a.filter(function(t){return e.state.namedFlyouts.hasOwnProperty(t)})[0];return this.setState({currentFlyout:n||null}),n||null},dismissCurrentFlyout:function(){this.state.currentFlyout&&p.info("Hiding current COPFlyout named:",this.state.currentFlyout),this.setState({currentFlyout:null})},getWidgetRootElem:function(e,t){return s.default.createElement(l.RootElement,{listen:this._getWidgetWrapperStore(e).whenResolvedEmitter()},s.default.createElement(function(a){var n=a.copDataStore,o=a.componentStore,l=(0,i.default)(a,["copDataStore","componentStore"]),u=n._getWidgetInfo(e),c=t&&(!n.isPageCOPEligible||n.disableAllCOPDefaultWidgets||n.disableCOPDefaultWidgetTypes.indexOf(e)>=0);if(!u||c||n.disableAllCOPWidgets)return null;var d=u.widgetComponent,f=u.widgetStartingProps;return s.default.createElement(d,(0,r.default)({onHideCallbacks:n.onWidgetHideCallbacks},f,o,l))},null))},hasWidgetPromise:function(e){var t=this;return this.when("placementInfo").then(function(){return!!t._getWidgetInfo(e)})},disableDefaultWidgetType:function(e){var t=this;if(e&&e.then){var a=e.then(function(e){e&&t.disableDefaultWidgetType(e)});this._registerRenderDelayPromise(a)}else{if(this.state.disableCOPDefaultWidgetTypes.indexOf(e)>=0)return;this.setState({disableCOPDefaultWidgetTypes:this.state.disableCOPDefaultWidgetTypes.concat(e)})}},disableAllDefaultWidgets:function(){this.setState({disableAllCOPDefaultWidgets:!0})},disableAllWidgets:function(){this.setState({disableAllCOPWidgets:!0})},registerOnWidgetHideCallback:function(e){this.setState({onWidgetHideCallbacks:this.state.onWidgetHideCallbacks.concat([e])})},_getWidgetInfo:function(e){return(this.state.placementInfo&&this.state.placementInfo.allWidgetsInfo||[]).filter(function(t){return t.widgetType===e})[0]},_getWidgetWrapperStore:function(e){var t=this;return this.widgetWrapperStores[e]||(this.widgetWrapperStores[e]=new m({copDataStore:this,componentStorePromise:this.when("placementInfo").then(function(){return(t._getWidgetInfo(e)||{}).widgetComponentStore})})),this.widgetWrapperStores[e]},_createWidgetsInfoArray:function(e,t){return(e&&e.widgets||[]).filter(function(t){var a=null!=d.default[t.type];if(!a){var n=e.riftParams.mf_experience;p.error("I don't know how to render ".concat(t.type,", from ").concat(n))}return a}).map(function(a){var n=d.default[a.type],r=n.component,i=n.componentStore,s=f.default.pickProps(a.data),l=t[a.type]||{},u=(0,o.default)({},s,l,{riftParams:e.riftParams});return{widgetType:a.type,widgetComponent:r,widgetComponentStore:i?new i(u):null,widgetStartingProps:u}})},_registerRenderDelayPromise:function(e){}});t.default=h,e.exports=t.default},Tkev:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(a("OvAC")),i=(n(a("W0B4")),n(a("8Jek"))),o=n(a("ma35"));function s(e){if(e.hidden)return null;var t={backgroundImage:"url(".concat(g_imageServerUrl,"/images/search/apps/interstitial/logo@2x.png)")},a=(0,i.default)((0,r.default)({MobileInterstitial:!0},e.className,!!e.className));return React.createElement("div",{className:a,id:"mobileDPInterstitial",onTouchMove:function(e){return e.preventDefault()}},React.createElement("div",{className:"header bg-color-white"},React.createElement("div",{className:"logo",style:t})),e.topImageSection,l(e),e.children,React.createElement(o.default,{type:"primary",size:"large",onClick:e.positiveClickHandler,className:"openInAppButton v3"},e.cta_text),React.createElement(o.default,{type:"text",size:"large",onClick:e.negativeClickHandler,className:"openInBrowserButton v3"},e.continue_to_mobile_site_text),e.bottomImageSection)}a("sUNJ");var l=function(e){var t=e.title_text_line_1,a=e.title_text_line_2;return e.deviceConfig===g_deviceConfiguration.TABLET?React.createElement("div",{className:"message"},React.createElement("div",null,t+" "+a)):React.createElement("div",{className:"message"},React.createElement("div",null,t),React.createElement("div",null,a))};s.propTypes={},e.exports=t.default},URif:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("Nwge")),i=n(a("LDFp"));i.default.ensure(a("tTYd"));var o=a("BQxr"),s=(0,r.default)(new o,{name:"ComingSoonSectionRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{COMING_SOON_RIFT_TRACKER:{section:"coming_soon_banner",target:"",expectedParams:["type","days_until_list"]}},clicks:{UPDATES_LINK:{section:"coming_soon_banner",target:"updates_link",expectedParams:["type","days_until_list"]},UPDATES_CANCEL_LINK:{section:"coming_soon_banner",target:"updates_cancel_link",expectedParams:["type","days_until_list"]},SCHEDULE_EARLY_TOUR_LINK:{section:"coming_soon_banner",target:"schedule_early_tour_link",expectedParams:["type","days_until_list"]}}});e.exports=s},UbZX:function(e,t,a){"use strict";var n=a("63Ad")(a("luvc")),r=a("cXUB"),i=a("m7qm"),o=a("eoGF"),s=a("chdG"),l=a("56UE"),u=i.createStoreFactory({mixins:[s],init:function(e){if(!e||!e.propertyId)throw new Error("propertyId not defined");this.setState({propertyId:e.propertyId,listingId:e.listingId,accessLevel:e.accessLevel,endpoint:e.endpoint})},getMomentProperties:function(){return r(o.get(this.state.endpoint)).then(function(e){if(e.resultCode!==g_apiResultCode.NO_ERROR)throw new Error({apiErr:e});var t=e.payload,a=t.shouldShowMoment;a&&this.setState({shouldShowMoment:a,momentMessage:t.message,momentTitle:t.title,momentActionTitle:t.actionTitle,momentImagePath:t.imagePath,numPrevPrompts:t.momentDisplayCounter,isMobile:(0,n.default)("screen-size-tiny")||(0,n.default)("screen-size-small")})}.bind(this),function(e){throw new Error({xhrErr:e})})},listenables:l,onShouldShowTourHomeMoment:function(){this.getMomentProperties()}});e.exports=u},Uce5:function(e,t,a){"use strict";var n=a("63Ad"),r=a("cMqt"),i=a("wIt4"),o=a("TlVh"),s=n(a("8wdY")),l=a("Xee4"),u=n(a("1uyf")),c=n(a("YPLX")),d=n(a("7Qr0")),f=n(a("fXZz")),p=n(a("PPy8")),m=n(a("ZpgJ")),h=n(a("WSab"));a("C3UG"),a("mdaO");var g=r.logging.getLogger({name:"corvair.sites.customer-pages.components.inquiries.generalInquiries.GeneralInquiryStore",color:{server:159,client:"rgb(127,212,212)"}}),_=["teamId","partnerAgent","regionTypeId","regionTableId","propertyId","locationString","outOfArea"];e.exports=(0,o.createStoreFactory)({listenables:[c.default,u.default],storeName:null,substoreFormNameSuffix:"",init:function(e){var t=this;(e=e||{}).inquirySource||g.error("Created GeneralInquiryStore without required inquirySource parameter."),this.opts=e,this.storeName=e.storeName||s.default.randomShortString(),this.substoreFormNameSuffix+=this.storeName;var a=this.getInitialQueryParams(e),n=this.getRouting(a,!0);h.default.whenReady().then(function(){var r=m.default.getJsonLogin();t.setState({login:r,generalInquiryInitialization:n,shouldShowFormCallback:t.shouldShowForm,allowSearch:!!e.allowSearch,inquiryChannel:e.inquiryChannel||g_inquiryChannel.GEN_INQUIRY_FORM,inquirySource:e.inquirySource,locationData:a,defaultCustomerNotes:e.defaultCustomerNotes,noteToPrependToInquirySubmission:e.noteToPrependToInquirySubmission}),n.then(t.handleInitialRoutingResponse)})},shouldShowForm:function(){if(this.state.locationDataUnnecessary)return!0;var e=this.state.locationData;return!!(this.state.allowSearch||e&&(e.teamId||e.partnerAgent))},getInitialQueryParams:function(e){var t={checkAgentStatus:!0},a=(0,l.get)();return e.regionId&&e.regionType?(t.regionTypeId=e.regionType,t.regionTableId=e.regionId):e.unifiedSearchId?(t.locationId=e.unifiedSearchId,t.locationResultType=e.locationResultType):e.propertyId?t.propertyId=e.propertyId:e.businessMarketId?t.businessMarketId=e.businessMarketId:a&&a.id&&(t.locationId=a.id,t.locationResultType=a.type),t},handleInitialRoutingResponse:function(e){e||(e={},g.error("ACE-655 Unexpectedly got empty response from GeneralInquiryFormController based on query params "+JSON.stringify(this.getInitialQueryParams(this.opts||{}))));var t={locationData:e.locationDataUnnecessary?this.state.locationData:this.getLocationDataFromResponse(e),locationDataUnnecessary:e.locationDataUnnecessary},a=new d.default({formConfig:{login:this.state.login,defaultCustomerNotes:this.state.defaultCustomerNotes},inquiryChannel:this.state.inquiryChannel,inquirySource:this.state.inquirySource,formNameSuffix:this.substoreFormNameSuffix,locationData:t.locationData,noteToPrependToInquirySubmission:this.state.noteToPrependToInquirySubmission}),n=(0,o.createStoreFactory)(p.default)({extraState:{inquiryChannel:this.state.inquiryChannel,inquirySource:this.state.inquirySource,loggedIn:!!this.state.login,formName:"GeneralInquiryPartnerAgentRequest"+this.substoreFormNameSuffix},formConfig:{hideNames:!0,noBuySellChecks:!0,phone:this.state.login&&this.state.login.phoneNumber,formName:"GeneralInquiryPartnerAgentRequest"+this.substoreFormNameSuffix}}),r=new f.default({login:this.state.login,formNameSuffix:this.substoreFormNameSuffix,locationData:t.locationData});t.substores={redfinFormStore:a,partnerAgentRequestFormStore:n,outOfAreaFormStore:r},this.setState(t),this.updatePartnerAgentRequestSubStoreWithNewLocation()},getRouting:function(e,t){var a=(new Date).getTime(),n="undefined"==typeof window?"server":"client";return(0,i.getEndpoint)("/stingray/do/general-inquiry-form/routing-for-location",e).then(function(e){t&&g.time("".concat("generalInquiryForm.timing",".initialRouting.request.").concat(n),(new Date).getTime()-a);var r=(new Date).getTime(),o=(0,i.doObjectGraph)()(e);return t&&g.time("".concat("generalInquiryForm.timing",".initialRouting.objectGraph.").concat(n),(new Date).getTime()-r),o})},getLocationDataFromResponse:function(e){var t={};return _.forEach(function(a){t[a]=e[a]||null}),t},updatePartnerAgentRequestSubStoreWithNewLocation:function(){if(this.state.locationData.partnerAgent){this.state.substores.partnerAgentRequestFormStore.setState({agent:this.state.locationData.partnerAgent,propertyId:this.state.locationData.propertyId});var e="I'd like to know more about homes "+(this.state.locationData.propertyId?"near ":"in ")+this.state.locationData.locationString+".";this.state.substores.partnerAgentRequestFormStore.updateComments(e)}},onLocationSearch:function(e){this.setState({requestInFlight:!0}),this.getRouting({locationId:e.id}).then(this.handleLocationResponse.bind(this))},handleLocationResponse:function(e){e=e||{},c.default.newLocation(this.getLocationDataFromResponse(e)),this.setState({requestInFlight:!1})},onNewLocation:function(e){this.setState({locationData:e}),this.updatePartnerAgentRequestSubStoreWithNewLocation()},updateInquirySourceId:function(e){this.state.substores.redfinFormStore.setState({inquirySource:e}),this.state.substores.partnerAgentRequestFormStore.setState({inquirySource:e})},onFormSubmitSuccess:function(e,t){this.setState({successfulSubmit:!0}),!this.state.login&&t&&(this.setState({login:t}),u.default.onLoginDone(t))},onOnLoginDone:function(){if(!this.state.successfulSubmit){var e={checkAgentStatus:!0};for(var t in this.state.locationData)this.state.locationData.hasOwnProperty(t)&&(e[t]=this.state.locationData[t]);this.substoreFormNameSuffix+="LoggedIn",this.getRouting(e).then(this.handleInitialRoutingResponse)}}})},UgQd:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("m7qm")),i=n(a("8Llx")),o=a("f2dk"),s=n(a("P/+R")),l=n(a("WHai")),u=n(a("OfDy")),c=n(a("HQal")),d=a("Vhfq"),f=a("pnIS"),p=a("R8lb"),m=n(a("1RMg")),h=n(a("LDFp"));h.default.ensure(a("kOlc"));var g=a("cMqt").logging.getLogger({name:"corvair.sites.customer-pages.stores.OwnerVerificationStore",color:{server:147,client:"rgb(127,127,212)"}});function _(e){var t=e.destination,a=e.propertyId,n=e.listingId,r=e.sourcePage,i=e.queryParams;return t===f.DESTINATIONS.EDIT_FACTS?(0,f.buildEditFactsPageUrl)({propertyId:a,sourcePage:r,queryParams:i}):t===f.DESTINATIONS.PHOTO_MANAGER?(0,f.buildPhotoManagerPageUrl)({propertyId:a,listingId:n,sourcePage:r}):t===f.DESTINATIONS.FACTS_CHECK?(0,f.buildFactCheckPageUrl)({propertyId:a}):null}var v=r.default.createStoreFactory({listenables:[s.default],init:function(e){if(!e||!e.propertyId)throw new Error("propertyId undefined");this.setState({propertyId:e.propertyId,listingId:e.listingId,requestInFlight:!1,sourcePage:e.sourcePage,pageType:e.pageType,isAmp:e.isAmp})},onEditFactsButtonClicked:function(e,t,a){this._onHomeOwnerAction({riftContext:e,epostcardSource:t,destination:f.DESTINATIONS.EDIT_FACTS,sourcePageOverride:a})},onManagePhotosButtonClicked:function(e,t){this._onHomeOwnerAction({riftContext:e,epostcardSource:t,destination:f.DESTINATIONS.PHOTO_MANAGER,sourcePageOverride:null})},onCreateOwnerEstimateLinkClicked:function(e,t){this._onHomeOwnerAction({riftContext:e,epostcardSource:t,destination:f.DESTINATIONS.FACTS_CHECK,sourcePageOverride:null})},_onHomeOwnerAction:function(e){var t=this,a=e.riftContext,n=e.epostcardSource,r=e.destination,s=e.sourcePageOverride;this.state.requestInFlight||(this.setState({requestInFlight:!0}),c.default.getPageInfo({propertyId:this.state.propertyId}).then(function(e){if(t.setState({requestInFlight:!1}),e.resultCode!==g_apiResultCode.NO_ERROR)return l.default.showErrorDialog({title:"Oops, something went wrong!",message:"We're having trouble fetching information for this home. Please try again later."}),void g.error("Failed to fetch homeowner data.",e);var c=e.payload||{},v=c.ownerVerified||!1,y=c.numOwnerVerifications||0,S=c.maxOwnerVerifications||u.default.MAX_VERIFIED_HOMES,E=c.owners||[],I=[],T=n||(0,d.getSubscribeSource)(r,t.state.pageType)||g_epostcardSubscribeSource.HOMEOWNER_VERIFICATION_WEB;if(I[f.QUERY_PARAMS.EPOSTCARD_SUBSCRIBE_SOURCE]=T,I[f.QUERY_PARAMS.CLAIM_HOME_SOURCE]=T,a&&(I[f.QUERY_PARAMS.ENTRYPOINT_CONTEXT]=(0,p.serializeConversionRiftEntrypoint)(a)),v)t.state.isAmp?window.location.replace(_({destination:r,propertyId:t.state.propertyId,listingId:t.state.listingId,sourcePage:s||t.state.sourcePage,queryParams:I})):window.location=_({destination:r,propertyId:t.state.propertyId,listingId:t.state.listingId,sourcePage:s||t.state.sourcePage,queryParams:I});else if(!m.default.isOn(h.default.ALLOW_INFINITE_OWNER_VERIFICATION)&&y>=S)l.default.showErrorDialog({title:"Unable to verify",message:"We currently only allow users to be a verified homeowner for five properties, and this would be your sixth! Own more than five properties? ",redirectText:"Let Us Know!",redirectLink:"https://support.redfin.com/hc/en-us#recent"});else{var C=(0,f.buildVerificationPageUrl)({propertyId:t.state.propertyId,sourcePage:s||t.state.sourcePage,listingId:t.state.listingId,destination:r,queryParams:I});if(E.length>0||i.default.isLoggedIn())t.state.isAmp?window.location.replace(C):window.location=C;else{var b={registrationReason:(0,f.extractDestinationRegReason)(r),registrationEntrypointRiftContext:a,suppressPostJoinSections:!0,refresh:!1};(0,o.showLoginLightboxIfNeeded)(b).then(function(){t.state.isAmp?window.location.replace(C):window.location=C},function(e){g.warning("Login flow didn't complete.",e)})}}}))}});t.default=v,e.exports=t.default},Uq5t:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["continueInApp","continueInBrowser"]);t.default=n,e.exports=t.default},UxBW:function(e,t,a){},V4ke:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("HVn3")),i=n(a("BQxr")),o=a("e9eQ"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.default)(e,{platform:(0,o.isOnSmallScreen)()?"mobile_web":"desktop"})};e.exports=(0,r.default)(new i.default,{name:"TourDashboardRiftTracker",targets:{AGENT_LINK:{section:"upcoming_tours",target:"agent_link",trackGA:!0},SHOW_CANCEL_DIALOG:{section:"upcoming_tours",target:"show_cancel_dialog",trackGA:!0},SHOW_CANCEL_BLOCK_DIALOG:{section:"upcoming_tours",target:"show_cancel_block_dialog",trackGA:!0},HIDE_CANCEL_BLOCK_DIALOG:{section:"upcoming_tours",target:"hide_cancel_block_dialog",trackGA:!0},HIDE_CANCEL_DIALOG:{section:"upcoming_tours",target:"hide_cancel_dialog",trackGA:!0},CANCEL_TOUR:{section:"upcoming_tours",target:"cancel_tour",trackGA:!0},ADD_HOMES_DIALOG:{section:"upcoming_tours",target:"show_add_homes_dialog",trackGA:!0},RESCHEDULE:{section:"upcoming_tours",target:"reschedule",trackGA:!0},SHOW_RESCHEDULE_BLOCK_DIALOG:{section:"upcoming_tours",target:"show_reschedule_block_dialog",trackGA:!0},HIDE_RESCHEDULE_BLOCK_DIALOG:{section:"upcoming_tours",target:"hide_reschedule_block_dialog",trackGA:!0},SHOW_REMOVE_FROM_TOUR_DIALOG:{section:"upcoming_tours",target:"show_remove_home_dialog",trackGA:!0},HIDE_REMOVE_FROM_TOUR_DIALOG:{section:"upcoming_tours",target:"hide_remove_home_dialog",trackGA:!0},REMOVE_HOME_FROM_TOUR:{section:"upcoming_tours",target:"remove_home_from_tour",trackGA:!0},SEE_ALL_PAST_TOURS:{section:"past_tours",target:"see_all_past_tours",trackGA:!0},START_AN_OFFER:{section:"past_tours",target:"start_an_offer",trackGA:!0},START_A_DIRECT_OFFER:{section:"past_tours",target:"start_a_direct_offer",trackGA:!0},GHOST_TOWN:{section:"tour_list",target:"ghost_town",trackGA:!0},FIND_HOMES_NOW:{section:"tour_list",target:"find_homes_now",trackGA:!0},SEE_ALL_TOUR_LIST:{section:"tour_list",target:"see_all_tour_list",trackGA:!0},REMOVE_UNTOURABLE:{section:"tour_list",target:"remove_untourable",trackGA:!0},MAP_HOMES:{section:"tour_list",target:"map_homes",trackGA:!0},SCHEDULE_TOUR:{section:"tour_list",target:"schedule_tour",trackGA:!0},SHOW_REMOVE_FROM_TOUR_LIST_DIALOG:{section:"tour_list",target:"show_remove_home_dialog",trackGA:!0},HIDE_REMOVE_FROM_TOUR_LIST_DIALOG:{section:"tour_list",target:"hide_remove_home_dialog",trackGA:!0},REMOVE_HOME_FROM_LIST:{section:"tour_list",target:"remove_home_from_tour_list",trackGA:!0},VIEW_DETAILS_LIST:{section:"tour_list",target:"view_home_details",trackGA:!0},ADD_HOMES_BLOCK_DASHBOARD:{section:"add_homes_block_experiment_eligible",target:null,trackGA:!0}},trackImpressionWithDefaults:function(e,t){this.trackImpression(e,s(t))},trackClickWithDefaults:function(e,t){this.trackClick(e,s((0,r.default)({trackGA:!0},t)))}})},"V5+8":function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("8VmE")),i=n(a("LDFp")),o=n(a("W0B4")),s=a("cMqt"),l=a("+ahH"),u=a("1O0j"),c=a("huYw"),d=a("bKKb"),f=n(a("doqM")),p=n(a("XucT")),m=n(a("nar/")),h=n(a("f+7f")),g=n(a("XAqm")),_=n(a("MMXu")),v=n(a("kdsQ")),y=a("wIt4"),S=n(a("xsdy")),E=n(a("765W"));i.default.ensure(a("kzow"),a("MXNu"),a("TmV8"),a("QJ4A"));var I=a("YAhj"),T=a("WZ0X"),C=a("0VMN"),b=a("8Jek"),A=a("EFMV"),k=a("Md6j"),N=a("1RMg"),O=a("nP+7"),D=a("cMoY"),R=a("cJUL"),P=a("iv1k").default,w=a("9QPH"),B=a("ivAr"),x=a("+Bto"),L=a("885m"),M=a("eTvO").default,F=a("1AMb"),U=a("diFG"),H=a("jTef"),G=a("PRCX"),W=a("6KVX"),q=a("x6JC"),V=a("YPLX"),X=a("JBtx"),K=a("4KIY"),j=a("GzJY"),Y=a("jY7z"),z=a("Luot"),Q=a("7SUW"),J=s.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.mainHouseInfoPanel.sidebar.SideBarContent",color:{server:227,client:"rgb(212,212,42)"}});a("Lv69");var Z=C({displayName:"SideBarContent",mixins:[k],propTypes:{addressSectionInfo:o.default.object,contactBoxInfo:o.default.object,datePickerInfo:o.default.object,dashboardUrl:o.default.string,mainHouseInfo:o.default.object,listingId:o.default.number,propertyId:o.default.number,tourHomeMomentInfoStore:o.default.object,pageLoadComplete:o.default.bool,sideBarStore:o.default.object,redfinNowHomeMomentInfoStore:o.default.object,pageType:o.default.number,overrideActionType:o.default.number,reducedFeatures:o.default.bool,isiFramed:o.default.bool},getDefaultProps:function(){return{sideBarStore:{},supportFloatingBehavior:!0,reducedFeatures:!1}},getInitialState:function(){return{float:!1,floatDTP:!1,bottomDocked:!1,bottomDockedDTP:!1,hideDTP:!1,showSellerConsultForm:!1,showAAQDialog:!1,sideBarFloatingXPosition:null,sideBarDockedYOffset:null,dtpDockedYOffset:null}},componentWillMount:function(){var e=x.ABOVE===x.getPosition({deviceConfig:this.props.deviceConfig,propertyIsActivish:this.props.propertyIsActivish,propertyIsClaimed:this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim}),t=this.isEligibleForAssignedAgentOffMarketDPExperiment(this.props),a=this.inNavigationBarVariant(this.props),n=this.isInStandardizeAgentCTAsExperiment(this.props),r=this.props.claimedHomeSellerDataStore&&this.props.claimedHomeSellerDataStore.businessMarketId,i=(0,u.getListingFeeMessagingType)(r),o=this._shouldRequestExistingToursData();this.setState({isHomeownerToolsOverContactBox:e,isEligibleForAssignedAgentOffMarketDPExperiment:t,inNavigationBarVariant:a,isInStandardizeAgentCTAsExperiment:n,listingFeeMessagingType:i,showDatepickerExperimentSpinnerOnLoad:o})},componentDidMount:function(){if(this.props.contactBoxInfo){var e=this.props.mainHouseInfo&&this.props.mainHouseInfo.propertyIsActivish;U.receivedContactBoxInfo.trigger(this.props.contactBoxInfo,e,this.props.listingId),this._initializeCustomerConversionInfoExperiment()}this._shouldRequestExistingToursData()&&U.retrieveBinWithExistingTours.trigger(this.props.listingId,this.props.datePickerInfo.existingTours),this.props.supportFloatingBehavior&&(G.addSideBarContentContainerNode(T.findDOMNode(this),this.refs.sideBarContent),G.onStateChange(function(e){this.calculateFloatState(e,this.props)}.bind(this)),H.addSideBarContentContainerNode(T.findDOMNode(this),this.refs.sideBarContent),this.refs.floatingContainer&&H.addDTPNode(this.refs.floatingContainer),H.onStateChange(function(e){this.calculateFloatState(e,this.props)}.bind(this))),this.state.isEligibleForAssignedAgentOffMarketDPExperiment&&S.default.trackImpression(S.default.impressions.ASSIGNED_AGENT_OFF_MARKET_DP_EXPERIMENT_START),this._logPartnerContactBoxMountMetric()},componentWillReceiveProps:function(e){if(this.props.contactBoxInfo&&this.props.contactBoxInfo!==e.contactBoxInfo){var t=this.props.mainHouseInfo&&this.props.mainHouseInfo.propertyIsActivish;U.receivedContactBoxInfo.trigger(e.contactBoxInfo,t,e.listingId),H.addDTPNode(this.refs.floatingContainer)}(e.sideBarStore.canFloat&&!this.props.sideBarStore.canFloat||e.sideBarStore.dtpCanFloat&&!this.props.sideBarStore.dtpCanFloat)&&(H._checkScroll(),this.calculateFloatState(H.currentState,e))},componentDidUpdate:function(){if(this.state.inBrowser&&!this._contactBoxRendered&&this._readyToRenderContactBox){this._contactBoxRendered=!0;var e=this._propertyIsActivish();this._isTouringCTAShown()?(U.dateTimePickerAndContactBoxRendered.trigger(e),this.calculateFloatState(H.currentState,this.props)):(this.props.sideBarStore.canFloat=!1,e||W.trackImpression(W.impressions.SDP_PDP_FLOATING_AGENT_CONTACT_BOX,q.getRiftParams(this.props.sideBarStore,e)))}},render:function(){var e=b("bg-color-white",{"side-bar-content":this.props.deviceConfig===g_deviceConfiguration.DESKTOP,"tablet-side-bar-content":this.props.deviceConfig===g_deviceConfiguration.TABLET,fixed:this.state.float,"lower-float":this.state.float&&this.state.inNavigationBarVariant}),t={zIndex:2};if(this.props.mainHouseInfo.isBDXEligible&&!this._isAgentAssignedOrPending())return this.renderBuilderContact(e,t);this.state.bottomDocked&&null!=this.state.sideBarDockedYOffset&&(t.top=this.state.sideBarDockedYOffset),this.state.float&&null!=this.state.sideBarFloatingXPosition&&(t.left=this.state.sideBarFloatingXPosition);var a=this.state.isHomeownerToolsOverContactBox&&this.props.personalizationInfo.claimCount<=0,n=this.renderCashOfferCTA(!a),i=!this.props.contactBoxInfo||!this.props.contactBoxInfo.recommendedAgent||this.props.contactBoxInfo.experienceType===h.default.SALE_PRICE_RANGE.id,o=this.renderHomeOwnerTools({isPrimaryCta:a,suppressLinkStyle:i}),s=O.shouldRenderComingSoonListingCTA(this.props.contactBoxInfo,this.props.addressSectionInfo,this.props.pageType)&&this.renderComingSoonListingCTA(),l=null;if(!n&&!s){var u={isPrimaryCta:!(o&&a)};l=this.renderCustomerConversionSection(u)}var c=this.props.deviceConfig===g_deviceConfiguration.PHONE?{addTopRule:!0,className:"padding-bottom-large"}:null;return I.createElement(F,(0,r.default)({name:"SideBarContent"},c),I.createElement("div",{className:"sectionContainer"},I.createElement("div",{className:"side-bar-container"},I.createElement("div",{id:"sideBarContent",ref:"sideBarContent",className:e,style:t},!this._hasReducedFeatures()&&s,!this._hasReducedFeatures()&&a?o:n,l,this._hasReducedFeatures()||a?n:o,null,!l&&this._showComingSoonRightRailAttribution()?this.renderComingSoonRightRailAttribution():null,!this._hasReducedFeatures()&&this.state.showSellerConsultForm?this.renderSellerConsultFormDialog():null,this.state.showAAQDialog&&this.renderAAQDialog(),I.createElement("div",{ref:"privateNotesNode"}),!this._hasReducedFeatures()&&this.renderHomeownerModal()))))},renderBuilderContact:function(e,t){return I.createElement(F,{name:"SideBarContent"},I.createElement("div",{className:"sectionContainer"},I.createElement("div",{className:"side-bar-container"},I.createElement("div",{id:"sideBarContent",ref:"sideBarContent",className:e,style:t},I.createElement(v.default,{datePickerInfo:this.props.datePickerInfo,contactBoxInfo:this.props.contactBoxInfo,propertyId:this.props.propertyId,listingId:this.props.listingId,deviceConfig:this.props.deviceConfig,streetAddress:this.props.streetAddress,mainHouseInfo:this.props.mainHouseInfo})))))},renderCashOfferCTA:function(e){if(!this.shouldShowCashOfferCTA())return null;var t=this.props.redfinNowHomeMomentInfoStore,a=void 0===t?{}:t,n=a.estimate,i=(void 0===n?{}:n).cashOfferType;return(void 0===i?g_cashOfferType.UNKNOWN:i)===g_cashOfferType.OPENDOOR?I.createElement(Y,(0,r.default)({},a,{isPrimaryCTA:e})):I.createElement(j,(0,r.default)({},a,{isPrimaryCTA:e}))},calculateFloatState:function(e,t){if(null!=e){e=A(this.state,{$merge:e});var a=t.sideBarStore.canFloat,n=t.sideBarStore.dtpCanFloat,r=this._isTouringCTAShown();a&&!r?e.sideBarState===H.sideBarState.floating?this.state.float&&this.state.sideBarFloatingXPosition===e.sideBarFloatingXPosition||this.setState({float:!0,bottomDocked:!1,sideBarFloatingXPosition:e.sideBarFloatingXPosition,sideBarState:e.sideBarState}):e.sideBarState===H.sideBarState.bottom?this.state.bottomDocked&&this.state.sideBarDockedYOffset===e.sideBarDockedYOffset||this.setState({float:!1,bottomDocked:!0,sideBarDockedYOffset:e.sideBarDockedYOffset,sideBarState:e.sideBarState}):(this.state.float||this.state.bottomDocked)&&this.setState({float:!1,bottomDocked:!1,sideBarState:e.sideBarState}):(n||r)&&(e.dtpFloatState===H.dtpFloatState.floating?this.state.floatDTP&&this.state.sideBarFloatingXPosition===e.sideBarFloatingXPosition||this.setState({floatDTP:!0,sideBarFloatingXPosition:e.sideBarFloatingXPosition,dtpFloatState:e.dtpFloatState,bottomDockedDTP:!1}):e.dtpFloatState===H.dtpFloatState.bottom?this.state.bottomDockedDTP&&this.state.dtpDockedYOffset===e.dtpDockedYOffset||this.setState({floatDTP:!1,bottomDockedDTP:!0,dtpDockedYOffset:e.dtpDockedYOffset,dtpFloatState:e.dtpFloatState}):(this.state.floatDTP||this.state.bottomDockedDTP)&&this.setState({floatDTP:!1,bottomDockedDTP:!1,dtpFloatState:e.dtpFloatState}),this.state.dtpTransitionState!==e.dtpTransitionState&&this.setState({dtpTransitionState:e.dtpTransitionState,hideDTP:e.dtpTransitionState===H.dtpTransitionState.hidden}))}},renderComingSoonRightRailAttribution:function(){var e=this._showOpendoorComingSoon();if(!this._showComingSoonRightRailAttribution()&&!e)return null;var t=this.props.mainHouseInfo.listingAgents[0];return I.createElement(f.default,(0,r.default)({},t,{listingId:this.props.listingId,isOpendoor:e,showAAQDialogCallback:this.showAAQDialogCallback,hideBorder:!this._isDatePickerShown()}))},renderContactLinks:function(e){if(this._hasReducedFeatures()||!this._isTouringCTAShown()||!this._showRefundMessaging()||this._isAgentAssignedOrPending())return null;var t=this.props.contactBoxInfo,a=t.experienceData&&(0,y.doObjectGraph)()(t.experienceData.refundMessagingData);return I.createElement(B,(0,r.default)({liveChatWidgetAction:K,riftParams:this.getRefundMessagingRiftParams(e),listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.mainHouseInfo.streetAddress,deviceConfig:this.props.deviceConfig,contactBoxInfo:t,showAAQDialogCallback:this.showAAQDialogCallback},a))},renderFloatingRefund:function(e){if(this._hasReducedFeatures()||!this._isTouringCTAShown()||e)return null;if(!this._showComingSoonRightRailAttribution()&&!this._showOpendoorComingSoon()){var t=this.renderRefundContainer();if(this._shouldFloatRefund(t))return t}return null},renderNonFloatingRefund:function(e){if(this._hasReducedFeatures()||!this._isTouringCTAShown()||e)return null;if(!this._showComingSoonRightRailAttribution()&&!this._showOpendoorComingSoon()){var t=this.renderRefundContainer();if(!this._shouldFloatRefund(t))return I.createElement("div",{ref:"refundContainer"},t)}return null},getRefundMessagingRiftParams:function(e){var t,a=this.props.contactBoxInfo.experienceData&&(0,y.doObjectGraph)()(this.props.contactBoxInfo.experienceData.refundMessagingData),n=this.props.contactBoxInfo.recommendedAgent;switch(a.infoBoxType){case g_homeDisclaimerBoxType.TIC:t="tic";break;case g_homeDisclaimerBoxType.NEW_CONSTRUCTION:t="new_construction";break;case g_homeDisclaimerBoxType.NONE:default:t="none"}var r={agent_id:n.getId(),star_rating:n.getAverageRating(),num_reviews:n.getNumReviews(),includes_refund:!!a.refund,num_closed_deals:n.getHomesClosed(),is_partner:n.isPartner(),has_refund:!!a.refund,has_phone_number:!!a.phoneNumber,info_box:t};return this._hasReducedFeatures()||void 0===e||(r.redfin_direct=e),r},renderRefundContainer:function(){var e=this.props.contactBoxInfo||{};if(!this._showRefundMessaging())return null;var t=e.experienceData&&(0,y.doObjectGraph)()(e.experienceData.refundMessagingData);return I.createElement(w,{refund:t&&t.refund,listingId:this.props.listingId,agent:e.recommendedAgent,deviceConfig:this.props.deviceConfig,infoBoxType:t&&t.infoBoxType,riftParams:this.getRefundMessagingRiftParams(e.isInRedfinDirectMarket),isAgentAssignedOrPending:this._isAgentAssignedOrPending(),isInRedfinDirectMarket:!this._hasReducedFeatures()&&e.isInRedfinDirectMarket})},renderCustomerConversionSection:function(e){var t=e.isPrimaryCta,a=this.props.contactBoxInfo||{};if(!a.experienceType||this.shouldShowCashOfferCTA())return null;switch(a.experienceType){case h.default.BLOCKED_BOX.id:S.default.trackImpression(S.default.impressions.BLOCK_BOX);var n=null;return a.experienceData.blockedType===g_blockedContactBoxType.OUT_OF_AREA&&N.isOn(N.feature.PARTNER_AGENT_RECRUITMENT_CTA_OUT_OF_AREA)&&(n=this.renderPartnerProgramAd(!0,S.default.impressions.BLOCKBOX_PARTNER_RECRUITMENT_CTA_IMPRESSION,S.default.clicks.BLOCKBOX_PARTNER_RECRUITMENT_CTA_CLICK)),I.createElement("div",{className:"blockedContactBox"},I.createElement(g.default,a.experienceData),n);case h.default.COMING_SOON_LISTING_CTA.id:return I.createElement(O,{contactBoxInfo:a.experienceData,addressSectionInfo:this.props.addressSectionInfo,listingId:this.props.listingId,pageType:this.props.pageType});case h.default.SALE_PRICE_RANGE.id:return I.createElement(z,{isPrimaryCta:t&&this.props.deviceConfig!==g_deviceConfiguration.PHONE,propertyId:this.props.propertyId,deviceCategory:this.props.deviceConfig,listingFeeMessagingType:this.state.listingFeeMessagingType,showSalePriceEstimate:a.experienceData.showSalePriceEstimate,minSalePriceRange:a.experienceData.estimatedSalePriceRange.minSalePriceRange,maxSalePriceRange:a.experienceData.estimatedSalePriceRange.maxSalePriceRange,showSpinner:a.experienceData.showSpinner,isPartner:a.recommendedAgent&&a.recommendedAgent.get("agentType")===g_agentType.CONNECT});case h.default.REDFIN_DIRECT.id:return this.renderLdpTourSideBar(!0);case h.default.OPENDOOR_COMING_SOON.id:case h.default.NON_REDFIN_COMING_SOON_AGENT.id:case h.default.REDFIN_BROKERAGE_DATEPICKER.id:return this.renderLdpTourSideBar(!1);case h.default.DIRECT_ACCESS.id:return this.renderLdpTourSideBar(a.experienceData.isDirectOffer);case h.default.PARTNER_DATEPICKER.id:return I.createElement("div",null,this.renderLdpTourSideBar(!1),this.renderContactBoxWithExperienceData(t,!0,!0));case h.default.NON_REDFIN_PRE_MARKET_MLS.id:return this.renderContactBoxWithExperienceData(t,!1,!1);default:return null}},renderContactBoxWithExperienceData:function(e,t,a){if(this._showComingSoonRightRailAttribution()||!this.props.contactBoxInfo.experienceData)return null;var n=b({"contact-box-container":!0,withDatePicker:t});a&&(S.default.initializePartnerProgramAdExperiment(),S.default.initializePartnerStartAnOfferExperiment());var i=a&&this.shouldRenderPartnerProgramAd()?this.renderPartnerProgramAd(!1,S.default.impressions.CONTACT_BOX_PARTNER_RECRUITMENT_CTA_IMPRESSION,S.default.clicks.CONTACT_BOX_PARTNER_RECRUITMENT_CTA_CLICK):null;return this._logPartnerContactBoxRenderMetric(),this._logPartnerContactBoxAgentStatsMetrics(),I.createElement("div",{className:n},I.createElement(D,(0,r.default)({},this.props.contactBoxInfo.experienceData,{isPrimaryCta:e,isDisplayed:!0,isAvmShown:this._isAvmShown(this.props),sideBarStore:this.props.sideBarStore,showSellerConsultDialogCallback:this.showSellerConsultDialogCallback,showAAQDialogCallback:this.showAAQDialogPartnerCallback,generalInquiryActions:V,generalInquiryDialog:X,liveChatWidgetAction:K,averageResponseTime:this.props.contactBoxInfo.experienceData.agentAvgResponseMinutes,deviceConfig:this.props.deviceConfig,contactBoxInfo:this.props.contactBoxInfo})),i)},renderDatePicker:function(e,t){var a=this;if(!this._isDatePickerShown())return null;var n=this.props.datePickerInfo;return I.createElement(R,(0,r.default)({},e,{pageUrl:this.props.mainHouseInfo.url,isiFramed:this.props.isiFramed,showRefundDescription:!this._showRefundMessaging(),sideBarStore:this.props.sideBarStore,showDatepickerExperimentSpinner:this.state.showDatepickerExperimentSpinnerOnLoad&&this.props.sideBarStore&&!this.props.sideBarStore.hideAddHomesSpinner,canExtendAtLeastOneTour:!n.addHomesExperimentVariantOnForUser||this.props.sideBarStore&&this.props.sideBarStore.canExtendAtLeastOneTour,binnableTours:this.props.sideBarStore&&this.props.sideBarStore.binnableToursList,recalcSidebarHeight:function(){a.reloadSidebarIfNecessary()},isInRedfinDirectMarket:!this._hasReducedFeatures()&&t,isTourPromptEligible:this.props.promptEligibility&&this.props.promptEligibility.showPromptForTourCheckout}))},renderDirectAccess:function(){if(!this._isDirectAccessShown())return null;var e=this.props.contactBoxInfo&&this.props.contactBoxInfo.experienceData||{};return I.createElement(_.default,{isRedfin:e.isRedfin,isOpendoor:e.isOpendoor,isDirectOffer:e.isDirectOffer,deviceConfig:this.props.deviceConfig,listingId:this.props.listingId,propertyId:this.props.propertyId,isPartner:this.props.datePickerInfo&&this.props.datePickerInfo.isRequestingPartnerAgent,isServiced:this.props.datePickerInfo&&this.props.datePickerInfo.isDatepickerShown})},renderAAQDialog:function(){var e=this,t=this._showOpendoorComingSoon();return I.createElement(p.default,{onClose:function(){return e.setState({showAAQDialog:!1})},isMobile:this.props.deviceConfig===g_deviceConfiguration.PHONE,isInlineForm:!1,contactBoxInfo:this.props.contactBoxInfo,listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.streetAddress,inquiryChannel:g_inquiryChannel.ASK_A_QUESTION,inquirySource:g_inquirySource.LDP_CONTACT_BOX_AR_PAGE,sideBarStore:this.props.sideBarStore,entrypointRiftContext:this.state.entrypointRiftContext,listingAddress:this.props.mainHouseInfo.propertyAddress,agent:!t&&this.state.aaqAgent,isOpendoor:t,listingAgent:t&&this.props.contactBoxInfo.experienceData})},reloadSidebarIfNecessary:function(){this.refs.floatingContainer&&this.state.floatingContainerHeight!==this.refs.floatingContainer.scrollHeight&&this.setState({floatingContainerHeight:this.refs.floatingContainer.scrollHeight})},_shouldFloatRefund:function(e){return e&&this.props.contactBoxInfo&&this.props.contactBoxInfo.refundMessagingData},renderLdpTourSideBar:function(e){if(!this._isTouringCTAShown())return null;var t={"floating-container":this.props.deviceConfig!==g_deviceConfiguration.TABLET,"tablet-floating-container":this.props.deviceConfig===g_deviceConfiguration.TABLET,fixed:this.state.floatDTP,floating:this.state.floatDTP&&!this.state.hideDTP,"lower-float":this.state.floatDTP&&this.state.inNavigationBarVariant},a={};if(this.refs.floatingContainer){var n=this.refs.floatingContainer.scrollHeight+(this.refs.refundContainer?this.refs.refundContainer.scrollHeight:0);n&&this.props.deviceConfig!==g_deviceConfiguration.TABLET&&(a.height=n)}var r={zIndex:2};this.state.bottomDockedDTP&&null!=this.state.dtpDockedYOffset&&(t.docked=!0,r.top=this.state.dtpDockedYOffset),this.state.floatDTP&&null!=this.state.sideBarFloatingXPosition&&(r.left=this.state.sideBarFloatingXPosition),t=b(t);var i=this.props.datePickerInfo,o=this.props.contactBoxInfo||{},s={days:i.tourDays,existingTours:i.existingTours,listingOnExistingTour:i.isListingOnExistingTour,existingConfirmedTourInformation:i.existingConfirmedTourInformation,listingOnExistingUnrepShowing:i.isListingOnExistingUnrepShowing,firstTimeTourerWithUnconfirmedTour:i.isFirstTimeTourerWithUnconfirmedTour,listingId:this.props.listingId,listingAddress:i.listingAddress,requestingPartnerAgent:i.isRequestingPartnerAgent,teamName:i.teamName,teamPhoneForDisplay:i.teamNumberForDisplay,rawTeamPhone:i.teamRawNumber,serviceRegionId:i.serviceRegionId,city:this.props.addressSectionInfo.city,stateCode:this.props.addressSectionInfo.state,timeZone:this.props.mainHouseInfo.timezone,mlsId:this.props.mainHouseInfo.mlsId,dataSourceId:this.props.mainHouseInfo.source?this.props.mainHouseInfo.source.dataSourceId:null,tourHomeMomentInfoStore:this.props.tourHomeMomentInfoStore,isHotHome:this.props.addressSectionInfo.isHot,agent:o.recommendedAgent,refund:o.experienceData&&o.experienceData.refund,float:this.state.float,floatDTP:this.state.floatDTP,addHomesBouncerOn:i.addBouncerOn,addHomesVariantOnForUser:i.addHomesExperimentVariantOnForUser,businessMarketId:i.businessMarketId},l=b({"tablet-contact-box-container":this.props.deviceConfig===g_deviceConfiguration.TABLET,"contact-box-container":!0});return I.createElement("div",{className:"placeholder-container placeholder-loaded"},I.createElement("div",{className:l,style:a},I.createElement("div",{ref:"floatingContainer",className:t,style:r},this.renderDatePicker(s,e),this.renderDirectAccess(),this.renderComingSoonRightRailAttribution(),this.renderContactLinks(e),this.renderFloatingRefund(e)),this.renderNonFloatingRefund(e)))},renderHomeOwnerTools:function(e){var t=e.isPrimaryCta,a=e.suppressLinkStyle;if(!this._isHomeownerToolsShown())return null;var n=this.props.personalizationInfo&&this.props.personalizationInfo.hasEpostcardSubscription,i=this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim,o=this.props.personalizationInfo&&this.props.personalizationInfo.justClaimed,s={isSubscribedToHomeReport:n,isAvmShown:this._isAvmShown(),isClaimedHome:i,dashboardUrl:this.props.personalizationInfo&&this.props.personalizationInfo.dashboardUrl,listingId:this.props.listingId,propertyId:this.props.propertyId,isJustClaimed:o};return I.createElement(L,(0,r.default)({},s,{isPrimaryCta:t,suppressLinkStyle:a}))},renderHomeownerModal:function(){var e=this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim,t={soldDate:this.props.addressSectionInfo&&this.props.addressSectionInfo.soldDate,isClaimedHome:e,claimCount:this.props.personalizationInfo&&this.props.personalizationInfo.claimCount||0,dashboardUrl:this.props.personalizationInfo&&this.props.personalizationInfo.dashboardUrl,listingId:this.props.listingId,propertyId:this.props.propertyId,variant:N.getVariant(N.feature.WEB_SDP_PDP_LANDING_DIALOG),isActivish:this._propertyIsActivish()};return I.createElement(M,t)},renderSellerConsultFormDialog:function(){var e=function(){this.setState({showSellerConsultForm:!1})}.bind(this),t=this.props.addressSectionInfo.streetAddress.assembledAddress,a=this.props.addressSectionInfo.zip,n=this.props.contactBoxInfo.sellsideThreshold,r=this.props.propertyId,i=this._propertyIsActivish()?"L":this.props.listingId?"S":"P",o=this.props.contactBoxInfo.recommendedAgent,s=this.props.claimedHomeSellerDataStore&&this.props.claimedHomeSellerDataStore.businessMarketId,l=(0,u.getListingFeeMessagingType)(s).minPercentage;return I.createElement(P,{onClose:e,housePropertyId:r,houseStreetAddress:t,houseZipCode:a,houseSellsideThreshold:n,inquirySource:g_inquirySource[i+"DP_CONTACT_BOX_SC_DIALOG"],agent:o,percentListingFeeDisplayed:l})},renderComingSoonListingCTA:function(){return I.createElement(O,{contactBoxInfo:this.props.contactBoxInfo,addressSectionInfo:this.props.addressSectionInfo,listingId:this.props.listingId,pageType:this.props.pageType})},shouldRenderPartnerProgramAd:function(){return"Variant"===N.getVariant(N.feature.PARTNER_AGENT_RECRUITMENT_CTA)&&this.props.deviceConfig===g_deviceConfiguration.DESKTOP},renderPartnerProgramAd:function(e,t,a){var n={device_category:this.props.deviceConfig===g_deviceConfiguration.DESKTOP?"desktop":"mobile"};S.default.trackImpression(t,n);var r=e?"sidebar_out_of_area":"right_rail_ask_question";return I.createElement("div",{className:"partnerProgramAd"},"Are you an Agent?",I.createElement("br",null),I.createElement("a",{href:"/partner?src=".concat(r),onClick:function(){return S.default.trackClick(a,n)},target:"_blank"}," Learn about partnering with Redfin"))},showSellerConsultDialogCallback:function(){this.setState({showSellerConsultForm:!0})},showAAQDialogPartnerCallback:function(e){this.setState({showAAQDialog:!0,aaqAgent:e})},showAAQDialogCallback:function(){this.setState({showAAQDialog:!0})},isEligibleForAssignedAgentOffMarketDPExperiment:function(e){var t=e.experimentStore&&e.experimentStore.offMarketDPExperimentInfo;return t&&t.isEligibleForAssignedAgentOffMarketDPExperiment},inNavigationBarVariant:function(e){var t=e.experimentStore.navigationBarExperimentInfo;return t&&t.isEligible&&t.isVariant},isInStandardizeAgentCTAsExperiment:function(e){var t=e.experimentStore&&e.experimentStore.offMarketDPExperimentInfo;return t&&t.shouldStandardizeAgentCTAs},_propertyIsActivish:function(){return this.props.mainHouseInfo&&this.props.mainHouseInfo.propertyIsActivish},_isAvmShown:function(e){var t=e||this.props;return(0,d.calculateAvmDisplayType)({redfinEstimateInfo:t.avmInfo})===c.AvmDisplayType.AVM},_showContactBox:function(){return!this._showRefundMessaging()},shouldShowCashOfferCTA:function(){return this.props.redfinNowHomeMomentInfoStore&&this.props.redfinNowHomeMomentInfoStore.shouldShowMoment},_hasReducedFeatures:function(){return this.props.reducedFeatures},_showComingSoonRightRailAttribution:function(){if(this._showOpendoorComingSoon())return!0;var e=this.props.mainHouseInfo&&this.props.mainHouseInfo.listingAgents;return!(!e||!e.length>0)&&(this.props.mainHouseInfo.isComingSoonListing&&this.props.deviceConfig!==g_deviceConfiguration.PHONE)},_showListingFeeMerch:function(){return(0,l.showListingFeeMerch)(this.props.contactBoxInfo,this.redfinNowHomeMomentInfoStore,this.props.pageType===g_detailsPageType.ACTIVE||this.props.pageType===g_detailsPageType.ACTIVE_PENDING)},_showOpendoorComingSoon:function(){return this.props.contactBoxInfo&&this.props.contactBoxInfo.experienceType===h.default.OPENDOOR_COMING_SOON.id&&this.props.contactBoxInfo.experienceData&&this.props.contactBoxInfo.experienceData.isOpendoor&&this.props.deviceConfig!==g_deviceConfiguration.PHONE},claimedDPRightRailPhone:function(){return this.props.contactBoxInfo&&this.props.contactBoxInfo.claimedDPRightRailPhone},_isDatePickerShown:function(){return!([h.default.COMING_SOON_LISTING_CTA.id,h.default.DIRECT_ACCESS.id].indexOf((this.props.contactBoxInfo||{}).experienceType)>=0)&&(this.props.datePickerInfo&&this.props.datePickerInfo.datepickerShown)},_isDirectAccessShown:function(){return this._propertyIsActivish()&&this.props.contactBoxInfo&&this.props.contactBoxInfo.experienceType===h.default.DIRECT_ACCESS.id&&this.props.contactBoxInfo.experienceData.isDirectAccess},_isTouringCTAShown:function(){return this._isDatePickerShown()||this._isDirectAccessShown()},_shouldLogPartnerContactBoxMetrics:function(){var e=!!this.props.contactBoxInfo&&!!this.props.contactBoxInfo.experienceData&&this.props.contactBoxInfo.experienceData.agentRequestAgent;return N.isOn(N.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB)&&!!e&&e.get("agentType")===g_agentType.CONNECT},_logPartnerContactBoxMountMetric:function(){if(this._shouldLogPartnerContactBoxMetrics()){var e="partnerRouting".concat(N.getVariant(N.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB),".fromNavStart.mount");J.time(e,E.default.getTimeSinceStart())}},_logPartnerContactBoxRenderMetric:function(){if(this._shouldLogPartnerContactBoxMetrics()&&!this.hasLoggedPartnerContactBoxRenderMetric){this.hasLoggedPartnerContactBoxRenderMetric=!0;var e="partnerRouting".concat(N.getVariant(N.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB),".fromNavStart.render");J.time(e,E.default.getTimeSinceStart())}},_logPartnerContactBoxAgentStatsMetrics:function(){if(this._shouldLogPartnerContactBoxMetrics()&&this.props.contactBoxInfo&&this.props.contactBoxInfo.recommendedAgent){var e="partnerRouting".concat(N.getVariant(N.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB),".starRating");J.time(e,this.props.contactBoxInfo.recommendedAgent._averageRatingForCustomerDisplay);var t="partnerRouting".concat(N.getVariant(N.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB),".reviewCount");J.time(t,this.props.contactBoxInfo.recommendedAgent.getNumReviews())}},_getContactBoxDataIfShouldBeShown:function(){var e=this.props.contactBoxInfo;return!(!e||!e.showOnDetailsPage)&&e},_initializeCustomerConversionInfoExperiment:function(){var e,t=this.props.contactBoxInfo&&this.props.contactBoxInfo.experimentEligibility;t&&t.isEligible&&(t.feature,(e=null)&&(e(),(new Q).initialize({experimentId:t.feature,gaExperimentId:t.gaExperimentId})))},_isHomeownerToolsShown:function(){return this.props.deviceConfig!==g_deviceConfiguration.PHONE&&this.props.addressSectionInfo&&!this._propertyIsActivish()},_showRefundMessaging:function(){var e=this.props.contactBoxInfo,t=[h.default.OPENDOOR_COMING_SOON.id,h.default.NON_REDFIN_COMING_SOON_AGENT.id];return!(!(e&&e.experienceData&&(0,y.doObjectGraph)()(e.experienceData.refundMessagingData))||t.indexOf((e||{}).experienceType)>=0)&&!(!this._isTouringCTAShown()||!e||!e.refundMessagingData&&!e.isServicedByRedfinAgent&&this.props.deviceConfig!==g_deviceConfiguration.PHONE&&e.detailsPageContext!==m.default.id)},_shouldRequestExistingToursData:function(){return this.props.datePickerInfo&&!this.props.datePickerInfo.isListingOnExistingTour&&this.props.datePickerInfo.addBouncerOn&&this.props.datePickerInfo.existingTours&&this.props.datePickerInfo.existingTours.length>0},_isAgentAssignedOrPending:function(){return this.props.contactBoxInfo&&(this.props.contactBoxInfo.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||this.props.contactBoxInfo.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED)}});Z.getComponentDependencies=function(){return{dependencies:["avmInfo","addressSectionInfo","mainHouseInfo","datePickerInfo","personalizationInfo","tourHomeMomentInfoStore","sideBarStore","contactBoxInfo","pageType"],clientDependencies:["promptEligibility"]}},Z.getPageLayoutClassName=function(){return"dp-col-sm-12 force-sideBarRightRail"},e.exports=Z},VENG:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("m7qm")),i=a("zOB4"),o=n(a("BxHH")),s=n(a("sMp4")),l=n(a("WxCX")),u=r.default.createStoreFactory({listenables:o.default,init:function(e){this.setState(e)},onUpdateComingSoonListingUpdatesSubscription:function(e,t){s.default.updateFavorite({storeId:i.PERSONAL_PROPERTY_INFO_FAV_STORE_ID,isFavorite:e,isXout:!1,sender:"ComingSoonInfoStore-ComingSoonBanner",riftContext:t})},onScheduleEarlyTour:function(e,t){l.default.scheduleTourFromInquirySource({inquirySource:e,riftContext:t})}});e.exports=u},Vhfq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditHomeFactsSubscribeSource=t.getSubscribeSource=void 0;var n=a("pnIS");t.getSubscribeSource=function(e,t){return e?e===n.DESTINATIONS.EDIT_FACTS?r(t):e===n.DESTINATIONS.PHOTO_MANAGER?i(t):e===n.DESTINATIONS.FACTS_CHECK||e===n.DESTINATIONS.CREATE_ESTIMATE?o(t):null:null};var r=function(e){return e===g_detailsPageType.RECENTLY_SOLD?g_epostcardSubscribeSource.WEB_RSDP_EDIT_HOME_FACTS:e===g_detailsPageType.OFF_MARKET?g_epostcardSubscribeSource.WEB_OMDP_EDIT_HOME_FACTS:null};t.getEditHomeFactsSubscribeSource=r;var i=function(e){return e===g_detailsPageType.RECENTLY_SOLD?g_epostcardSubscribeSource.WEB_RSDP_OWNER_PHOTO_UPLOAD:e===g_detailsPageType.OFF_MARKET?g_epostcardSubscribeSource.WEB_OMDP_OWNER_PHOTO_UPLOAD:null},o=function(e){return e===g_detailsPageType.RECENTLY_SOLD?g_epostcardSubscribeSource.WEB_RSDP_OWNER_ESTIMATE:e===g_detailsPageType.OFF_MARKET?g_epostcardSubscribeSource.WEB_OMDP_OWNER_ESTIMATE:null}},VirH:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=a("8Jek"),c=a("YAhj");a("5acv");var d=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=u({StarSvg:!0,highlighted:this.props.isHighlighted});return c.createElement("span",{className:"Star"},c.createElement("svg",{className:e,version:"1.1",viewBox:"0 0 24 24",onClick:this.props.onClick,onMouseOver:this.props.onmouseover,onMouseOut:this.props.onmouseout},c.createElement("path",{className:"StarPath",d:"M8.292,8.047L0.501,9.179c-0.205,0.03-0.287,0.282-0.138,0.426L6,15.1l-1.331,7.759c-0.035,0.205,0.18,0.36,0.363,0.264 L12,19.46l6.968,3.663c0.183,0.096,0.398-0.059,0.363-0.264L18,15.1l5.637-5.495c0.149-0.144,0.067-0.396-0.138-0.426l-7.791-1.132 l-3.484-7.059c-0.092-0.186-0.357-0.186-0.448,0L8.292,8.047"})))}}]),t}(c.Component);e.exports=d},VjAe:function(e,t,a){},"Vp/8":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("5WRv")),i=n(a("nxTg")),o=n(a("Dfzq")),s=n(a("cXUB")),l=n(a("m7qm")),u=n(a("ywFZ")),c=n(a("GWUO")),d=l.default.createStoreFactory({listenables:[u.default],init:function(e){var t=this;this.setState({ready:s.default.all([e.avmHistory,e.avmInfo]).spread(function(e,a){t._initState({avmHistory:e,avmInfo:a})}),isMobile:e.isMobile,chartComponent:this._isADP(e.pageType)?null:this._loadChartComponent()})},_initState:function(e){var t=e.avmHistory,a=e.avmInfo;if(!t||!t.avmTimeSeriesRatios||t.avmTimeSeriesRatios.length<13)return this.setState({ready:!0,isGhostTown:!0}),!1;var n=new Date(t.avmUpdateDate);n.setDate(3),n.setHours(0,0,0,0);var r={};t.saleHistory&&t.saleHistory.length>0?((r=this._returnLatestSaleEvent(t.saleHistory)).saleDate=new Date(r.saleDate),r.saleDate.setDate(1),r.saleDate.setHours(0,0,0,0),this.saleHistory=t.saleHistory):a&&a.lastSoldDate&&(r.saleDate=new Date(a.lastSoldDate),r.saleDate.setDate(1),r.saleDate.setHours(0,0,0,0),r.salePrice=a.lastSoldPrice);var i=a.predictedValue,o=this._plotHistoricalData(t.avmTimeSeriesRatios,i,n),s=this._plotHomeSaleEvents(t.saleHistory,o[0].x),l="";r&&r.salePrice&&(l=i-r.salePrice),this.setState({updatedOn:n,predictedValue:i,latestSaleEvent:r,historicalData:o,processedHistoricalData:o,homeSaleEvents:s,legend:{value:i,date:n,prevYearDiff:"",soldDiff:l},zoom:{domain:{x:this._zoomXDomain(5,n),y:this._zoomYDomain(o,s)},years:5},ready:!0,avmInfo:a,isGhostTown:!1,yoyPercentChange:this._calculateYoYPercentChange({predictedValue:i,timeSeriesRatios:t.avmTimeSeriesRatios})})},_isADP:function(e){return e===g_detailsPageType.ACTIVE||e===g_detailsPageType.ACTIVE_PENDING},_plotHistoricalData:function(e,t,a){var n=e.length;return e.map(function(e){return n--,{x:new Date(a.getFullYear(),a.getMonth()-n),y:Math.round(t*e)}})},_plotHomeSaleEvents:function(e,t){return e.reduce(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if("number"==typeof a.salePrice){var n=new Date(a.saleDate);n>t&&e.push({x:new Date(n.getFullYear(),n.getMonth()),y:a.salePrice})}return e},[])},_loadChartComponent:function(){return s.default.all([(e=a("cXUB").defer(),Promise.all([a.e(344),a.e(329)]).then(function(t){var n=a("74qj");e.resolve(n)}.bind(null,a)).catch(a.oe),e.promise)]).then(function(e){return(0,i.default)(e,1)[0]});var e},_returnLatestSaleEvent:function(e){var t=Math.max.apply(Math,e.map(function(e){return e.saleDate}));return(0,o.default)(e,function(e){return e.saleDate===t})},_handleHoverTimeout:function(){var e=this;this.setState({interactionTimeout:Date.now()}),setTimeout(function(){Date.now()>e.state.interactionTimeout+1e4&&e._resetDomain(e.state.zoom.years)},10100)},_zoomXDomain:function(e,t){var a=1===e?12:60,n=new Date;return n.setMonth(t.getMonth()-a),n.setDate(0),n.setHours(0,0,0,0),[n,t]},_zoomYDomain:function(e,t){var a=[].concat((0,r.default)(e),(0,r.default)(t)).map(function(e){return e.y}),n=Math.min.apply(null,a),i=Math.max.apply(null,a);return n<15e4?[0,i+25e3]:[1e5*Math.round(.6*n/1e5),1e5*Math.round(1.2*i/1e5)]},onSetDomain:function(e){e>1?c.default.trackClick(c.default.clicks.FIVE_YEAR_CLICK):c.default.trackClick(c.default.clicks.ONE_YEAR_CLICK),this._resetDomain(e)},_resetDomain:function(e){var t=this.state.processedHistoricalData;1===e&&(t=this.state.historicalData.slice(this.state.historicalData.length-13,this.state.historicalData.length)),this.setState({historicalData:t,homeSaleEvents:this.saleHistory&&this._plotHomeSaleEvents(this.saleHistory,t[0].x)||[],zoom:{domain:{x:this._zoomXDomain(e,this.state.updatedOn),y:this.state.zoom.domain.y},years:e},legend:{value:this.state.predictedValue,date:this.state.updatedOn,prevYearDiff:this.state.yoyPercentChange,soldDiff:this.state.predictedValue-this.state.latestSaleEvent.salePrice},tickValues:this._returnTickValues({years:e})})},_returnTickValues:function(e){var t=e.years;if(!t||t>1)return null;for(var a=this.state.updatedOn,n=[],r=0;r<13;r++)r%2||n.push(new Date(a.getFullYear(),a.getMonth()-r));return n},_calculateYoYPercentChange:function(e){var t=e.predictedValue,a=e.timeSeriesRatios,n=void 0===a?[]:a;return!t||n.length<12?null:t/(t*n[n.length-12])*100-100},onHandleHoverState:function(e){if(!e)return!1;if(this.state.isMobile&&e[0].x===this.state.legend.date)return!1;this.hoverClickLogged||(this.hoverClickLogged=!0,c.default.trackClick(c.default.clicks.GRAPH)),this._handleHoverTimeout();var t=!!e[0]&&"historical"===e[0].childName&&e[0]||!!e[1]&&"historical"===e[1].childName&&e[1];if(!t)return!1;var a=!!e[1]&&"events"===e[1].childName&&e[1]||!!e[0]&&"events"===e[0].childName&&e[0],n=t.x,r=t.y,i=this.state.latestSaleEvent.salePrice,o="";n===this.state.updatedOn&&(o=r-i);var s=!!a;this.state.isMobile&&this.setState({legend:{value:r,date:n,prevYearDiff:1!==this.state.zoom.years?null:this.state.yoyPercentChange,soldDiff:o,showPrice:s}})},onMouseLeave:function(){this.state.isMobile||this._resetDomain(this.state.zoom.years)}});t.default=d,e.exports=t.default},VzE9:function(e,t,a){},WHai:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("RBnj")).default.createActions(["showErrorDialog","closeErrorDialog"]);t.default=r,e.exports=t.default},WQTj:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("t6Jl")),o=(0,r.default)(new i.default,{name:"WelcomeBackSurveyRiftTracker",impressions:{SPLASH_SCREEN:{section:"welcome_back_experiment_start"},HOW_ELSE_HELP_SCREEN:{section:"welcome_back_follow_up_options_screen"},AGENT_PROBLEM_SCREEN:{section:"welcome_back_agent_problem_screen"}},clicks:{CLOSE_DIALOG:{section:"welcome_back_header",target:"close_button"},NOT_NOW:{section:"welcome_back_follow_up_options_screen",target:"not_now"},SELECT_FOLLOWUP_OPTION:{section:"welcome_back_follow_up_options_screen",target:"option_button",expectedParams:["option_name","selected"]},AGENT_PHONE_NUMBER:{section:"welcome_back_follow_up_options_screen",target:"phone_number"},SUBMIT_FOLLOWUP:{section:"welcome_back_follow_up_options_screen",target:"submit_button",expectedParams:["num_follow_ups"]},HAD_PROBLEM_WITH_AGENT:{section:"welcome_back_follow_up_options_screen",target:"agent_problem",expectedParams:["aa_tour"]},SUBMIT_AGENT_PROBLEM:{section:"welcome_back_agent_problem_screen",target:"submit_button"},SELECT_PROBLEM_OPTION:{section:"welcome_back_agent_problem_screen",target:"option_button",expectedParams:["option_name","selected"]},BACK_TO_FOLLOWUP_SCREEN:{section:"welcome_back_agent_problem_screen",target:"back"}}});t.default=o,e.exports=t.default},WRAN:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("HVn3")),i=n(a("BQxr")),o=n(a("lQoP")),s=n(a("DyY8")),l=n(a("ZpgJ")),u=a("e9eQ"),c=(0,r.default)(new i.default,{name:"TourCheckoutRiftTracker",targets:{NEXT:{section:"sticky_footer",target:"next_button"},BACK:{section:"sticky_footer",target:"back_button"},CONVERSION_EVENT:{section:"conversion_event",target:"tour_request",trackGA:!0},CONVERSION_EVENT_FIRST_TOUR:{section:"conversion_event",target:"1st_tour_request",trackGA:!0},CONVERSION_EVENT_SUBSEQUENT_TOUR:{section:"conversion_event",target:"subsequent_tour_request",trackGA:!0},CONVERSION_EVENT_PARTNER_TOUR:{section:"conversion_event",target:"buy_agent_request_partner",trackGA:!0},footer:{NUMBER_OF_HOMES:{section:"sticky_footer",target:"number_of_homes",trackGA:!0},DATE:{section:"sticky_footer",target:"date",trackGA:!0},START_TIME:{section:"sticky_footer",target:"start_time",trackGA:!0},END_TIME:{section:"sticky_footer",target:"end_time",trackGA:!0},HOME_TO_TOUR:{section:"sticky_footer",target:"home_to_tour",trackGA:!0},SELLER_CONSULT:{section:"seller_consultation_form",target:null,trackGA:!0}},pauseCustomer:{AGENT_PHONE_LINK:{section:"content_area",target:"agent_phone_link",trackGA:!0},MANAGER_PHONE_LINK:{section:"content_area",target:"manager_phone_link",trackGA:!0},MANAGER_EMAIL_LINK:{section:"content_area",target:"manager_email_link",trackGA:!0},AGENT_PHONE_BUTTON:{section:"content_area",target:"call_agent_button",trackGA:!0},SCHEDULE_TOUR_LINK:{section:"content_area",target:"schedule_tour_link",trackGA:!0},BOOK_TIME_LINK:{section:"content_area",target:"book_time_link",trackGA:!0}},timeSelect:{TOP_LEVEL_CLICK:{section:"time_picker",target:"top_level_click",trackGA:!1},ADD_MORE_HOMES:{section:"tour_details",target:"add_homes_link",trackGA:!0},NORMAL_FORCE_ADD_HOME_TO_TOUR:{section:"time_picker",target:"normal_time_force_add_to_tour",trackGA:!0},DATE_TIME_PICKER:{section:"time_picker",target:null,trackGA:!0},DAY:{section:"time_picker",target:"date",trackGA:!0},DAY_WITH_DUMMY_TIMES:{section:"time_picker",target:"date_with_dummy_times",trackGA:!1},BOOK_IT_NOW_TIME:{section:"time_picker",target:"book_it_now_time",trackGA:!0},NORMAL_TIME:{section:"time_picker",target:"classic_time",trackGA:!0},SCROLL_DATES_LEFT:{section:"time_picker",target:"date_left_arrow",trackGA:!0},SCROLL_DATES_RIGHT:{section:"time_picker",target:"date_right_arrow",trackGA:!0},SCROLL_TIMES_LEFT:{section:"time_picker",target:"time_left_arrow",trackGA:!0},SCROLL_TIMES_RIGHT:{section:"time_picker",target:"time_right_arrow",trackGA:!0},SCROLL_HOMES_LEFT:{section:"homes_on_tour",target:"homes_left_arrow",trackGA:!0},SCROLL_HOMES_RIGHT:{section:"homes_on_tour",target:"homes_right_arrow",trackGA:!0},TIMES_RECONCILED:{section:"times_reconciled",trackGA:!0},TIMES_NOT_RECONCILED:{section:"times_not_reconciled",trackGA:!0},UNAVAILABLE_DAY:{section:"time_picker",target:"unavailable_day",trackGA:!0},FORCE_ADD_HOME_DIALOG_NO:{section:"time_picker",target:"force_add_home_dialog_no",trackGA:!0},FORCE_ADD_HOME_DIALOG_YES:{section:"time_picker",target:"force_add_home_dialog_yes",trackGA:!0},CONTACT_INFO_EXPERIMENT_V2:{section:"contact_info_experiment_v2_eligible",target:null,trackGA:!1},AA_BROKERAGE_ONBOARDING_EXPERIMENT:{section:"aa_brokerage_onboarding_eligible",target:null,trackGA:!1},BROKERAGE_ONBOARDING_DEBUG:{section:"brokerage_onboarding_debug",target:null,trackGA:!1}},hasAgent:{HAS_AGENT_OPTION:{section:"content_area",target:"has_agent_button",trackGA:!0},DOES_NOT_HAVE_AGENT_OPTION:{section:"content_area",target:"does_not_have_agent_button",trackGA:!0},HAS_AGENT_OPTION_SELECTION:{section:null,target:"next_button",trackGA:!0,expectedParams:["selection"]}},agencyAgreement:{COMMITTED_TO_AGENT_OPTION:{section:"content_area",target:"committed_to_buyers_agreement_button",trackGA:!0},NOT_COMMITTED_TO_AGENT_OPTION:{section:"content_area",target:"does_not_have_buyers_agreement_button",trackGA:!0},MORE_INFO_PHONE_CLICK:{section:"more_info_dialog",target:"phone_number",trackGA:!0},AGENCY_AGREEMMENT_OPTION_SELECTION:{section:null,target:"next_button",trackGA:!0,expectedParams:["selection"]}},switchAgent:{OPEN_TO_SWITCHING_OPTION:{section:"content_area",target:"open_to_working_with_redfin_button",trackGA:!0},COMMITTED_TO_AGENT_OPTION:{section:"content_area",target:"committed_to_agent_button",trackGA:!0},OPEN_TO_SWITCHING_SELECTION:{section:null,target:"next_button",trackGA:!0,expectedParams:["selection"]}},contactInfo:{TERMS_AND_CONDITIONS:{section:"content_area",target:"terms_link",trackGA:!0},PRIVACY_POLICY:{section:"content_area",target:"privacy_policy_link",trackGA:!0},FIRST_NAME_FIELD:{section:"content_area",target:"first_name_field",trackGA:!0},LAST_NAME_FIELD:{section:"content_area",target:"last_name_field",trackGA:!0},EMAIL_FIELD:{section:"content_area",target:"email_field",trackGA:!0},PHONE_FIELD:{section:"content_area",target:"phone_field",trackGA:!0},NOTES_FIELD:{section:"content_area",target:"notes_field",trackGA:!0},SCHEDULE_TOUR:{section:"sticky_footer",target:"submit_cta",expectedParams:["click_result"]},HAS_AGENT:{section:"content_area",target:"has_agent_click",trackGA:!0},DOES_NOT_HAVE_AGENT:{section:"content_area",target:"does_not_have_agent",trackGA:!0},HAS_AGENT_DIALOG:{section:"has_agent_dialog",target:null,trackGA:!0},HAS_AGENT_OPEN_TO_WORKING:{section:"has_agent_dialog",target:"open_to_working_with_redfin",trackGA:!0},HAS_AGENT_OPEN_TO_WORKING_PARTNER:{section:"has_agent_dialog",target:"open_to_working_with_partner_click",trackGA:!0},HAS_AGENT_COMMITTED_TO_AGENT:{section:"has_agent_dialog",target:"committed_to_agent",trackGA:!0},HAS_AGENT_NEXT:{section:"has_agent_dialog",target:"next_button",trackGA:!0},AGENCY_AGREEMENT_EXPERIMENT_ELIGIBLE:{section:"agency_agreement_experiment_eligible",target:null,trackGA:!0},AGENCY_AGREEMENT_DIALOG:{section:"agency_agreement_dialog",target:null,trackGA:!0},AGENCY_AGREEMENT_YES:{section:"agency_agreement_dialog",target:"yes_button",trackGA:!0},AGENCY_AGREEMENT_NO:{section:"agency_agreement_dialog",target:"no_button",trackGA:!0},AGENCY_AGREEMENT_NEXT:{section:"agency_agreement_dialog",target:"next_button",trackGA:!0,expectedParams:["selection"]},AGENCY_AGREEMENT_PHONE:{section:"agency_agreement_dialog",target:"phone_number",trackGA:!0},HAVE_WE_MET_DIALOG:{section:"have_we_met_dialog",target:null,trackGA:!0},SIGN_IN_LINK:{section:"content_area",target:"sign_in_link",trackGA:!1}},onboardingWelcome:{BROKERAGE_ONBOARDING_NOT_EXPERIMENT:{section:"brokerage_onboarding_not_eligible",target:null,trackGA:!1},BROKERAGE_ONBOARDING_YES_EXPERIMENT:{section:"brokerage_onboarding_yes_eligible",target:null,trackGA:!1},NEXT_CLICK:{section:"content_area",target:"next_button",trackGA:!0}},smsVerification:{CODE_TEXT_BOX:{section:"sms_content_area",target:"text_box",trackGA:!0},CANT_RECEIVE_TEXT:{section:"content_area",target:"cant_receive_text",trackGA:!0},RESEND_CODE:{section:"content_area",target:"resend_code",trackGA:!0},SEND_TO_DIFFERENT_NUMBER:{section:"sms_content_area",target:"send_to_different_number",trackGA:!0},SEND_TO_DIFFERENT_NUMBER_DIALOG:{section:"send_to_different_number_dialog",target:null,trackGA:!0},SEND_TO_DIFFERENT_NUMBER_SEND:{section:"content_area",target:"send_button",trackGA:!0},SEND_TO_DIFFERENT_NUMBER_CANCEL:{section:"send_to_different_number_dialog",target:"cancel_button",trackGA:!0}},committedToAgent:{LEARN_MORE:{section:"content_area",target:"learn_more_link",trackGA:!0},CALL_US:{section:"content_area",target:"call_us_link",trackGA:!0},CONTENT_AREA:{section:"content_area",target:null,trackGA:!0,expectedParams:["reason","expiration_date"]}},idologyBasic:{NEXT:{section:"sticky_footer",target:"next_button",trackGA:!0},INFO_FLYOUT:{section:"content_area",target:"verification_info_flyout",trackGA:!0},FIRST_NAME_FIELD:{section:"content_area",target:"first_name_field",trackGA:!0},LAST_NAME_FIELD:{section:"content_area",target:"last_name_field",trackGA:!0},ADDRESS_FIELD:{section:"content_area",target:"street_address_field",trackGA:!0},CITY_FIELD:{section:"content_area",target:"city_field",trackGA:!0},STATE_FIELD:{section:"content_area",target:"state_field",trackGA:!0},ZIPCODE_FIELD:{section:"content_area",target:"zipcode_field",trackGA:!0},BIRTHDAY_FIELD:{section:"content_area",target:"birthday_field",trackGA:!0},BIRTHDAY_INFO:{section:"content_area",target:"birthday_field_info_icon",trackGA:!0}},idologyQuestions:{NEXT:{section:"sticky_footer",target:"next_button",trackGA:!0},ANSWER_OPTION:{section:"content_area",target:"answer_option",trackGA:!0}},addHomesDialog:{IMPRESSION:{section:"add_homes_dialog",target:null,trackGA:!0},FAVORITES:{section:"add_homes_dialog",target:"favorites_tab",trackGA:!0,expectedParams:["num_favorite_homes"]},RECENTS:{section:"add_homes_dialog",target:"recents_tab",trackGA:!0,expectedParams:["num_recent_homes"]},NEARBY:{section:"add_homes_dialog",target:"nearby_tab",trackGA:!0,expectedParams:["num_nearby_homes"]},ADD_HOMES_TO_TOUR:{section:"add_homes_dialog",target:"add_homes_button",trackGA:!0,expectedParams:["num_homes_added"]},CLOSE_ADD_HOMES_DIALOG:{section:"add_homes_dialog",target:"close_button",trackGA:!0},VIEW_DETAILS_ADD_DIALOG:{section:"add_homes_dialog",target:"view_details_link",trackGA:!0},HOME_CARD_SELECT:{section:"add_homes_dialog",target:"home_card_select",trackGA:!0,expectedParams:["tab","new_total_homes_selected"]},HOME_CARD_DESELECT:{section:"add_homes_dialog",target:"home_card_deselect",trackGA:!0,expectedParams:["tab","new_total_homes_selected"]},NEXT_PHOTO:{section:"add_homes_dialog",target:"home_card_next_photo",trackGA:!0,expectedParams:["tab"]},PREV_PHOTO:{section:"add_homes_dialog",target:"home_card_prev_photo",trackGA:!0,expectedParams:["tab"]}},tourConfirmation:{REVIEWS_LINK:{section:"agent_intro",target:"reviews_link",trackGA:!0},CONTACT_AGENT_LINK:{section:"agent_intro",target:"contact_agent_link",trackGA:!0},VIEW_LEAD_AGENT_TIMES_LINK:{section:"agent_intro",target:"view_lead_agent_times_link",trackGA:!0},ABOUT_ME:{section:"about_me",target:null,trackGA:!0},ABOUT_ME_EXPAND:{section:"about_me",target:"more_link",trackGA:!0},AGENT_HIGHLIGHTS:{section:"agent_highlights",target:null,trackGA:!0,expectedParams:["badges_displayed"]},AGENT_HIGHLIGHTS_SCROLLED:{section:"agent_highlights",target:"scroll",trackGA:!0},VIEW_PROFILE:{section:"content_area",target:"view_profile_link",trackGA:!0},VIEW_TOUR_DETAILS:{section:"content_area",target:"view_tour_details_link",trackGA:!0},MW_TOUR_CHECKOUT_CUSTOMER_QUALIFICATION:{section:"mw_customer_qualification_eligible",target:null,trackGA:!1},DISMISS_LINK:{section:"switch_toast",target:"dismiss_link",trackGA:!0},AA_BROKERAGE_ONBOARDING_DEBUG:{section:"aa_brokerage_onboarding_debug",target:null,trackGA:!1}},BIN_THREE_DAYS:{section:"bin_three_days",target:null,trackGA:!0},TOUR_CHECKOUT_CONTACT_INFO_OPTIMIZATION:{section:"tour_checkout_contact_info_optimization",target:null,trackGA:!1},FIRST_TOUR_DATA:{section:"first_tour_data",target:null,trackGA:!0},ADD_HOMES_BLOCK_LDP:{section:"add_homes_block_experiment_eligible",target:null,trackGA:!0}},trackedStages:{},trackedAnyStages:!1,initializedProminentAddHomesGAExperiment:!1,initializedOpenToRedfinCopyChangesExperiment:!1,withGlobalDefaultParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.device_category=(0,u.isOnSmallScreen)()?"mobile":(0,u.isOnMediumOrSmallScreen)()?"tablet":"desktop","function"==typeof this.isFirstTour&&(e.is_first_tour=this.isFirstTour()),"function"==typeof this.inquirySource&&(e.inquiry_source=this.inquirySource()),"function"==typeof this.businessMarket&&(e.businessMarket=this.businessMarket()),"function"==typeof this.isNewRegistration&&(e.is_new_registration=this.isNewRegistration()),"function"==typeof this.isLoggedIn&&(e.is_logged_in=this.isLoggedIn()),"function"==typeof this.verificationAttempted&&(e.verification_attempted=this.verificationAttempted()),e},trackImpressionWithDefaults:function(e,t,a){this.trackImpression(e,this.withGlobalDefaultParams(t),a)},trackClickWithDefaults:function(e,t){this.trackClick(e,this.withGlobalDefaultParams((0,r.default)({trackGA:!0},t)))},trackSwipeWithDefaults:function(e,t){this.trackSwipe(e,this.withGlobalDefaultParams((0,r.default)({trackGA:!0},t)))},trackPageImpression:function(e,t){if(this.updateRiftPageType(e),!this.trackedStages[e]){var a=this.withGlobalDefaultParams({trackGA:!0,prev_stage:t});this.trackedAnyStages?o.default.trackVirtualPageViewInGTM(null,null,a):(this.trackedAnyStages=!0,o.default.trackImpression(null,null,a))}this.trackedStages[e]=!0},generateTimeDataRiftParams:function(e,t,a){var n={},r={};return e&&e.times?(n.num_bin_times=e.times.filter(function(e){return e.availabilityType===g_tourTimeAvailabilityType.BOOK_IT_NOW}).length,n.num_classic_times=e.times.length-n.num_bin_times,n.first_available=e.times[0]&&a&&(0,u.getDateTimeStringForTime)(e.times[0].date,a),n.selected_time=t&&a&&(0,u.getDateTimeStringForTime)(this.state.selectedTime.date,a),r.has_bin_times=n.num_bin_times>0,r.has_classic_time=n.has_classic_time>0,n[s.default.GA_LABEL]=r,n):n},setPartnerCallback:function(e){this.isPartner=e},setIsFirstTourCallback:function(e){this.isFirstTour=e,this.trackImpressionWithDefaults(this.targets.FIRST_TOUR_DATA)},setInquirySourceCallback:function(e){this.inquirySource=e},setBusinessMarketCallback:function(e){this.businessMarket=e},setNewRegistrationCallback:function(e){this.isNewRegistration=e},setIsLoggedInCallback:function(e){this.isLoggedIn=e},setVerificationAttemptedCallback:function(e){this.verificationAttempted=e},updateRiftPageType:function(e){"function"==typeof this.isPartner&&this.isPartner()&&(e="partner_"+e),l.default.setRiftPageType(e)}});t.default=c,e.exports=t.default},WXJB:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("cXUB")),s=n(a("7pHz")),l=n(a("WSab")),u=n(a("u8eL")),c=a("Y5+Z"),d=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"setConfigValues",value:function(){return{statsdSampleRate:.01}}},{key:"handleRoute",value:function(){var e=this,t=this.getRequest();this._initialStore=(0,c.createHomeDetailsInitialStoreFromRequest)(t);var a=o.default.defer();return u.default.disableForRoute("HomeDetails"),o.default.all([l.default.whenReady(),this._initialStore.when("urlData")]).then(function(){var t,n=e._initialStore.state.urlData;if(n&&n.redirectUrl)return a.resolve({code:n.responseCode,location:n.redirectUrl});if(n&&n.responseCode!==s.default.OK)return a.resolve({code:n.responseCode});if(void 0===n||!n.pageType)return a.resolve({code:s.default.INTERNAL_SERVER_ERROR});switch(n.pageType){case g_detailsPageType.ACTIVE:t=e._isPhoneOrTablet(n)?"ADPPhone":"ADPDesktop";break;case g_detailsPageType.ACTIVE_PENDING:t=e._isPhoneOrTablet(n)?"APDPPhone":"APDPDesktop";break;case g_detailsPageType.OFF_MARKET:t=e._isPhone(n)?"OMDPPhone":"OMDPDesktop";break;case g_detailsPageType.RECENTLY_SOLD:t=e._isPhone(n)?"RSDPPhone":"RSDPDesktop"}a.resolve({routeName:t})}).catch(function(){a.resolve({code:s.default.INTERNAL_SERVER_ERROR})}),a.promise}},{key:"_isPhone",value:function(e){return e.deviceConfig===g_deviceConfiguration.PHONE}},{key:"_isPhoneOrTablet",value:function(e){return e.deviceConfig!==g_deviceConfiguration.DESKTOP}}]),e}();e.exports=d},WqYn:function(e,t,a){"use strict";var n=a("63Ad"),r=(n(a("W0B4")),n(a("1RMg"))),i=n(a("LDFp")),o=n(a("/+pK")),s=n(a("y9OY")),l=n(a("P7cu")),u=n(a("hM6/")),c=a("YAhj"),d=a("0VMN"),f=a("Md6j"),p=a("3jl7"),m=a("DGdc"),h=a("z9zP"),g={};a("UxBW"),a("KnzI"),i.default.ensure(a("HFi1"));var _=d({displayName:"HomeControls",mixins:[f],propTypes:{isFavorite:g.bool,isShortlisted:g.bool,favoriteSenderId:g.string,xOutSenderId:g.string,isXout:g.bool,favoriteErrors:g.object,propertyId:g.number,listingId:g.number,tourHomeMomentInfoStore:g.object,userCanShare:g.bool,experimentStore:g.object},render:function(){var e=!!this.props.sharedSearchIntroStore&&this.props.sharedSearchIntroStore.showPrompt;return c.createElement("div",{className:"HomeControls inline-block no-print"},c.createElement(p,{favoriteErrors:this.props.favoriteErrors}),c.createElement("div",{className:"pill-container inline-block"},c.createElement(s.default,{senderId:this.props.favoriteSenderId,isFavorite:this.props.isFavorite,isShortlisted:this.props.isShortlisted,tourHomeMomentInfoStore:this.props.tourHomeMomentInfoStore,sharedSearchIntroEnabled:e,animate:this.props.animateFavoriteButton}),(this.props.isActivish||!this._photoManagerFeatureIsOn())&&c.createElement(l.default,{senderId:this.props.xOutSenderId,isXout:this.props.isXout}),this._shouldRenderShareButton()&&c.createElement(u.default,{propertyId:this.props.propertyId,listingId:this.props.listingId,shareBoxStore:this.props.shareBoxStore})),this._photoManagerFeatureIsOn()&&!this.props.isActivish&&c.createElement(h,null),c.createElement(m,{isActivish:this.props.isActivish,propertyId:this.props.propertyId,listingId:this.props.listingId,avmInfo:this.props.avmInfo}))},_shouldRenderShareButton:function(){return this.props.userCanShare},_photoManagerFeatureIsOn:function(){var e=-1===o.default.get(g_dbBackedConfigKeys.OWNER_UPLOAD_PHOTOS_DISABLED_DATA_SOURCES).indexOf(this.props.dataSourceId);return r.default.isOn(i.default.PHOTO_UPLOAD_MASTER_SWITCH)&&e}});e.exports=_},"X/2h":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["resetStoreData","setExistingTour","addToExistingTour","addNote","noteInputChange"]);t.default=n,e.exports=t.default},X1tb:function(e,t,a){},XAqm:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("NToG")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("eef+")),c=n(a("mXGw")),d=r(a("2Xwv")),f=r(a("E9YX")),p="https://www.redfin.com/blog/why-you-need-a-real-estate-agent-to-buy-a-home",m=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"renderContactMessage",value:function(e,t,a){return a&&c.default.createElement("div",{className:"contact"},c.default.createElement("div",null,"You may also contact this homes listing agent:",c.default.createElement("div",{className:"contactNameAndPhone"},c.default.createElement("span",{className:"contactName"},e," "),c.default.createElement("span",{className:"contactPhone"},c.default.createElement("a",{href:"tel:"+a},a))),c.default.createElement("div",{className:"contactBroker"},t)))}},{key:"renderBelowMinPriceBox",value:function(){var e=c.default.createElement("div",{className:"explain"},c.default.createElement("div",null,"Redfin is currently unable to show this property due to our ",c.default.createElement("a",{rel:"nofollow",href:"https://support.redfin.com/hc/en-us/articles/360001433192-Buying-FAQ#minimum"},"minimum price limit. "),"We still recommend that you get a buyers agent to represent you. ",c.default.createElement("a",{href:p},"See Why")),c.default.createElement("br",null)),t=this.props.contactInfo,a=this.renderContactMessage(t.contactName,t.contactBrokerName,t.contactPhoneNumber);return c.default.createElement(d.default,{className:"blockedCB",title:"Sorry, tour not available",type:"info",dismissible:!1},e,a)}},{key:"renderPropertyTypeNotServicedBox",value:function(){var e=this.props.propertyType===g_propertyType.MULTI_FAMILY_5_PLUS,t=e?c.default.createElement("div",null,"Unfortunately, Redfin is currently unable to provide agent service for 5+ unit multi-family listings. We still recommend that you get a buyers agent to represent you.",c.default.createElement("a",{href:p},"See Why")):"Redfin does not currently provide agent service for this type of listing. ",a=c.default.createElement("div",{className:"explain"},c.default.createElement("div",null,t),c.default.createElement("br",null)),n=this.props.contactInfo,r=this.renderContactMessage(n.contactName,n.contactBrokerName,n.contactPhoneNumber),i=e?"Property Type Not Serviced":"Not Serviced";return c.default.createElement(d.default,{className:"blockedCB",title:i,type:"info",dismissible:!1},a,r)}},{key:"renderBankOwnedBox",value:function(){var e=this.props.mlsLogoFileName&&c.default.createElement("div",null,c.default.createElement("img",{src:this.props.mlsLogoFileName,alt:"MLS Logo"})),t=this.props.ownerName&&c.default.createElement("div",null,c.default.createElement("div",null,"It is owned by: "),c.default.createElement("div",{className:"owner"},this.props.ownerName," ")),a=this.props.sourceInfo,n=a.moreListingsForPropertyText&&c.default.createElement("div",null,a.moreListingsForPropertyText),r=a.originalSourceUrl&&a.originalSourceName&&c.default.createElement("div",null,"For more details, please see:",c.default.createElement("a",{href:a.originalSourceUrl},a.originalSourceName,a.dataSourceName?"via "+a.dataSourceName:""));return c.default.createElement(d.default,{className:"blockedCB",title:"Foreclosed Home",type:"info",dismissible:!1},e,c.default.createElement("div",{className:"foreclosed-explain"},"We are sorry, this foreclosed home is currently not for sale. "),t,c.default.createElement("div",null,c.default.createElement("a",{href:"https://www.redfin.com/definition/real-estate-owned-home"},"Learn more about foreclosed homes. ")),n,r)}},{key:"renderFSBOBox",value:function(){var e=this.props.sourceInfo,t=c.default.createElement("div",{className:"fsbo-explain"},c.default.createElement("div",null,"The seller has listed the home on a for-sale-by-owner site."),c.default.createElement("div",null,e.moreListingsForPropertyText),c.default.createElement("div",null,"Redfin does not currently provide agent service for for-sale-by-owner listings."));return c.default.createElement(d.default,{className:"blockedCB",title:"For Sale By Owner",type:"info",dismissible:!1},t)}},{key:"renderConnectAreaRedfinAgentBox",value:function(){var e=c.default.createElement("div",{className:"partner-explain"},"This listing is outside of our service area, but may be serviced by a partner agent."),t=c.default.createElement("div",{className:"agent-message"},"You are currently working with Redfin agent ",c.default.createElement("a",{href:this.props.agentUrl},this.props.agentName),"."),a=c.default.createElement("div",{className:"contact-message"},"Please contact ",this.props.agentName," directly to learn more about working with a Redfin partner agent.");return c.default.createElement(d.default,{className:"blockedCB",title:"Redfin Partner Service Area",type:"info",dismissible:!1},e,t,a)}},{key:"renderUnsupportedShortSaleBox",value:function(){var e=c.default.createElement("div",{className:"explain"},c.default.createElement("div",null,"Unfortunately, Redfin is currently unable to service this short sale home, but we still recommend that you get a buyers agent to represent you. ",c.default.createElement("a",{href:p},"See Why")),c.default.createElement("br",null)),t=this.props.contactInfo,a=t.contactName,n=t.contactBrokerName,r=t.contactPhoneNumber,i=this.renderContactMessage(a,n,r);return c.default.createElement(d.default,{className:"blockedCB",title:"Unsupported Short Sale",type:"info",dismissible:!1},e,i)}},{key:"renderNotForSaleBox",value:function(){var e=this.props.mlsStatusMessage?"Sale "+this.props.mlsStatusMessage:"Not For Sale",t=this.props.mlsStatusMessage?"The seller has accepted an offer, and the property is now pending or under contract.":"The property is not for sale.";return c.default.createElement("div",{className:"notForSaleNotice"},c.default.createElement("div",{className:"title"},e),c.default.createElement("div",{className:"message"},t))}},{key:"renderOutOfServiceBox",value:function(){return c.default.createElement(d.default,{className:"blockedCB",title:"Out of Service",type:"info",dismissible:!1},c.default.createElement("div",{className:"out-of-service-explain"},"We're sorry - Redfin doesn't currently have any agents available to help you with this home."),c.default.createElement("div",null,"Please check back often since we expect to be able to help you soon."))}},{key:"renderConnectAreaScheduledTourBox",value:function(){var e=this.props.teamPhoneNumber&&c.default.createElement("div",null,"Please call the Redfin ",this.props.teamName," team at",c.default.createElement("a",{href:"tel:"+this.props.teamPhoneNumber}," ",this.props.teamPhoneNumber," "),"to learn more about working with a Redfin partner agent.");return c.default.createElement(d.default,{className:"blockedCB",title:"Partner Service Area",type:"info",dismissible:!1},c.default.createElement("div",{className:"scheduled-tour-explain"},"This listing is outside of our service area, but may be serviced by a Redfin partner agent."),e)}},{key:"renderOutOfAreaBox",value:function(){var e=this.props.isBuyside?"How Do I See This Home?":"Out Of Service Area";return c.default.createElement(d.default,{className:"blockedCB",title:e,type:"info",dismissible:!1},c.default.createElement(f.default,{userEmail:this.props.email,zipCode:this.props.zipCode,title:null}))}},{key:"render",value:function(){switch(this.props.blockedType){case g_blockedContactBoxType.BELOW_MIN_PRICE:return this.renderBelowMinPriceBox();case g_blockedContactBoxType.PROPERTY_TYPE_NOT_SERVICED:return this.renderPropertyTypeNotServicedBox();case g_blockedContactBoxType.BANK_OWNED:return this.renderBankOwnedBox();case g_blockedContactBoxType.FSBO:return this.renderFSBOBox();case g_blockedContactBoxType.CONNECT_AREA_REDFIN_AGENT:return this.renderConnectAreaRedfinAgentBox();case g_blockedContactBoxType.UNSUPPORTED_SHORT_SALE:return this.renderUnsupportedShortSaleBox();case g_blockedContactBoxType.NOT_FOR_SALE:return this.renderNotForSaleBox();case g_blockedContactBoxType.OUT_OF_SERVICE:return this.renderOutOfServiceBox();case g_blockedContactBoxType.CONNECT_AREA_SCHEDULED_TOUR:return this.renderConnectAreaScheduledTourBox();case g_blockedContactBoxType.OUT_OF_AREA:return this.renderOutOfAreaBox();default:return null}}}],[{key:"displayName",get:function(){return"BlockedContactBox"}}]),t}(c.Component);t.default=m,e.exports=t.default},XaAO:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isListening=void 0;var r=n(a("cXUB")),i=a("cMqt"),o=n(a("m7qm")),s=n(a("WxCX")),l=a("R8lb"),u=n(a("8Llx")),c=a("bqcM"),d=n(a("nbo3")),f=i.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.mainHouseInfoPanel.sidebar.datePicker.DatePickerStoreImpl",color:{server:217,client:"rgb(212,127,127)"}}),p=i.RequestLocalStorage.getNamespace();t.isListening=function(){return p().datePickerStoreListening};var m=o.default.createStoreFactory({init:function(e){s.default.redirectToScheduler.listen(this._redirectToScheduler.bind(this)),s.default.setInquirySourceOverride.listen(function(e){this.setState({inquirySourceOverride:e})}.bind(this)),s.default.redirectForPartnerTour.listen(this._redirectForPartnerTour.bind(this)),s.default.redirectForPartnerOrRedfinTour.listen(this._redirectForPartnerOrRedfinTour.bind(this)),s.default.toggleAddHomesFlyout.listen(this._onToggleLearnMoreFlyout.bind(this)),s.default.setRequestInFlight.listen(this._setRequestInFlight.bind(this)),this.setState({requestInFlight:!1,showError:!1,listingId:e.listingId,requestingPartnerAgent:e.requestingPartnerAgent,agent:e.agent,listingAddress:e.listingAddress,city:e.city,stateCode:e.stateCode,timeZone:e.timeZone,dataSourceId:e.dataSourceId,mlsId:e.mlsId,serviceRegionId:e.serviceRegionId,addHomesFlyoutHovered:e.addHomesFlyoutHovered,businessMarketId:e.businessMarketId,isRedirect:e.isRedirect,isAmp:e.isAmp}),p().datePickerStoreListening=!0},_redirectForPartnerOrRedfinTour:function(e){var t=e.inquirySource,a=e.listingId,n=void 0===a?this.state.listingId:a,r=e.riftContext;if(this.state.requestingPartnerAgent){var i={inquirySource:t,listingId:n,agent:this.state.agent,listingAddress:this.state.listingAddress,city:this.state.city,stateCode:this.state.stateCode,timeZone:this.state.timeZone,dataSourceId:this.state.dataSourceId,mlsId:this.state.mlsId,serviceRegionId:this.state.serviceRegionId,riftContext:r,isAmp:this.state.isAmp};this._redirectForPartnerTour(i)}else this._redirectToScheduler({inquirySource:t,listingId:n,riftContext:r})},_redirectToScheduler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inquirySource,a=void 0===t?g_inquirySource.LDP_DATEPICKER_TOUR_CHECKOUT_PAGE:t,n=e.listingId,r=void 0===n?this.state.listingId:n,i=e.tourDay,o=void 0===i?this.state.day:i,s=e.tourTime,l=void 0===s?this.state.time:s,u=e.riftContext;this._navigateToTourCheckout({inquirySource:a,listingId:r,tourDay:o,tourTime:l,riftContext:u})},_navigateToTourCheckout:function(e){var t=this,a=e.inquirySource,n=e.listingId,o=e.tourDay,s=e.tourTime,c=e.riftContext,d="/tours/checkout/times?listingId="+n+"&date="+o+"&time="+s+"&inquirySource="+a+"&ct="+Date.now()+"&hideExistingTours=true",p=(0,r.default)();this.state.inquirySourceOverride&&(a=this.state.inquirySourceOverride),u.default.isLoggedIn()||(p=i.ReactServerAgent.post("/stingray/do/tourlist/make-anon-login"),d+="&".concat(l.REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM,"=").concat((0,l.serializeConversionRiftEntrypoint)(c)),(0,l.trackRegistrationConversionAttempt)(c,g_registrationReason.TOUR_HOME,g_registrationAuthority.REDFIN)),this.setState({requestInFlight:!0,showError:!1}),p.then(function(){return t._redirect(d)}).catch(function(e){f.error(e),t.setState({requestInFlight:!1,showError:!0})})},_redirect:function(e){d.default.flushRiftEvents(),this.state.isRedirect?window.top.location.replace(e):window.top.location=e},_navigateToScheduler:function(e){var t=this,a=r.default.defer();a.promise.then(function(){window.onpageshow=function(e){e.persisted&&this.setState({requestInFlight:!1,showError:!1})}.bind(t),t._redirect(e)}),document.addEventListener("readystatechange",function(e){"complete"===e.target.readyState&&a.resolve()}),"complete"===document.readyState&&a.resolve(),setTimeout(a.resolve,1e4)},makeAnonLogin:function(){return i.ReactServerAgent.post("/stingray/do/tourlist/make-anon-login")},_redirectForPartnerTour:function(e){var t=e.inquirySource,a=void 0===t?g_inquirySource.LDP_DATEPICKER_TOUR_CHECKOUT_PAGE:t,n=e.listingId,r=e.dateTime,i=e.agent,o=e.riftContext,s=e.isAmp,u=void 0!==s&&s,d="".concat((0,c.getWebServerUrl)())+(u?"/ampTours/":"/myredfin/")+"tours/checkout?listingId=".concat(n,"&date=").concat(r)+"&inquirySource=".concat(a,"&agentId=").concat(i.getId(),"&").concat(l.REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM,"=").concat((0,l.serializeConversionRiftEntrypoint)(o));this.state.isRedirect?window.top.location.replace(d):window.top.location=d},_onToggleLearnMoreFlyout:function(e){this.setState({addHomesFlyoutHovered:e})},_setRequestInFlight:function(){this.setState({requestInFlight:!0})}});t.default=m},XucT:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("W0B4")),d=n(a("mXGw")),f=n(a("4ppV")),p=n(a("CH+5")),m=n(a("Nh9I")),h=n(a("YqrK")),g=n(a("DT4l")),_=n(a("8Jek")),v=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).onCloseDialog=a.onCloseDialog.bind((0,s.default)(a)),a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{onClose:c.default.func,entrypointRiftContext:c.default.shape({content:c.default.shape({a:c.default.string,p:c.default.string,t:c.default.string})}),isOpendoor:c.default.bool,showBDXExperience:c.default.bool,fromRightRail:c.default.bool,builderName:c.default.string,listingAgent:c.default.object}}},{key:"defaultProps",get:function(){return{onClose:null,fromRightRail:!1}}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.setupMultiStageAAQFormStore()}},{key:"setupMultiStageAAQFormStore",value:function(){var e=this;this._multistageAAQFormStore=(0,m.default)({submittedQuestion:this.props.submittedQuestion,isMobile:this.props.isMobile,isInlineForm:this.props.isInlineForm,contactBoxInfo:this.props.contactBoxInfo,listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.streetAddress,inquiryChannel:this.props.inquiryChannel,inquirySource:this.props.inquirySource,sideBarStore:this.props.sideBarStore,onClickNotNowButton:this.props.onClose,trackRegistrationAttempt:!1,listingAddress:this.props.listingAddress,agent:this.props.agent,isOpendoor:this.props.isOpendoor,showBDXExperience:this.props.showBDXExperience,fromRightRail:this.props.fromRightRail,builderName:this.props.builderName,listingAgent:this.props.listingAgent,isTourConfirmation:this.props.isTourConfirmation}),this._multistageAAQFormStore.setRiftEntrypointRiftContext(this.props.entrypointRiftContext),this._multistageAAQFormStore.listen(function(){return e.forceUpdate()})}},{key:"componentDidUpdate",value:function(e){e.entrypointRiftContext!==this.props.entrypointRiftContext&&this._multistageAAQFormStore.setRiftEntrypointRiftContext(this.props.entrypointRiftContext)}},{key:"onCloseDialog",value:function(){this.props.showBDXExperience&&g.default.trackClick(g.default.clicks.ASK_BDX_DIALOG_CLOSE_CLICK),this._multistageAAQFormStore&&this._multistageAAQFormStore.state.justRegistered&&window.location.reload(),this.props.onClose()}},{key:"render",value:function(){if(!this._multistageAAQFormStore)return null;var e=this._multistageAAQFormStore.getCurrentStageTitle(),t=(0,_.default)({MultiStepAAQ:!0,mobile:this.props.isMobile});return this.props.showBDXExperience?g.default.trackImpression(g.default.impressions.ASK_BDX_DIALOG):h.default.trackImpressionWithDefaults(h.default.impressions.AAQ_DIALOG,null,this.props.isOpendoor),d.default.createElement(f.default,{className:t,close:this.onCloseDialog,fullScreenOnMobile:!0,title:e},d.default.createElement(p.default,this._multistageAAQFormStore.state))}}]),t}(d.default.Component);t.default=v,e.exports=t.default},"Y5+Z":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createHomeDetailsInitialStoreFromiFrameRequest=t.createHomeDetailsInitialStoreFromRequest=void 0;var r=n(a("UKnr")),i=a("cMqt"),o=n(a("so/P")),s=n(a("m7qm")),l=a("wIt4"),u=["_rfBrowserId_forCorvair",i.ReactServerAgent.DATA_BUNDLE_PARAMETER],c=s.default.createStoreFactory({init:function(e){this.registerUrls(e)},registerUrls:function(e){var t=r.default.parse(e.queryString);t.path=e.urlPath,u.forEach(function(e){return delete t[e]}),t&&t.path&&this.setState({urlData:(0,l.getEndpoint)("/stingray/api/home/details/initialInfo",t),pageTagsInfo:(0,l.getEndpoint)("/stingray/api/home/details/v1/pagetagsinfo",t),primaryRegionInfo:(0,l.getEndpoint)("/stingray/api/home/details/primaryRegionInfo",t)})}}),d=function(e,t){var a,n=e.getUrl(),r=n&&n.match(new RegExp("^(".concat(t,")?(/.*)")));return r&&(r.length>2&&r[2]&&(n=r[2]),a=o.default.parse(n)),{urlParts:a,match:r}};t.createHomeDetailsInitialStoreFromRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="/corv|/r3s",n=d(e,a),r=n.urlParts;t&&(r.pathname=r.pathname.replace("/amp",""));var i=c({urlPath:r.pathname,queryString:r.query});return t&&i.setState({canonicalUrl:r.pathname}),i};t.createHomeDetailsInitialStoreFromiFrameRequest=function(e){var t=d(e,"/corv/[a-z,-]*(/v2)*/[a-z]*|/r3s/[a-z,-]*/[a-z]*").urlParts;return c({urlPath:t.pathname,queryString:t.query})};var f=c;t.default=f},Y9NP:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("8VmE")),i=n(a("T1e2")),o=n(a("SDJZ")),s=n(a("NToG")),l=n(a("K4DB")),u=n(a("+IV6")),c=n(a("eef+")),d=n(a("OvAC")),f=n(a("luvc")),p=(n(a("W0B4")),a("YAhj")),m=a("8Jek"),h=a("mU1b"),g=a("SE8B"),_=a("OFlL"),v=a("hnEv"),y=a("h/Yt"),S=a("lcmt"),E=a("cuvU"),I=a("0MY4"),T=a("EgAA");a("azGC");var C=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){return p.createElement("span",{"data-rf-test-id":this.props.testId,className:this.props.className},p.createElement("span",{className:"label"},this.props.label),p.createElement("span",{className:"value"},this.props.value))}}]),t}(p.Component);(0,d.default)(C,"displayName","LabelValueSpan"),C.propTypes={};var b=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return a=(0,l.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(s))),(0,d.default)((0,i.default)(a),"state",{showAvmBlurb:!1}),(0,d.default)((0,i.default)(a),"_getYearBuilt",function(){if(a.props.yearBuilt){var e=v.dash(a.props.yearBuilt);return p.createElement(C,{label:"Built: ",value:e,testId:"abp-yearBuilt"})}}),(0,d.default)((0,i.default)(a),"_getLotSize",function(){if(a.props.lotSize){var e=E.formatLotSize(a.props.lotSize);return p.createElement(C,{label:"Lot Size: ",value:e,testId:"abp-lotSize"})}}),(0,d.default)((0,i.default)(a),"_getCumulativeDays",function(){if(a.props.cumulativeDaysOnMarket){var e=a.props.daysOnMarketLabel+": "||!1,t=y.labelDays(a.props.cumulativeDaysOnMarket);return p.createElement(C,{label:e,value:t,testId:"abp-daysOnRedfin"})}}),(0,d.default)((0,i.default)(a),"_getDaysOnRedfin",function(){var e=T.formatTimeOnRedfin(a.props.timeOnRedfin,"day","hour","minute");if(e)return p.createElement(C,{label:"On Redfin: ",value:e})}),(0,d.default)((0,i.default)(a),"_getSoldOnDate",function(){if(a.props.soldDate&&!a.props.isActivish){var e=v.dash(S.formatDateStandard(a.props.soldDate,a.props.soldDateTimeZone));return p.createElement(C,{label:"Sold On: ",value:e,testId:"abp-soldDateLabel"})}}),(0,d.default)((0,i.default)(a),"_getLastListPrice",function(){return a.props.priceInfo&&a.props.priceInfo.displayLevel===g_displayLevel.ACCESSIBLE&&!a.props.isActivish?p.createElement(C,{label:"".concat(a.props.priceInfo.label,": "),value:a.props.priceInfo.amount&&E.dollars(a.props.priceInfo.amount)||"Unknown",testId:"abp-soldDateWithPrice"}):null}),(0,d.default)((0,i.default)(a),"_getStatus",function(){var e=a.props.status;if(!e||!e.hasOwnProperty("displayValue"))return"";var t="";if(e.definition){var n=e.hasOwnProperty("longerDefinitionToken")&&e.longerDefinitionToken?"/definition/"+e.longerDefinitionToken:"";t=p.createElement(h,{term:e.displayValue,position:"below",alignment:"left",definition:e.definition,definitionLink:n},e.displayValue)}else t=e.displayValue;return p.createElement(C,{label:"Status: ",value:t})}),(0,d.default)((0,i.default)(a),"_getSource",function(){if(a.props.source)return p.createElement(C,{label:"Source: ",value:a.props.source,testId:"abp-source"})}),(0,d.default)((0,i.default)(a),"_getAvmPrice",function(){var e=a.props.avmInfo&&a.props.avmInfo.displayLevel===g_displayLevel.AGENT_ACCESSIBLE,t=p.createElement("span",{className:"clickable"},p.createElement("span",{className:"avmLabel",ref:a._setFlyoutParent,onClick:a._toggleAvmBlurbShowing},"Redfin Estimate:")," ");return p.createElement(C,{className:m({"agent-only":e}),testId:"avmLdpPrice",label:t,value:E.dollars(a.props.avmInfo.predictedValue)})}),(0,d.default)((0,i.default)(a),"_hideAvmBlurb",function(){a.setState({showAvmBlurb:!1})}),(0,d.default)((0,i.default)(a),"_toggleAvmBlurbShowing",function(){I.trackClick(I.clicks.FLYOUT_LINK),a.setState({showAvmBlurb:!a.state.showAvmBlurb})}),(0,d.default)((0,i.default)(a),"_getAvmBlurb",function(){return p.createElement(g,{alignment:"left",animateOnAppear:!0,onBlur:a._hideAvmBlurb,parent:a.state.flyoutParent,show:a.state.showAvmBlurb,showDialogOnSmallScreen:!0},p.createElement(_,(0,r.default)({},a.props.avmInfo,{className:"fly",contactBoxData:a.props.contactBoxData,riftTracker:I})))}),(0,d.default)((0,i.default)(a),"_renderStatsWithAvm",function(e,t){var n=a._getLastListPrice();return p.createElement("div",null,e&&n,a._getAvmBlurb(),t?a._getAvmPrice():a._getYearBuilt(),n||t?null:a._getLotSize(),t?null:a._getCumulativeDays(),a._getDaysOnRedfin(),e&&!n&&a._getSoldOnDate())}),(0,d.default)((0,i.default)(a),"_renderStatsWithoutAvm",function(){return p.createElement("div",null,a._getYearBuilt(),a._getLotSize(),a._getDaysOnRedfin(),a._getSoldOnDate())}),(0,d.default)((0,i.default)(a),"_setFlyoutParent",function(e){a.setState({flyoutParent:e})}),a}return(0,c.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=(0,f.default)("screen-size")<f.default.screenSizes.MEDIUM;return p.createElement("div",{className:"HomeBottomStats","data-rf-test-id":"abp-homeinfo-homebottomstats"},p.createElement("div",{className:"more-info"},this.props.avmInfo?this._renderStatsWithAvm(e,this.props.isActivish):this._renderStatsWithoutAvm(e)),p.createElement("span",{className:"status-container","data-rf-test-id":"abp-status"},this._getStatus()),p.createElement("span",{className:"source-container"},this._getSource()))}}]),t}(p.Component);(0,d.default)(b,"displayName","HomeBottomStats"),b.propTypes={},e.exports=b},YCJs:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.computeComponents=void 0;var r=n(a("zgDz")),i=n(a("JpRy")),o=n(a("JLHZ")),s=n(a("V5+8")),l=n(a("Cus+")),u=n(a("H+kC")),c=n(a("NGQd")),d=a("Iz7Y");t.computeComponents=function(e){var t=e.hasAvm,a=e.inNavigationBarVariant,n=[d.NAVIGATION_LINKS_KEYS.OVERVIEW,d.NAVIGATION_LINKS_KEYS.AMENITIES_ALT,d.NAVIGATION_LINKS_KEYS.TOUR_INSIGHTS,d.NAVIGATION_LINKS_KEYS.PROPERTY_HISTORY,d.NAVIGATION_LINKS_KEYS.PUBLIC_RECORDS,d.NAVIGATION_LINKS_KEYS.SCHOOLS,d.NAVIGATION_LINKS_KEYS.NEIGHBORHOOD_INFO,d.NAVIGATION_LINKS_KEYS.SIMILARS],f=[d.NAVIGATION_LINKS_KEYS.OVERVIEW,d.NAVIGATION_LINKS_KEYS.AMENITIES_ALT,d.NAVIGATION_LINKS_KEYS.PROPERTY_HISTORY,d.NAVIGATION_LINKS_KEYS.SCHOOLS,d.NAVIGATION_LINKS_KEYS.NEIGHBORHOOD_INFO,d.NAVIGATION_LINKS_KEYS.SIMILARS],p=[d.NAVIGATION_LINKS_KEYS.OVERVIEW,d.NAVIGATION_LINKS_KEYS.AMENITIES_ALT,d.NAVIGATION_LINKS_KEYS.PROPERTY_HISTORY,d.NAVIGATION_LINKS_KEYS.SCHOOLS,d.NAVIGATION_LINKS_KEYS.NEIGHBORHOOD_INFO,d.NAVIGATION_LINKS_KEYS.SIMILARS],m=a?f:n;return t&&m.splice(1,0,d.NAVIGATION_LINKS_KEYS.AVM),a?[c.default,l.default,{component:u.default,additionalProps:{linksToShow:m,linksToShowSmallWidth:p}},r.default,o.default,i.default,{component:s.default,additionalDependencies:["claimedHomeSellerDataStore","redfinNowHomeMomentInfoStore"]}]:[c.default,l.default,r.default,{component:u.default,additionalProps:{linksToShow:m,linksToShowSmallWidth:p}},o.default,i.default,{component:s.default,additionalDependencies:["claimedHomeSellerDataStore","redfinNowHomeMomentInfoStore"]}]}},YPLX:function(e,t,a){"use strict";var n=a("R16N");e.exports=n.createActions(["newLocation","locationSearch","formSubmitSuccess","closeErrorDialog","showDialogForInquirySource","hideDialogForInquirySource","updateInquirySourceId","handleSignIn"])},YQMY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIRST_VISIT_DATE_KEY=void 0;t.FIRST_VISIT_DATE_KEY="FirstVisitDate"},YTB8:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("mXGw")),s=a("cMqt"),l=n(a("04XH")),u=n(a("H+df")),c=n(a("Xl0f")),d=n(a("J09A")),f=n(a("WSab")),p=n(a("94Bj")),m=n(a("P4ny")),h=n(a("URCo")),g=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"handleRoute",value:function(e){var t=f.default.whenReady().then(function(){return"SHORTLIST"===p.default.getVariant(m.default)}),a=f.default.whenReady().then(function(){return h.default.getCurrentUserData().id});return this.postFavoriteToastStore=new l.default(t),this.editShortlistStore=new u.default(a),e()}},{key:"getElements",value:function(e){var t=e();return t.push(o.default.createElement(s.RootContainer,null,o.default.createElement(s.RootElement,{listen:this.postFavoriteToastStore.whenResolvedEmitter()},o.default.createElement(c.default,null)),o.default.createElement(s.RootElement,{listen:this.editShortlistStore.whenResolvedEmitter()},o.default.createElement(d.default,null)))),t}}]),e}();t.default=g,e.exports=t.default},YqrK:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("5u71")),i=n(a("HVn3")),o=n(a("LDFp")),s=n(a("pBXq"));o.default.ensure(a("tTYd"));var l=(0,i.default)(new s.default,{name:"MultistageAskAQuestionRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],impressions:{AAQ_EXPERIMENT_ELIGIBLE:{section:"updated_aaq_experiment_eligible",trackGA:!1,expectedParams:["chat_available","device_category"]},LDP_SCROLL_ASK_A_QUESTION:{section:"ask_a_question",trackGA:!0},AAQ_NAME_DIALOG:{section:"ask_a_question_name_dialog",trackGA:!0},AAQ_CONTACT_INFO_DIALOG:{section:"ask_a_question_contact_info_dialog",trackGA:!0,expectedParams:["phone_prefilled"]},AAQ_DIALOG:{section:"ask_a_question_dialog",trackGA:!0}},clicks:{AAQ_AGENT_PHOTO_CLICK:{section:"ask_a_question",target:"agent_photo"},AAQ_AGENT_NAME_CLICK:{section:"ask_a_question",target:"agent_name"},AAQ_QUESTION_FIELD_CLICK:{section:"ask_a_question",target:"question_field"},AAQ_QUESTION_BUTTON_CLICK:{section:"ask_a_question",target:"ask_question_button"},AAQ_QUESTION_NEXT_CLICK:{section:"ask_a_question",target:"next_button"},AAQ_PHONE_NUMBER_CLICK:{section:"ask_a_question",target:"phone_number"},AAQ_FIRST_NAME_FIELD_CLICK:{section:"ask_a_question_name_dialog",target:"first_name_field"},AAQ_LAST_NAME_FIELD_CLICK:{section:"ask_a_question_name_dialog",target:"last_name_field"},AAQ_NAME_DIALOG_NEXT_BUTTON_CLICK:{section:"ask_a_question_name_dialog",target:"next_button"},AAQ_EMAIL_FIELD_CLICK:{section:"ask_a_question_contact_info_dialog",target:"email_field"},AAQ_PHONE_FIELD_CLICK:{section:"ask_a_question_contact_info_dialog",target:"phone_field",expectedParams:["phone_prefilled"]},AAQ_CONTACT_INFO_NEXT_BUTTON_CLICK:{section:"ask_a_question_contact_info_dialog",target:"next_button"},AAQ_CONTACT_INFO_SUBMIT_BUTTON_CLICK:{section:"ask_a_question_contact_info_dialog",target:"submit_button"},AAQ_TERMS_LINK_CLICK:{section:"ask_a_question_contact_info_dialog",target:"terms_link"},AAQ_PRIVACY_POLICY_LINK_CLICK:{section:"ask_a_question_contact_info_dialog",target:"privacy_policy_link"},AAQ_PARTNER_RECRUITMENT_CTA_CLICK:{section:"ask_a_question",target:"partner_recruitment_cta"}},trackImpressionWithDefaults:function(e,t,a){this.trackImpression(a?this._prefixSectionNameWithComingSoon(e):e,t)},trackClickWithDefaults:function(e,t,a){return this.trackClick(a?this._prefixSectionNameWithComingSoon(e):e,(0,i.default)({trackGA:!0},t))},_prefixSectionNameWithComingSoon:function(e){var t=(0,r.default)(e);return t.section="cs_".concat(e.section),t}});t.default=l,e.exports=t.default},Yvmo:function(e,t,a){},YzOW:function(e,t,a){},Z890:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("8VmE")),o=r(a("OvAC")),s=r(a("ma35")),l=r(a("8Jek")),u=r(a("mXGw")),c=(r(a("W0B4")),r(a("nbo3"))),d=r(a("LAaD")),f=r(a("WqrT")),p=n(a("QP4D")),m=a("osI4"),h=r(a("MNrX"));a("+1nJ");var g=function(e){var t,a=e.sellerSavings,n=e.listingId,r=e.isComingSoon,g=e.buysideCommission,_=(0,m.getBrowserInfoJson)(p.getRequestUserAgent()),v=_&&_.family,y=(t={listing_id:n},(0,o.default)(t,c.default.TRACKGA,!0),(0,o.default)(t,"redfin_direct",!0),t),S=(0,l.default)({firefox:"Firefox"===v,ie:"IE"===v,edge:"Edge"===v},"triangle"),E={term:"Seller Savings",definition:"With no buyers agent, the seller will pay up to ".concat(g,"% less in commissions. Actual savings depend on final sales price and offered buy-side commission."),position:"below",alignment:"center"},I=(0,h.default)(r,a);return u.default.createElement(d.default,{section:"redfin_direct_banner",eventDetails:y},u.default.createElement("div",{className:"RedfinDirectBannerSection"},u.default.createElement("div",{className:"redfin-direct-icon"},u.default.createElement("img",{src:"".concat(g_imageServerUrl,"/images/redfinDirect/banner_illustration_desktop.svg")})),u.default.createElement("div",{className:"redfin-direct-description"},u.default.createElement("span",null,I,a&&u.default.createElement(f.default,(0,i.default)({infoIcon:!0},E)))),u.default.createElement("div",{className:"learn-more-cta"},u.default.createElement(s.default,{className:"teritary",onClick:function(){return function(e,t){c.default.trackClick("redfin_direct_banner","find_out_more",e),window.location.href="/buy-a-home/two-ways?listingId=".concat(t,"&inquirySource=").concat(g_inquirySource.LDP_REDFIN_DIRECT_BANNER)}(y,n)}},"Find Out More")),u.default.createElement("div",{className:S},u.default.createElement("img",{src:"".concat(g_imageServerUrl,"/images/redfinDirect/triangle.svg")}))))};g.propTypes={};var _=g;t.default=_,e.exports=t.default},ZNeB:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("mXGw")),c=n(a("1AMb")),d=n(a("zQwK")),f=n(a("bo1D"));a("yvQb");var p=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){f.default.trackImpression(f.default.impressions.SALE_PENDING_DISCLAIMER,null,this.domNode)}},{key:"render",value:function(){var e=this;return u.default.createElement(c.default,{name:"BannerSection PendingBanner"},u.default.createElement("div",{className:"sectionContainer",ref:function(t){return e.domNode=t}},u.default.createElement(d.default,{title:"Sale Pending",message:"The seller has accepted an offer, and the property is now pending or under contract."})))}}]),t}(u.default.Component);t.default=p,e.exports=t.default},ZSrt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("TlVh"),r=a("wIt4"),i=a("dgLq"),o=(0,n.createStoreFactory)({init:function(e){if(!e||!e.propertyId)throw new Error("propertyId not defined");this.setState({propertyId:e.propertyId,dataPromise:this._fetchData(e),queryParams:e.queryParams})},_fetchData:function(e){var t=this,a="/stingray/api/home/details/claimedHomeSellerData?propertyId=".concat(e.propertyId);return(0,r.getEndpoint)(a).then(function(e){t._handleResponse(e),t._displaySurvey()})},_displaySurvey:function(){"addressSearch"===this.state.queryParams.src&&(0,i.showRoutingOwnerSurvey)()},_handleResponse:function(e){this.setState({businessMarketId:e.businessMarketId,experimentEligibility:e.experimentEligibility,phoneNumberDisplay:e.phoneNumberDisplay,shouldShowSellHomeCTA:e.displayListingMerchandising})}});t.default=o,e.exports=t.default},ZmJK:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=a("mXGw"),d=n(a("W0B4")),f=n(a("VMur")),p=n(a("mSgt"));a("BLuO");var m=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).state={showFlyout:!1},a.onAsteriskClick=a.onAsteriskClick.bind((0,s.default)(a)),a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{title:d.default.string,disclaimer:d.default.node,href:d.default.string,ariaLabel:d.default.string,onClick:d.default.func,asteriskClassName:d.default.string}}},{key:"defaultProps",get:function(){return{href:"/disclaimer",asteriskClassName:"size-tiny"}}}]),(0,l.default)(t,[{key:"render",value:function(){return React.createElement("a",{className:"DisclaimerFlyoutAsterisk",href:this.props.href,onClick:this.onAsteriskClick,"aria-label":this.props.ariaLabel},React.createElement(p.default,{className:this.props.asteriskClassName}),this.state.showFlyout&&React.createElement(f.default,{className:"disclaimer-flyout",title:this.props.title,showDialogOnSmallScreen:!0},this.props.disclaimer))}},{key:"onAsteriskClick",value:function(e){if(e.target===e.currentTarget||"A"!==e.target.nodeName&&e.currentTarget.contains(e.target)){e.preventDefault();var t=!this.state.showFlyout;this.setState({showFlyout:t}),t?this.documentClickHandler||(this.documentClickHandler=this.onDocumentClick.bind(this,e.currentTarget),document.addEventListener("click",this.documentClickHandler)):this.removeDocumentClickHandler()}else"A"!==e.target.nodeName&&e.preventDefault();this.props.onClick&&this.props.onClick()}},{key:"onDocumentClick",value:function(e,t){var a=e.parentElement.getElementsByClassName("disclaimer-flyout")[0];if(a){var n=t.target;do{if(n===a)return;n=n.parentElement}while(n)}this.setState({showFlyout:!1}),this.removeDocumentClickHandler()}},{key:"removeDocumentClickHandler",value:function(){this.documentClickHandler&&(document.removeEventListener("click",this.documentClickHandler),delete this.documentClickHandler)}}]),t}(c.Component);t.default=m,e.exports=t.default},aA4O:function(e,t,a){},adVl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["submitAnswer","questionAnswered","questionnaireCompleted"]);t.default=n,e.exports=t.default},azGC:function(e,t,a){},"bFQ/":function(e,t,a){},bGwx:function(e,t,a){},bKKb:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.generateStandardRedfinEstimateRiftParams=t.calculateRedfinEstimateDisplayValue=t.calculateAvmDisplayType=void 0;var r=n(a("LDFp")),i=n(a("1RMg")),o=a("huYw"),s=a("osI4");r.default.ensure(a("kEDa"));t.calculateAvmDisplayType=function(e){var t=e.redfinEstimateInfo;return i.default.isOff(i.default.feature.SDP_PDP_AVM)||!t?o.AvmDisplayType.NO_AVM:t.predictedValue&&t.predictedValue>0?o.AvmDisplayType.AVM:o.AvmDisplayType.GHOST_TOWN};t.calculateRedfinEstimateDisplayValue=function(e){var t=e.redfinEstimateInfo,a=void 0===t?{}:t,n=e.historicalGraphDisplayState,r=e.historicalRedfinEstimateStore,i=void 0===r?{}:r;return n===o.HistoricalGraphDisplayState.DISPLAY&&i&&i.legend?i.legend.value:a.predictedValue};t.generateStandardRedfinEstimateRiftParams=function(e){var t=e.redfinEstimateInfo,a=void 0===t?{}:t,n=e.listingId,r="not_available";return a.isHidden?r="hidden":a.predictedValue&&(r="available"),{status:r,property_id:a.propertyId,listing_id:n,device_category:(0,s.getCurrentDeviceType)(),trackGA:!0}}},bSdT:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("kxHp")),u=n(a("eef+")),c=function(e){function t(e,a){var n;return(0,r.default)(this,t),(n=(0,o.default)(this,(0,s.default)(t).call(this)))._sectionToUse=e,n._globalParams=a,n.trackAllEventsInGA=!0,n}return(0,u.default)(t,e),(0,i.default)(t,[{key:"trackImpression",value:function(){(0,l.default)((0,s.default)(t.prototype),"trackImpression",this).call(this,{section:this._sectionToUse},this._globalParams)}},{key:"trackClick",value:function(e){(0,l.default)((0,s.default)(t.prototype),"trackClick",this).call(this,{section:this._sectionToUse,target:e},this._globalParams)}}]),t}(n(a("pBXq")).default);t.default=c,e.exports=t.default},bXzE:function(e,t,a){},bo1D:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("zaQZ")).default;t.default=r,e.exports=t.default},bq4n:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.createDPStoreFactory=t.createBannerInfoStore=t.createPersonalPropertyInfoStore=t.createTourHomeMomentInfoStore=void 0;var r=n(a("gki9")),i=n(a("8VmE")),o=n(a("LDFp")),s=n(a("cXUB")),l=a("TlVh"),u=n(a("1RMg")),c=n(a("PDxa")),d=a("wIt4"),f=n(a("AL8r")),p=n(a("eMqM")),m=a("QP4D"),h=n(a("7AK3")),g=n(a("ZpgJ")),_=n(a("vdnz")),v=n(a("/+pK")),y=a("cMqt"),S=n(a("72T9")),E=a("G4xM"),I=n(a("omsl")),T=n(a("f+7f")),C=n(a("JX1m")),b=n(a("+k5+")),A=n(a("/Xwz")),k=n(a("AwDr")),N=n(a("5SId")),O=n(a("13FN")),D=n(a("I+M3")),R=n(a("jRF0")),P=n(a("5jiR")),w=n(a("Vp/8")),B=n(a("UbZX")),x=n(a("Y2Hy")),L=n(a("yJmG")),M=n(a("sYmu")),F=n(a("olno")),U=n(a("Dnv8")),H=n(a("pQu4"));a("mdaO"),a("e/jQ"),a("C3UG"),a("7NDK");var G=n(a("tBof")),W=n(a("uPz2")),q=n(a("9ncp")),V=a("w3Q5"),X=a("o8GF"),K=n(a("px8L")),j=a("pBXq"),Y=a("nBE1"),z=a("g8+3"),Q=a("NMDJ"),J=a("4NP4");o.default.ensure(a("fNZa"),a("/jpU"),a("upH6"),a("4W3/"),a("80RJ"),a("s0m6"));var Z=y.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.stores.BaseHomeDetailsPageStore",color:{server:147,client:"rgb(127,127,212)"}}),$={listenables:[C.default,A.default,D.default],init:function(e){var t=this;ee(e),e.businessMarkets&&e.businessMarkets.length>0&&(0,Q.setBusinessMarketInRLS)(e.businessMarkets[0]),this._setupInitialStoreState(e),(0,m.isBrowser)()&&((0,j.initializeXDPBaseRiftTracker)(),this.aboveTheFoldInteractivePromise=s.default.defer(),this.similarsSectionRendered=s.default.defer(),window.history&&window.history.replaceState&&window.history.replaceState({},""),s.default.allSettled([this.whenResolved(),this.aboveTheFoldInteractivePromise.promise]).then(function(){return t._pageComplete()}),this.clientSideStoreInit&&this.clientSideStoreInit())},_setupInitialStoreState:function(e){var t=this._callEndpoints(e);this._endpointPromises=t;var a=this._mapPromisesToData(t,e),n=this._getSubstores(t,a,e),r=this._getAdditionalStateProperties(e),o=(0,i.default)(a,n,r);this.setState(o)},getEndpoint:function(e,t){return(0,J.getTimed)(e,t,d.getEndpoint,Z)},getCached:function(e,t){return(0,J.getTimed)(e,t,p.default,Z)},getAccessLevelProtected:function(e,t){return(0,J.getTimed)(e,t,f.default,Z)},_callEndpoints:function(e){var t=this,a=e.listingId,n=void 0===a?null:a,o=e.propertyId,l=e.accessLevel,f=e.pageType,p=e.deviceConfig,m=e.queryParams,h=e.dataSourceId,g=e.marketId,_=e.primaryRegionInfo;isNaN(o)&&Z.error("HomeDetails: DINGDINGDING non-numericals in propertyId of "+o);var y={propertyId:o,accessLevel:l},I=_.regionTableId,T=_.regionTypeId,C=_.mapPageTypeId;n&&(y.listingId=n);var b,A=g_dataSourceRequirementsContext.DP_PAGE_LOAD,k={getAboveTheFoldInfo:this.getEndpoint("/stingray/api/home/details/aboveTheFold",y),getBelowTheFoldInfo:this.getEndpoint("/stingray/api/home/details/belowTheFold",(0,r.default)({},y,{pageType:f})),getMainHouseInfoPanelInfo:this.getEndpoint("/stingray/api/home/details/mainHouseInfoPanelInfo",y),getBannerInfo:(0,d.getEndpoint)("/stingray/api/home/details/banner-data/p1",y),getAvmInfo:this.getEndpoint("/stingray/api/home/details/avm",y),getDescriptiveParagraphInfo:this.getEndpoint("/stingray/api/home/details/descriptiveParagraph",y),getTourInsightsInfo:this.getEndpoint("/stingray/api/home/details/tourInsights",{listingId:n,propertyId:o,accessLevel:l,pageType:f}),getNeighborhoodInfo:this.getEndpoint("/stingray/api/home/details/neighborhoodStats/statsInfo",(0,r.default)({},y,{regionId:I,regionTypeId:T})),getNeighborhoodPhotosInfo:this.getEndpoint("/stingray/api/home/details/hood-photos",{propertyId:o}),getSimilarListingsInfo:this.getEndpoint("/stingray/api/home/details/similars/listings",y),getSimilarSoldsInfo:this.getEndpoint("/stingray/api/home/details/similars/solds",y),getSmartInterlinksInfo:this.getEndpoint("/stingray/api/home/details/moreResourcesInfo",{propertyId:o}),getPropertyParcelInfo:this.getEndpoint("/stingray/api/home/details/propertyParcelInfo",{listingId:n,propertyId:o,accessLevel:l,pageType:f}),getParcelStream:this.getEndpoint("/stingray/do/parcelstream/?sslAcct=true"),getActivityInfo:this.getEndpoint("/stingray/api/home/details/activityInfo",y),getCommuteInfo:this.getEndpoint("/stingray/api/home/details/commute/commuteInfo"),getDataSourceRequirementInfo:h?this.getEndpoint("/stingray/do/api/requirements",{dataSourceId:h,requirementsContext:A}):null,getHomeDetailsPageHeaderInfo:this.getEndpoint("/stingray/api/home/details/homeDetailsPageHeaderInfo",{propertyId:o}),getRentalEstimateSectionInfo:(0,V.isRentalEstimateEligible)(g)?this.getEndpoint("/stingray/api/home/details/rental-estimate",y):s.default.fulfill(),getPropertyCommentsInfo:(0,d.getEndpoint)("/stingray/api/v1/home/details/propertyCommentsInfo",{propertyId:o}),getSharedRegionInfo:this.getCached("/stingray/api/region/shared-region-info",{tableId:I,regionTypeId:T,mapPageTypeId:C})};b="Variant"===u.default.getVariant(c.default)?s.default.all([k.getAvmInfo,k.getSimilarListingsInfo,k.getSimilarSoldsInfo]).spread(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(e.comparables||[]).map(function(e){return e.propertyId}),i=(a.homes||[]).map(function(e){return e.propertyId}),o=(n.homes||[]).map(function(e){return e.propertyId}),l=r.concat(i,o);if(l&&l.length>0)return t.getEndpoint("/stingray/do/api/home-tags/get-tags",{property_ids:l});b=(0,s.default)({})}):(0,s.default)({}),k.getFuzzyPropertyData=b;var N=m&&m.comingSoonListingContactBoxCta||(0,S.default)(E.COMING_SOON_CONTACT_BOX_CTA),O=(0,r.default)({},y,{pageType:f});N&&(O.listingAgentFromListingStatsEmailId=N);var D="/stingray/api/home/details/customerConversionInfo/"+([g_detailsPageType.ACTIVE,g_detailsPageType.ACTIVE_PENDING].indexOf(f)>=0?"onMarket":"offMarket"),R={keys:["experienceData","recommendedAgent"]};k.getContactBoxInfo=this.getEndpoint(D,O).then(function(e){return e&&(0,d.doObjectGraph)(R)(e)||{}}),u.default.isOn(u.default.feature.BUILDING_PAGES)&&u.default.isOn(u.default.feature.BUILDING_ON_DP)&&(k.getBuildingInfo=this.getEndpoint("/stingray/api/building/details-page/v1",{propertyId:o}),k.getBuildingHeroShotInfo=k.getBuildingInfo.then(function(e){if(void 0!==e&&"number"==typeof e.id)return t.getEndpoint("/stingray/api/building/details/hero-shot",{buildingId:e.id,accessLevel:l})}),k.getForSaleUnits=k.getBuildingInfo.then(function(e){if(void 0!==e&&"number"==typeof e.id)return t.getEndpoint("/stingray/api/building/units/for-sale/v1",{buildingId:e.id,accessLevel:l})})),n&&(k.getDatePickerInfo=(0,d.getEndpoint)("/stingray/do/tourlist/v"+v.default.get(g_dbBackedConfigKeys.CURRENT_BIN_VERSION)+"/getDatePickerData",{listingId:n}).then((0,d.doObjectGraph)()));var P=this.callEndpoints?this.callEndpoints({listingId:n,propertyId:o,accessLevel:l,pageType:f,deviceConfig:p,queryParams:m}):null;return(0,i.default)(k,P)},_mapPromisesToData:function(e,t){var a=t.propertyId,n=e.getAboveTheFoldInfo,r=e.getBelowTheFoldInfo,o=e.getMainHouseInfoPanelInfo,s={mediaBrowserInfo:n.then(function(e){return(0,i.default)(e.mediaBrowserInfo,{propertyId:a})}),addressSectionInfo:n.then(function(e){return e.addressSectionInfo}),mainHouseInfo:o.then(function(e){return e.mainHouseInfo}),openHouseInfo:o.then(function(e){return e.openHouseInfo}),amenitiesInfo:r.then(function(e){return e.amenitiesInfo}),propertyHistoryInfo:r.then(function(e){return e.propertyHistoryInfo}),publicRecordsInfo:r.then(function(e){return e.publicRecordsInfo}),schoolsInfo:r.then(function(e){return e.schoolsInfo}),schoolDistrictsInfo:r.then(function(e){return e.schoolDistrictsInfo}),avmInfo:e.getAvmInfo,homeDetailsPageHeaderInfo:e.getHomeDetailsPageHeaderInfo,commuteInfo:e.getCommuteInfo,descriptiveParagraphInfo:e.getDescriptiveParagraphInfo,tourInsightsInfo:e.getTourInsightsInfo,neighborhoodInfo:e.getNeighborhoodInfo,neighborhoodPhotosInfo:e.getNeighborhoodPhotosInfo,sharedRegionInfo:e.getSharedRegionInfo,similarListingsInfo:e.getSimilarListingsInfo,similarSoldsInfo:e.getSimilarSoldsInfo,smartInterlinks:e.getSmartInterlinksInfo,propertyParcelInfo:e.getPropertyParcelInfo.then(te),datePickerInfo:e.getDatePickerInfo?e.getDatePickerInfo:null,parcelStream:e.getParcelStream,activityInfo:e.getActivityInfo,contactBoxInfo:e.getContactBoxInfo,propertyCommentsInfo:e.getPropertyCommentsInfo,buildingInfo:e.getBuildingInfo,buildingHeroShotInfo:e.getBuildingHeroShotInfo,buildingForSaleUnits:e.getForSaleUnits,dataSourceRequirementInfo:e.getDataSourceRequirementInfo,rentalEstimateSectionInfo:e.getRentalEstimateSectionInfo,fuzzyPropertyData:e.getFuzzyPropertyData},l=this.mapPromisesToData?this.mapPromisesToData(e):null;return(0,i.default)(s,l)},_getSubstores:function(e,t,a){var n=a.listingId,r=void 0===n?null:n,o=a.propertyId,s=a.accessLevel,l=a.deviceConfig,u=a.pageExperimentInfo,c=a.pageType,d=a.queryParams,f=e.getAboveTheFoldInfo,p=e.getBannerInfo,m=g.default.getRiftPageType(),h={channel:W.default.getChannelByRiftPageType(m),libraries:"geometry,drawing,places"},_=se({contactBoxInfo:t.contactBoxInfo,aboveTheFoldInfoPromise:f,bannerInfoPromise:p,isPrimaryBanner:!0}),v=se({contactBoxInfo:t.contactBoxInfo,aboveTheFoldInfoPromise:f,bannerInfoPromise:p,isPrimaryBanner:!1}),y={interstitialStore:ne({addressSectionInfo:t.addressSectionInfo,mediaBrowserInfo:t.mediaBrowserInfo,neighborhoodInfo:t.neighborhoodInfo,propertyId:o,deviceConfig:l}),historicalAvmStore:re({avmInfo:t.avmInfo,propertyId:o,listingId:r,accessLevel:s,deviceConfig:l,pageType:c}),tourHomeMomentInfoStore:ie({propertyId:o,listingId:r,accessLevel:s}),personalizationInfo:oe({propertyId:o,listingId:r,deviceConfig:l,omdpHigherDescriptionExperimentInfo:u.omdpHigherDescriptionExperimentInfo,propertyDetailsPromise:t.addressSectionInfo.then(function(e){return{searchStatus:e.searchStatus}})}),bannerInfoStore:_,secondaryBannerInfoStore:v,experimentStore:new M.default({pageExperimentInfo:u,deviceConfig:l,pageType:c}),sideBarStore:new F.default({deviceConfig:l}),avmMapStore:new R.default({mapName:G.default.AVMMap,mapLoadingParams:h}),avmSelectionStore:new L.default({}),ownerEstimateMapStore:new R.default({mapName:G.default.OwnerEstimateMap,mapLoadingParams:h}),compSelectionStore:new L.default({})};this._miniMapStore=new R.default({mapName:G.default.MiniMap,mapLoadingParams:h}),this._miniMapStore.setState({showQuickMap:!1,googleMapsLoaded:!1,routesVisibility:[],autoCompleteSetupDone:!1,setUpCommuteDisplay:!0}),this._quickMapStore=new R.default({mapName:G.default.QuickMap,mapLoadingParams:h}),y.miniMapStore=this._miniMapStore,y.quickMapStore=this._quickMapStore;var S=this.getSubstores?this.getSubstores({propertyId:o,listingId:r,deviceConfig:l,pageType:c,queryParams:d}):null;return(0,i.default)(y,S)},_getAdditionalStateProperties:function(e){return{deviceConfig:e.deviceConfig,marketId:e.marketId,pageType:e.pageType,listingId:e.listingId,accessLevel:e.accessLevel,propertyId:e.propertyId,dataSourceId:e.dataSourceId,businessMarkets:e.businessMarkets,isLandingSession:e.isLandingSession,queryParams:e.queryParams,searchBoxStoreName:e.searchBoxStoreName}},_getClientSideSubstores:function(){this._fullScreenStateStore=new H.default;var e={fullScreenStateStore:this._fullScreenStateStore},t=this.getClientSideSubstores?this.getClientSideSubstores(this.state):null;return(0,i.default)(e,t)},_pageComplete:function(){var e=this._getClientSideSubstores();this.setState((0,r.default)({pageLoadComplete:!0},e));var t=this.state.listingId;b.default.initializeExperiments(),this.fireDPLoadedImpressions(),(0,Y.updateListingViewsCookie)(t),this.pageComplete&&this.pageComplete()},onAboveTheFoldInteractive:function(){this.aboveTheFoldInteractivePromise&&this.aboveTheFoldInteractivePromise.resolve()},onSimilarsSectionRendered:function(){this.similarsSectionRendered.resolve()},onOpenQuickMapFullScreen:function(){this._miniMapStore.setState({showQuickMap:!0}),this.state.deviceConfig!==g_deviceConfiguration.PHONE&&O.default.setFullScreenComponent(z.fullScreenComponents.MINI_MAP)},onExitQuickMapFullScreen:function(){this._miniMapStore.setState({showQuickMap:!1}),this.state.deviceConfig!==g_deviceConfiguration.PHONE&&O.default.setFullScreenComponent(z.fullScreenComponents.MINI_MAP)},onZoomInQuickMap:function(){C.default.openQuickMapFullScreen(),k.default.adjustZoom({zoom:1,mapName:G.default.QuickMap})},onZoomOutQuickMap:function(){C.default.openQuickMapFullScreen(),k.default.adjustZoom({zoom:-1,mapName:G.default.QuickMap})},onHomeMapLoaded:function(){this._miniMapStore.setState({googleMapsLoaded:!0})},onFocusSearchBox:function(){N.default.focusSearchBox(this.state.searchBoxStoreName)},onLoadLazySectionData:function(e,t){var a=this.state,n=a.propertyId,r=a.listingId,i=a.accessLevel,o={};o[e]=(0,d.getEndpoint)(t,{propertyId:n,listingId:r,accessLevel:i}),this.setState(o)},onShowRoutes:function(e){for(var t=this._miniMapStore.state.routesVisibility?this._miniMapStore.state.routesVisibility:[],a=-1,n=0;n<t.length;n++)if(Number(t[n].dest.lat.toFixed(6))===Number(e.dest.lat.toFixed(6))&&Number(t[n].dest.long.toFixed(6))===Number(e.dest.long.toFixed(6))){a=n;break}-1===a?t.push(e):t[a]=e,this._miniMapStore.setState({routesVisibility:t})},onAutoCompleteSetupDone:function(){this._miniMapStore.setState({autoCompleteSetupDone:!0})},onSetUpCommuteDisplay:function(e){this._miniMapStore.setState({setUpCommuteDisplay:e})},onPaintDirection:function(e,t){this._miniMapStore.setState({directionsRenderer:e,directionsRoute:t})},fireDPLoadedImpressions:function(){K.default.trackImpression(K.default.impressions.XDP_LOADED);var e={is_redfin_listing:this.state.addressSectionInfo.isRedfin,num_upcoming_open_houses:this.state.mainHouseInfo.openHouses?this.state.mainHouseInfo.openHouses.length:0,is_hot:this.state.addressSectionInfo.isHot,business_market_id:this.state.businessMarkets&&this.state.businessMarkets.length>0?this.state.businessMarkets[0]:null};this.state.deviceConfig===g_deviceConfiguration.PHONE?(K.default.trackImpression(K.default.impressions.MOBILE_WEB_XDP_LOADED,e),(0,X.addOnOrientationChangeListener)(Y.onOrientationChange)):K.default.trackImpression(K.default.impressions.DESKTOP_XDP_LOADED,e);var t=(0,h.default)()||null,a=t&&-1!==t.indexOf(this.state.propertyId.toString());K.default.trackImpression(K.default.impressions.XDP_CLAIMED_HOME_VIEW,{claimed_home:this.state.personalizationInfo.hasClaim,frequently_viewed:a}),this.state.pageType!==g_detailsPageType.ACTIVE&&this.state.pageType!==g_detailsPageType.ACTIVE_PENDING||(this.fireServiceInfoImpression(),this.fireServiceLevelInfoImpression())},fireServiceInfoImpression:function(){var e={service_policy:this.state.contactBoxInfo.servicePolicy,service_threshold:this.state.contactBoxInfo.serviceThreshold,service_region_id:this.state.contactBoxInfo.serviceRegionId,business_market_id:this.state.businessMarkets&&this.state.businessMarkets.length>0?this.state.businessMarkets[0]:null};K.default.trackImpression(K.default.impressions.SERVICE_INFO,e)},fireServiceLevelInfoImpression:function(){var e=this.state.contactBoxInfo,t=e?e.serviceThreshold===I.default.NONE.id?"noservice":this.state.contactBoxInfo.serviceThreshold===I.default.PARTNER.id?"partner":"redfin":"-",a=e.serviceThreshold!==I.default.NONE.id&&this.getSideBarUITypeForRift(e),n=e&&(e.experienceData&&e.experienceData.agentRequestAgent||e.recommendedAgent),r=this.state.contactBoxInfo.serviceThreshold===I.default.PARTNER.id&&e&&e.experienceData&&e.experienceData.riftImpressionExtraParams.recommended_agent_ids,i={listing_id:this.state.listingId||"-",property_id:this.state.propertyId||"-",service_level:t,ui_type:a||"-",agent_id:n&&n.getId()||"-",agent_carousel_ids:r||"-",no_service_reason:e.serviceThreshold===I.default.NONE.id?g_servicePolicy.idToObj[e.servicePolicy].defaultMessage:"-"};K.default.trackImpression(K.default.impressions.SERVICE_LEVEL,i)},isDatePickerShown:function(){if([T.default.COMING_SOON_LISTING_CTA.id,T.default.DIRECT_ACCESS.id].indexOf((this.state.contactBoxInfo||{}).experienceType)>=0)return!1},getSideBarUITypeForRift:function(e){var t=e&&e.experienceData,a=e&&e.showOnDetailsPage||t&&t.showOnDetailsPage;return a&&this.isDatePickerShown()?"both":a?"contactbox":this.isDatePickerShown()?"datepicker":"none"}},ee=function(e){var t={listingId:e.listingId,propertyId:e.propertyId,deviceConfig:e.deviceConfig,pageType:e.pageType,pageExperimentInfo:e.pageExperimentInfo,queryParams:e.queryParams};(0,E.initializeHomeDetailsPageGlobalConfigs)(t)},te=function(e){if(!e)return null;var t=e.bounds;if(t){var a=t.map(ae);e.bounds=a}return e},ae=function(e){return{lat:parseFloat(e.lat),lng:parseFloat(e.long)}},ne=function(e){var t=e.addressSectionInfo,a=e.mediaBrowserInfo,n=e.neighborhoodInfo,r=e.propertyId,i=e.deviceConfig,o={pageType:g.default.getRiftPageType()};return new U.default({propertyId:r,appInterstitialMerchPlacement:(0,q.default)("app_interstitial",{areBotsAllowed:!1},o),merchInterstititalMerchPlacement:(0,q.default)("merch_interstitial",{areBotsAllowed:!1},o),addressSectionInfo:t,mediaBrowserInfo:a,currentState:o,deviceConfig:i,neighborhoodInfo:n})},re=function(e){var t=e.propertyId,a=e.listingId,n=e.accessLevel,r=e.avmInfo,i=e.deviceConfig,o=e.pageType,s=null;return u.default.isOn(u.default.feature.AVM_HISTORICAL_MASTER_SWITCH)&&(s=new w.default({avmInfo:r,avmHistory:(0,d.getEndpoint)("/stingray/api/home/details/avmHistoricalData",{listingId:a,propertyId:t,accessLevel:n}),isMobile:i!==g_deviceConfiguration.DESKTOP,pageType:o})),s},ie=function(e){var t=e.propertyId,a=e.listingId,n=e.accessLevel,r=null;return u.default.isOn(u.default.feature.LDP_HOT_HOME_TOUR_FLYOUT)&&a&&(r=new B.default({propertyId:t,listingId:a,accessLevel:n,endpoint:"/stingray/api/moment/tourHomeMomentInfo"+"?propertyId=".concat(t,"&listingId=").concat(a,"&accessLevel=").concat(n)})),r};t.createTourHomeMomentInfoStore=ie;var oe=function(e){var t=e.propertyId,a=e.listingId,n=e.deviceConfig,r=e.omdpHigherDescriptionExperimentInfo,i=e.propertyDetailsPromise,o=new x.default({propertyId:t,listingId:a,omdpHigherDescriptionExperimentInfo:r,propertyDetailsPromise:i});return o.setFromPersonalizationInfoApi((0,d.doIfLoggedIn)(function(){return(0,d.getEndpoint)("/stingray/api/home/details/personalizationInfo",{propertyId:t,listingId:a})},null)),o.setState({personalizationInfoReceived:!0,hasClaim:(0,d.doIfLoggedIn)(function(){return _.default.hasClaim(t)},!1),claimCount:(0,d.doIfLoggedIn)(function(){return _.default.getClaimCount()},!1),hasEpostcardSubscription:(0,d.doIfLoggedIn)(function(){return _.default.hasEpostcardSubscription(t)},!1),label:{claimed:"View Owner Dashboard",claimedRecently:"View Owner Dashboard",claimedHovered:"View Owner Dashboard",unclaimed:n===g_deviceConfiguration.PHONE?"I'm the Owner":"Track this Estimate",unclaimedHovered:n===g_deviceConfiguration.PHONE?"I'm the Owner":"Track this Estimate"}}),o};t.createPersonalPropertyInfoStore=oe;var se=function(e){var t=e.contactBoxInfo,a=e.aboveTheFoldInfoPromise,n=e.bannerInfoPromise,r=e.isPrimaryBanner;return new P.default({bannerInfoPromise:n,contactBoxInfoPromise:t,aboveTheFoldInfoPromise:a,isPrimaryBanner:r})};t.createBannerInfoStore=se;t.createDPStoreFactory=function(e){return(0,l.createStoreFactory)((0,i.default)({},$,e))}},c3mQ:function(e,t,a){"use strict";var n={title:"Best monthly savings",color:"soft-cyan"},r={title:"Best interest savings",color:"soft-orange"};e.exports={BEST_MONTHLY_SAVINGS_SASH:n,BEST_INTEREST_SAVINGS_SASH:r,sashValues:[n,r]}},cIuk:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("LDFp")),i=n(a("1RMg")),o=a("bq4n"),s=a("wIt4"),l=n(a("l44v")),u=n(a("jfj+")),c=n(a("ZSrt")),d=n(a("UgQd")),f=n(a("Qc3W")),p=a("hmnS"),m=a("osI4"),h=n(a("OrNX")),g=n(a("cXUB"));r.default.ensure(a("k1sZ"));var _=(0,o.createDPStoreFactory)({callEndpoints:function(e){var t=e.listingId,a=e.propertyId,n=e.accessLevel,r="phone"===(0,m.getCurrentDeviceType)();return{getOwnerEstimateInfo:this.getEndpoint("/stingray/api/home/details/owner-estimate",{propertyId:a}),getNearbyHomesInfo:(0,s.getEndpoint)("/stingray/api/home/details/nearbyhomes",{listingId:t,propertyId:a,accessLevel:n}),getCostOfOwnershipInfo:h.default.featureIsDisabled(r)?g.default.fulfill():(0,s.getEndpoint)("/stingray/do/api/costOfHomeOwnershipDetails",{propertyId:a})}},mapPromisesToData:function(e){return{ownerEstimateSectionInfo:e.getOwnerEstimateInfo,nearbyHomesInfo:e.getNearbyHomesInfo,costOfOwnershipInfo:e.getCostOfOwnershipInfo}},getSubstores:function(e){var t=e.propertyId,a=e.listingId,n=e.deviceConfig,r=e.pageType;return{errorDialogStore:new l.default,redfinNowHomeMomentInfoStore:v({propertyId:t,deviceConfig:n,pageType:r}),claimedHomeSellerDataStore:new c.default({propertyId:t,listingId:a}),ownerVerificationStore:new d.default({sourcePage:p.SOURCE_PDP_SDP,propertyId:t,listingId:a,pageType:r}),ownerOnboardingFlowStore:new f.default}}}),v=function(e){var t=e.propertyId,a=e.deviceConfig,n=e.pageType,r=null;return i.default.isOn(i.default.feature.REDFIN_NOW_PDP_MERCHANDISING_BANNER)&&(r=new u.default({propertyId:t,deviceConfig:a,pageType:n})),r},y=_;t.default=y,e.exports=t.default},cJUL:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("OvAC")),i=n(a("8VmE")),o=n(a("5WRv")),s=n(a("SDJZ")),l=n(a("K4DB")),u=n(a("+IV6")),c=n(a("T1e2")),d=n(a("NToG")),f=n(a("eef+")),p=n(a("LDFp")),m=n(a("YAhj")),h=n(a("WZ0X")),g=n(a("TRKi")),_=n(a("8Jek")),v=n(a("EFMV")),y=n(a("luvc")),S=n(a("A3BI")),E=n(a("lcmt")),I=n(a("W0B4")),T=n(a("lQoP")),C=n(a("LAaD")),b=n(a("TeY6")),A=n(a("ma35")),k=n(a("ScZY")),N=n(a("hzyT")),O=n(a("jZ07")),D=n(a("McMD")),R=n(a("zU2Z")),P=n(a("VMur")),w=n(a("x3oz")),B=n(a("XaAO")),x=n(a("WxCX")),L=n(a("Pime")),M=n(a("IqJ5")),F=n(a("x1EQ")),U=n(a("x6JC")),H=n(a("3Clv")),G=n(a("MouV")),W=n(a("q6eW")),q=n(a("pxp0")),V=n(a("WRAN")),X=n(a("NHmO")),K=n(a("ploZ"));a("ScUM"),p.default.ensure(a("MEmH"));var j=function(e){function t(e){var a;(0,s.default)(this,t);var n=(a=(0,l.default)(this,(0,u.default)(t).call(this,e)))._getNextAvailableInPersonDay((new Date).getTime()),r="number"==typeof n&&n>0?n:0;return a.state={selectedDay:r,scrollToIndex:0,selectedExistingTour:0,ajaxState:{},hasFiredTourPickerRiftImpression:!1},a.NUM_DAYS_TO_SHOW=14,a._onDaysContainerChange=a._onDaysContainerChange.bind((0,c.default)(a)),a._onAddedToExistingTour=a._onAddedToExistingTour.bind((0,c.default)(a)),a.didSelectDay=a.didSelectDay.bind((0,c.default)(a)),a._closeAddToExistingConfirmationDialog=a._closeAddToExistingConfirmationDialog.bind((0,c.default)(a)),a._showAddToExistingTourDialog=a._showAddToExistingTourDialog.bind((0,c.default)(a)),a._onTourSelectChange=a._onTourSelectChange.bind((0,c.default)(a)),a._scheduleButtonClick=a._scheduleButtonClick.bind((0,c.default)(a)),a._goToTourCheckout=a._goToTourCheckout.bind((0,c.default)(a)),a._redfinDirectButtonClick=a._redfinDirectButtonClick.bind((0,c.default)(a)),a.resetInquirySource=a.resetInquirySource.bind((0,c.default)(a)),a}return(0,f.default)(t,e),(0,d.default)(t,null,[{key:"displayName",get:function(){return"redfin.tours.DatePicker"}},{key:"propTypes",get:function(){return{sideBarStore:I.default.object,days:I.default.array.isRequired,timeZone:I.default.string,existingTours:I.default.array,listingOnExistingTour:I.default.bool,existingConfirmedTourInformation:I.default.object,listingOnExistingUnrepShowing:I.default.bool,firstTimeTourerWithUnconfirmedTour:I.default.bool,requestingPartnerAgent:I.default.bool,listingId:I.default.number,listingAddress:I.default.string,agent:I.default.object,teamName:I.default.string,teamPhoneForDisplay:I.default.string,rawTeamPhone:I.default.string,dataSourceId:I.default.number,mlsId:I.default.string,serviceRegionId:I.default.number,city:I.default.string,stateCode:I.default.string,tourHomeMomentInfoStore:I.default.object,refund:I.default.number,float:I.default.bool,floatDTP:I.default.bool,showDatepickerExperimentSpinner:I.default.bool,canExtendAtLeastOneTour:I.default.bool,binnableTours:I.default.array,addHomesBouncerOn:I.default.bool,addHomesVariantOnForUser:I.default.bool,recalcSidebarHeight:I.default.func,inquirySource:I.default.number,businessMarketId:I.default.number,isRedirect:I.default.bool,selectedDate:I.default.string,nextAvailableTourTime:I.default.number,isInRedfinDirectMarket:I.default.bool,isTourPromptEligible:I.default.bool}}},{key:"defaultProps",get:function(){return{timeZone:"US/Pacific",requestingPartnerAgent:!1,isTourPromptEligible:!1}}}]),(0,d.default)(t,[{key:"componentWillMount",value:function(){this._store=new B.default({listingId:this.props.listingId,requestingPartnerAgent:this.props.requestingPartnerAgent,agent:this.props.agent,listingAddress:this.props.listingAddress,city:this.props.city,stateCode:this.props.stateCode,timeZone:this.props.timeZone,dataSourceId:this.props.dataSourceId,mlsId:this.props.mlsId,serviceRegionId:this.props.serviceRegionId,addHomesFlyoutHovered:!1,businessMarketId:this.props.businessMarketId,isRedirect:this.props.isRedirect,nextAvailableTourTime:this.props.nextAvailableTourTime}),this.setState({ajaxState:this._store.state})}},{key:"componentDidMount",value:function(){this._store.listen(function(e){this.setState({ajaxState:e})}.bind(this)),x.default.scheduleTourFromInquirySource.listen(function(e){this._scheduleButtonClick(e)}.bind(this)),this.props.existingTours&&this.props.existingTours.length>0&&this._trackImpression("add_to_existing_tours",!0);var e=(0,S.default)("shared_search_intros")?"withSharedSearchCookie":"noSharedSearchCookie";b.default.setLastSeenLdp(e),this.state.hasFiredTourPickerRiftImpression||this.handleTourPickerRiftImpression()}},{key:"componentWillReceiveProps",value:function(e){this.props.showDatepickerExperimentSpinner&&!e.showDatepickerExperimentSpinner&&this.setState({shouldRecalcSidebarHeightOnUpdate:!0})}},{key:"componentDidUpdate",value:function(){this.state.hasFiredTourPickerRiftImpression||this.handleTourPickerRiftImpression(),this.state.shouldRecalcSidebarHeightOnUpdate&&(this.setState({shouldRecalcSidebarHeightOnUpdate:!1}),this.props.recalcSidebarHeight()),!this.props.isTourPromptEligible||this.props.sideBarStore.deviceConfig===g_deviceConfiguration.PHONE||this.state.isTourPromptDismissed||this.state.promptInquirySource||this.setState({promptInquirySource:g_inquirySource.LDP_TOUR_PROMPT_FLYOUT})}},{key:"handleTourPickerRiftImpression",value:function(){var e={includes_how_it_works:!!this.props.refund,floating:this.props.float||this.props.floatDTP,trackGA:!0,platform:W.default.getRiftPlatformParam()};void 0!==this.props.isInRedfinDirectMarket&&(e.redfin_direct=this.props.isInRedfinDirectMarket,e.listing_id=this.props.listingId);var t=this.props.requestingPartnerAgent?"partner_tour_picker":"tour_picker";L.default.trackImpression({section:t,target:null},e,h.default.findDOMNode(this)),M.default.trackImpression({section:"today_tomorrow_experiment",target:null},e,h.default.findDOMNode(this)),this.setState({hasFiredTourPickerRiftImpression:!0})}},{key:"_fireAddHomesExperimentStartIfNecessary",value:function(){this.props.binnableTours&&this.props.existingTours&&this.props.binnableTours.length!==this.props.existingTours.length&&V.default.trackImpressionWithDefaults(V.default.targets.ADD_HOMES_BLOCK_LDP)}},{key:"render",value:function(){this.sectionTitleClass=this.props.sideBarStore.deviceConfig===g_deviceConfiguration.TABLET?"tablet-sectionTitle heading-medium":"sectionTitle heading-medium";var e=this.props.existingTours&&this.props.existingTours.length>0,t=this.state.ajaxState.requestInFlight&&!e,a=this.props.showDatepickerExperimentSpinner&&e,n=this.props.listingOnPendingTour||this.props.listingOnExistingTour||this.state.ajaxState.listingAddedToExistingTour;return t||a?this.renderLoadingPicker():n?this.renderPendingMessage():e?this.renderExistingToursPicker():this.renderDefaultPicker()}},{key:"renderLoadingPicker",value:function(){var e=(0,_.default)("bookItNowDatePicker",this.props.showDatepickerExperimentSpinner?"grayBookItNowDatePickerAddHomesBlock":"grayBookItNowDatePicker"),t=!this.props.showDatepickerExperimentSpinner&&"Loading Tour Information...";return m.default.createElement("div",{className:e},m.default.createElement("div",{className:"datePickerContainer"},m.default.createElement("h3",{className:this.sectionTitleClass},"Go Tour This Home"),m.default.createElement("div",{className:"loadingState"},m.default.createElement(D.default,{size:"large",layout:"column",centerPosition:"both",className:"tourBoxLoading",text:t}))))}},{key:"renderPendingMessage",value:function(){var e=this.props.teamName&&this.props.rawTeamPhone&&this.props.teamPhoneForDisplay&&this.renderAskQuestionSection(this.props.teamName,this.props.rawTeamPhone,this.props.teamPhoneForDisplay),t=this.props.listingOnExistingUnrepShowing?"an Unrepresented Showing":"a Home Tour";return m.default.createElement("div",{className:"listingOnPendingTour font-size-small"},m.default.createElement("div",{className:this.sectionTitleClass},this._getPendingSectionTitle(t)),m.default.createElement("div",{className:"body"},this._getPendingBody(),this._getPendingCta()),e)}},{key:"_getPendingSectionTitle",value:function(e){return this.state.ajaxState.listingAddedToExistingTour?"Thanks for adding this home to your existing tour!":this.props.existingConfirmedTourInformation?"Your tour is confirmed!":"Thanks for Requesting ".concat(e," with Redfin!")}},{key:"_getPendingBody",value:function(){if(this.props.existingConfirmedTourInformation){var e=this.props.existingConfirmedTourInformation.tourStartTime&&new Date(this.props.existingConfirmedTourInformation.tourStartTime)||new Date;return"You're all set. Meet ".concat(this.props.existingConfirmedTourInformation.agentFirstName,"\n\t\t\t\tat ").concat(this.props.existingConfirmedTourInformation.firstHomeAddress," at ").concat(E.default.format(e,this.props.timeZone,"h:mm A"),".")}return"We've received your request to tour this home. Once we verify the availability of this home, we'll get in touch with you to confirm."}},{key:"_getPendingCta",value:function(){return this.props.existingConfirmedTourInformation?m.default.createElement("a",{className:"link",href:"/myredfin/tours",target:"_blank"}," View Tour Details"):null}},{key:"renderAskQuestionSection",value:function(e,t,a){return m.default.createElement("span",null,m.default.createElement("div",{className:"questionsTitle font-weight-bold"},"Questions?"),m.default.createElement("div",{className:"contactInfo"},"Call the ",e," team at ",m.default.createElement("a",{className:"link",href:"tel:"+t},a)))}},{key:"renderDefaultPicker",value:function(){var e=this.renderDaysContainer(this.props.days,this.state.selectedDay),t=this.props.days[this.state.selectedDay],a=t.times&&t.times.length>0&&t.availabilityType===g_tourTimeAvailabilityType.NORMAL&&this.renderSubmitButton(),n=(t.availabilityType!==g_tourTimeAvailabilityType.NORMAL||!t.times||0===t.times.length)&&this.renderUnavailableSection(t);return m.default.createElement("div",{className:"bookItNowDatePicker grayBookItNowDatePicker"},m.default.createElement("div",{className:"datePickerContainer"},m.default.createElement("h3",{className:this.sectionTitleClass},"Go Tour This Home"),e),m.default.createElement("div",{className:"slidingSection"},a,n))}},{key:"_onDaysContainerChange",value:function(e){var t=e.inView,a=e.direction;this._trackClick("next"===a?"right_arrow":"left_arrow",!1),this.setState({scrollToIndex:Math.min.apply(Math,(0,o.default)(Object.keys(t)))})}},{key:"renderDaysContainer",value:function(e,t){var a=(0,y.default)("screen-size"),n=3;return a<y.default.screenSizes.MEDIUM?n=4:a<y.default.screenSizes.LARGE&&(n=7),m.default.createElement(k.default,{className:"DatePickerCarousel",numSlidesToShow:n,numSlidesToSlide:n,initialIndex:t,scrollToIndex:this.state.scrollToIndex,onChange:this._onDaysContainerChange},this.renderDays(e,t))}},{key:"renderDays",value:function(e,t){for(var a=[],n=0;n<this.NUM_DAYS_TO_SHOW;n++){var r=e[n],o=r.availabilityType===g_tourTimeAvailabilityType.NORMAL,s=n===t,l={key:""+n,index:n,date:r.date,available:o,selected:s,didSelectDay:this.didSelectDay};a.push(m.default.createElement(w.default,(0,i.default)({},l,{requestingPartnerAgent:this.props.requestingPartnerAgent})))}return a}},{key:"renderUnavailableSection",value:function(e){var t=this._getNextAvailableInPersonDay(0===e.times.length?e.date+864e5:e.date),a="number"==typeof t&&t>=0&&this.renderNextAvailableDayLink(t);return m.default.createElement("div",{className:"noButton"},m.default.createElement("div",{className:"warningMessage unavailable font-size-small"},m.default.createElement("div",{className:"message font-weight-bold text-center"},"This home is unavailable to tour on this day."),m.default.createElement("div",{className:"nextTime text-center font-weight-roman"},a)))}},{key:"renderNextAvailableDayLink",value:function(e){var t=this.props.days[e],a=new Date(t.date),n=E.default.format(a,"US/Pacific","dddd, MMMM D");return m.default.createElement("div",{className:"link",onClick:this._goToDate.bind(this,e)},"Next available date: ",n)}},{key:"renderSubmitButton",value:function(){var e={className:"primary",children:"Schedule Tour",onClick:this._scheduleButtonClick,disabled:this.state.ajaxState.requestInFlight,rfTestId:"schedule_tour_button"},t=void 0!==this.props.isInRedfinDirectMarket&&this.props.isInRedfinDirectMarket&&this._renderRedfinDirectButton();return m.default.createElement("div",{className:"submitSection"},m.default.createElement("div",{className:"tourButtonContainer"},this.renderTourHomeFlyout(),this.props.isTourPromptEligible&&this._renderTourPromptFlyout(),m.default.createElement(A.default,e)),m.default.createElement("div",{className:"submitNote font-size-smaller font-weight-roman text-center "},"It's free, with no obligation  cancel anytime"),t)}},{key:"renderExistingToursPicker",value:function(){var e=null;if(this.props.addHomesBouncerOn&&this.props.binnableTours){this._fireAddHomesExperimentStartIfNecessary();var t=this.props.addHomesVariantOnForUser?this.props.binnableTours:this.props.existingTours;if(!this.props.canExtendAtLeastOneTour)return this.renderDefaultPicker();e=this.renderExistingTours(t,!0)}else e=this.renderExistingTours(this.props.existingTours,!1);var a=this.state.ajaxState.requestInFlight,n=this.state.ajaxState.showAddToExistingConfirmationDialog,r=e&&n&&this.renderAddToExistingConfirmationDialog(a),i=this.props.addHomesBouncerOn&&"goTourTitle";return m.default.createElement("div",{className:"bookItNowDatePicker grayBookItNowDatePicker existingTours"},m.default.createElement("div",{className:"datePickerContainer"},m.default.createElement("h3",{className:"sectionTitle font-weight-roman font-size-medium heading-medium"+i},"Go Tour This Home"),e),r)}},{key:"renderExistingTours",value:function(e,t){var a=this.renderExistingToursBody(e,this.props.timeZone),n=!(1===e.length)&&this.renderExistingToursSelect(e,this.props.timeZone,this._onTourSelectChange),r=t&&e.length!==this.props.existingTours.length&&this.renderIconAndFlyoutForExtendableTours(),i={className:"secondary v3 red",children:"Yes, Add This Home",onClick:this._showAddToExistingTourDialog,disabled:this.state.ajaxState.requestInFlight},o=m.default.createElement(A.default,i),s=!this.props.firstTimeTourerWithUnconfirmedTour,l=this.props.addHomesVariantOnForUser?"time":"day",u=s&&m.default.createElement("a",{className:"clickable pickDifferentDay",onClick:this._goToTourCheckout},"No, I'd like a different "+l);return m.default.createElement("div",{className:this.props.addHomesBouncerOn&&"existingToursBody"},a,r,n,o,u)}},{key:"getFlyoutElement",value:function(){var e="Tours not shown can't be extended because the scheduled agent has conflicting appointments.";return(0,y.default)("screen-size")<y.default.screenSizes.MEDIUM?this.state.ajaxState.addHomesFlyoutHovered&&m.default.createElement(N.default,{showCloseButton:!0,close:function(){return x.default.toggleAddHomesFlyout(!1)}},e):m.default.createElement(P.default,{show:this.state.ajaxState.addHomesFlyoutHovered,onBlur:function(){return x.default.toggleAddHomesFlyout(!1)},alignment:"center",position:"above",animateOnAppear:!0,className:"extendableTourWarningFlyout"},e)}},{key:"renderIconAndFlyoutForExtendableTours",value:function(){return m.default.createElement("div",{className:"extendableTourWarning"},"Not all tours can be extended",m.default.createElement("div",{className:"extendableIconArea",onClick:function(){return x.default.toggleAddHomesFlyout(!0)}},m.default.createElement(R.default,{className:"extendableTourWarningIcon fill-subtext size-tiny"}),this.getFlyoutElement()))}},{key:"renderExistingToursBody",value:function(e,t){if(!e)return null;if(1===e.length){var a=e[0],n=E.default.format(a.tourStartTime,t,"ddd, MM/D"),r=E.default.format(new Date(a.tourStartTime),t,"h:mm A"),i=m.default.createElement("div",null,m.default.createElement("b",null,n," at ",r,"?")),o=this.props.addHomesVariantOnForUser?"to your existing tour":"and extend your existing tour";return m.default.createElement("div",{className:"body"},"Would you like to add this home "+o+" on",i)}var s=this.props.addHomesVariantOnForUser?"to one of your existing tours?":"and extend one of your existing tours?";return m.default.createElement("div",{className:"body"},"Would you like to add this home "+s)}},{key:"renderExistingToursSelect",value:function(e,t,a){var n=[];return e.forEach(function(e,a){var r=E.default.format(e.tourStartTime,t,"ddd, MM/D"),i=E.default.format(new Date(e.tourStartTime),t,"h:mm A");n.push({label:r+" at "+i,value:a+1})}),m.default.createElement(O.default,{options:n,value:n[this.state.selectedExistingTour].value,onChange:a})}},{key:"renderAddToExistingConfirmationDialog",value:function(e){if(e)return m.default.createElement(N.default,{className:"datepickerDialog",close:this._closeAddToExistingConfirmationDialog,showCloseButton:!1,closeOnBackgroundClick:!1},m.default.createElement("div",{className:"datepickerDialogBody"},m.default.createElement("div",{className:"loadingState"},m.default.createElement(D.default,{size:"large",layout:"column",centerPosition:"both",className:"tourBoxLoading",text:"Adding..."}))));var t=this.props.addHomesBouncerOn&&this.props.addHomesVariantOnForUser?this.props.binnableTours:this.props.existingTours,a=t[this.state.selectedExistingTour]||t[0],n=(0,G.default)({existingTour:a,onClose:this._closeAddToExistingConfirmationDialog,onSuccess:this._onAddedToExistingTour,timeZone:this.props.timeZone,addressString:this.props.listingAddress,listingIds:[this.props.listingId],fromLDP:!0});return g.default.createRootElement(n,m.default.createElement(H.default,n.state))}},{key:"_onAddedToExistingTour",value:function(){var e=this.state.ajaxState;e.listingAddedToExistingTour=!0,e.showAddToExistingConfirmationDialog=!1,this.setState({ajaxState:e})}},{key:"renderTourHomeFlyout",value:function(){if((0,y.default)("screen-size")<y.default.screenSizes.MEDIUM)return null;var e={tourHomeMomentInfoStore:this.props.tourHomeMomentInfoStore,flyoutTitle:"",position:"left",alignment:"center",animateOnAppear:!0,includeScheduleTourLink:!1,inquirySource:g_inquirySource.HOT_HOMES_TOUR_PROMPT};return m.default.createElement(F.default,e)}},{key:"didSelectDay",value:function(e){this.setState({selectedDay:e})}},{key:"_closeAddToExistingConfirmationDialog",value:function(){var e=this.state.ajaxState;e.showAddToExistingConfirmationDialog=!1,this.setState({ajaxState:e})}},{key:"_showAddToExistingTourDialog",value:function(){var e=this.state.ajaxState;e.showAddToExistingConfirmationDialog=!0,this.setState({ajaxState:e})}},{key:"_onTourSelectChange",value:function(e){this.setState({selectedExistingTour:e.value-1})}},{key:"_scheduleButtonClick",value:function(e){this.props.inquirySource===g_inquirySource.LDP_POST_AAQ_TOUR_PROMPT&&x.default.setRequestInFlight();var t=this.props.days[this.state.selectedDay],a=t&&t.date;this._doScheduleButtonAction(a,!1,this.state.promptInquirySource||this.props.inquirySource||e)}},{key:"_doScheduleButtonAction",value:function(e,t,a){this.props.requestingPartnerAgent&&!t?this._doPartnerScheduleButtonAction():this._doRedfinScheduleButtonAction(e,a)}},{key:"_doPartnerScheduleButtonAction",value:function(){var e={listing_id:this.props.listingId,is_partner:!0};e[T.default.CLICK_RESULT]=T.default.clickResults.SUCCESS;var t=U.default.getRiftParams(this.props.sideBarStore);(e=(0,v.default)(e,{$merge:t}))[T.default.GA_LABEL]=null!=e[T.default.GA_LABEL]?(0,v.default)(e[T.default.GA_LABEL],{$merge:{is_partner:!0}}):{is_partner:!0},this._trackClick("tour_button",!0,e);var a={dateTime:this.props.days[this.state.selectedDay].date,agent:this.props.agent,listingId:this.props.listingId};x.default.redirectForPartnerTour(a)}},{key:"_doRedfinScheduleButtonAction",value:function(e,t,a){var n={listing_id:this.props.listingId,is_partner:!1,tour_type:"in_person"};n[T.default.CLICK_RESULT]=T.default.clickResults.SUCCESS;var r=U.default.getRiftParams(this.props.sideBarStore);(n=(0,v.default)(n,{$merge:r})).floating=this.props.float||this.props.floatDTP,n.business_market_id=this.props.businessMarketId,n[T.default.GA_LABEL]=null!=n[T.default.GA_LABEL]?(0,v.default)(n[T.default.GA_LABEL],{$merge:{is_partner:!1}}):{is_partner:!1},a&&(n.is_amp=!0);var i=this.props.sideBarStore.noCBExperimentParams||{};n=(0,v.default)(n,{$merge:i});var o=this._trackClick("tour_button",!0,n),s=this.state.ajaxState;s.listingId=this.props.listingId,s.day=e,this.setState({ajaxState:s}),t=isNaN(t)?g_inquirySource.LDP_DATEPICKER_TOUR_CHECKOUT_PAGE:t,x.default.redirectToScheduler({inquirySource:t,riftContext:o})}},{key:"_getNextAvailableInPersonDay",value:function(e){for(var t=0;t<this.props.days.length;t++){var a=this.props.days[t],n=new Date(a.date);if(n.setHours(23),a&&n.getTime()>=e&&1===a.availabilityType)if(a.times.filter(function(e){return 1===e.availabilityType}).length>0)return t}return null}},{key:"_scrollToDate",value:function(e){"number"==typeof e&&e>0&&this.setState({scrollToIndex:e})}},{key:"_goToDate",value:function(e){"number"==typeof e&&e>0&&(this._scrollToDate(e),this.didSelectDay(e))}},{key:"_goToTourCheckout",value:function(){var e=this._trackClick("choose_different_time",!0),t=this.state.ajaxState;t.listingId=this.props.listingId,this.setState({ajaxState:t}),x.default.redirectToScheduler({inquirySource:g_inquirySource.LDP_DATEPICKER,riftContext:e})}},{key:"_trackClick",value:function(e,t,a){return(a=a||{})[T.default.TRACKGA]=t,a.platform=W.default.getRiftPlatformParam(),a.device_category=q.default.getDeviceType(),this.props.requestingPartnerAgent?T.default.trackClick("partner_tour_picker",e,a):T.default.trackClick("tour_picker",e,a)}},{key:"_trackImpression",value:function(e,t,a){(a=a||{})[T.default.TRACKGA]=t,a.platform=W.default.getRiftPlatformParam(),a.device_category=q.default.getDeviceType(),this.props.requestingPartnerAgent?T.default.trackImpression("partner_tour_picker",e,a):T.default.trackImpression("tour_picker",e,a)}},{key:"_renderRedfinDirectButton",value:function(){var e={className:"redfinDirectButton",children:"Start an Offer",onClick:this._redfinDirectButtonClick,rfTestId:"offer"},t=(0,r.default)({listing_id:this.props.listingId,redfin_direct:!0},T.default.TRACKGA,!0);return m.default.createElement(C.default,{section:"contact_box",eventDetails:t,target:"start_an_offer"},m.default.createElement("div",{className:"redfinDirectButtonContainer"},m.default.createElement(A.default,e)))}},{key:"_redfinDirectButtonClick",value:function(){T.default.trackClick("contact_box","start_an_offer",(0,r.default)({listing_id:this.props.listingId,redfin_direct:!0},T.default.TRACKGA,!0)),window.location="/buy-a-home/two-ways?listingId=".concat(this.props.listingId,"&inquirySource=").concat(g_inquirySource.LDP_CONTACT_BOX_OFFER_WIZARD)}},{key:"_renderTourPromptFlyout",value:function(){return this.props.sideBarStore.deviceConfig===g_deviceConfiguration.PHONE?null:m.default.createElement(X.default,{isMobile:!1,alignment:"center",position:"left",onClick:this._scheduleButtonClick,callback:this.resetInquirySource,riftImpression:K.default.impressions.TOUR_PICKER_FLYOUT,riftClick:K.default.clicks.TOUR_PICKER_FLYOUT_CLICK,riftDismiss:K.default.clicks.TOUR_PICKER_FLYOUT_DISMISS})}},{key:"resetInquirySource",value:function(){this.setState({promptInquirySource:void 0,isTourPromptDismissed:!0})}}]),t}(m.default.Component);e.exports=j},cMoY:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("8VmE")),o=r(a("SDJZ")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("T1e2")),c=r(a("NToG")),d=r(a("eef+")),f=n(a("mXGw")),p=r(a("W0B4")),m=r(a("nbo3")),h=r(a("DyY8")),g=r(a("LAaD")),_=a("gZHp"),v=r(a("fCB2")),y=a("DyRb"),S=r(a("ojJ9")),E=r(a("LI1s")),I=r(a("BCZJ")),T=r(a("qfM1")),C=r(a("z8H5")),b=r(a("XAqm")),A=r(a("E9YX")),k=r(a("ivAr"));a("RDeN");var N=r(a("xsdy")),O=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={scrollPosition:0},a.handleOnLeftNav=a.handleOnLeftNav.bind((0,u.default)(a)),a.handleOnRightNav=a.handleOnRightNav.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"displayName",get:function(){return"ContactBox"}},{key:"propTypes",get:function(){return{components:p.default.array,classes:p.default.arrayOf(p.default.string),displayAction:p.default.string,agentOrderString:p.default.string,virtualPageViewQueryParams:p.default.string,virtualPageViewPageString:p.default.string,servicePolicy:p.default.oneOf(Object.keys(g_servicePolicies.idToObj).map(function(e){return parseInt(e)})),actionType:p.default.oneOf(Object.keys(g_contactBoxActionType.idToObj).map(function(e){return parseInt(e)})),presentationType:p.default.oneOf(Object.keys(g_contactBoxPresentationType.idToObj).map(function(e){return parseInt(e)})),algorithmType:p.default.oneOf(Object.keys(g_contactBoxAlgorithmType.idToObj).map(function(e){return parseInt(e)})),refundDisplayed:p.default.bool,partnerRefundDisplayed:p.default.bool,isDisplayableShortSale:p.default.bool,customerAgentStatus:p.default.number,tourThisHomeAgent:p.default.object,serviceRegionId:p.default.number,isTourInsightsAskAQuestionAllowed:p.default.bool,refund:p.default.number,isBlocked:p.default.bool,numAgentsToDisplay:p.default.number,defaultBuyCommission:p.default.number,hasFeeSchedule:p.default.bool,numSupportAgents:p.default.number,boilerPlateLDPExperimentsToRun:p.default.arrayOf(p.default.number),boilerPlateSDPExperimentsToRun:p.default.arrayOf(p.default.number),agentRequestAgents:p.default.arrayOf(p.default.object),agentRequestAgent:p.default.object,canCominglePartnerAgents:p.default.bool,containsTwilioNumber:p.default.bool,riftImpressionExtraParams:p.default.objectOf(p.default.string),isAvmShown:p.default.bool,isSoldProperty:p.default.bool,isPrimaryCta:p.default.bool,sideBarStore:p.default.object,generalInquiryActions:p.default.object,liveChatWidgetAction:p.default.object,deviceConfig:p.default.number,isDisplayed:p.default.bool,isPaddingRemovedCarousel:p.default.bool,TourPopup:p.default.func,showSellerConsultDialogCallback:p.default.func,showAAQDialogCallback:p.default.func,generalInquiryDialog:p.default.func,averageResponseTime:p.default.number,contactBoxInfo:p.default.object}}},{key:"getDefaultProps",get:function(){return{classes:[],components:[],isDisplayed:!1,numViews:1}}}]),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.fireDisplayEvents()}},{key:"generateRiftParams",value:function(e){var t={},a={};return(e=e||this.props.agentRequestAgent)&&(t.agent_id=e.getId(),t.star_rating=e.getAverageRating(),t.num_reviews=e.getNumReviews(),t.includes_refund=this.props.refundDisplayed||this.props.partnerRefundDisplayed,t.num_closed_deals=e.getHomesClosed(),t.is_partner=e.isPartner()),this.props.actionType===g_contactBoxActionType.LIVE_CHAT&&(t.text="live_chat",a.text="live_chat"),t[h.default.TRACKGA]=!0,t[h.default.GA_LABEL]=a,t}},{key:"renderSubcomponents",value:function(){return this.props.components.map(function(e,a){var n=null;switch((e=e||{}).isDisplayed=this.props.isDisplayed,e.key=a,e.type){case g_contactBoxComponentType.BUTTON:n=N.default.isPartnerStartAnOfferExperimentInVariant()?f.default.createElement(k.default,{liveChatWidgetAction:this.props.LiveChatWidgetAction,contactBoxInfo:this.props.contactBoxInfo,showAAQDialogCallback:this.props.showAAQDialogCallback,riftParams:{},agent:e.agent,listingId:e.listingId,showPartnerStartAnOffer:!0}):f.default.createElement(T.default,(0,i.default)({},e,{isPrimaryCta:this.props.isPrimaryCta,sideBarStore:this.props.sideBarStore,TourPopup:this.props.TourPopup,showSellerConsultDialogCallback:this.props.showSellerConsultDialogCallback,showAAQDialogCallback:this.props.showAAQDialogCallback,canCominglePartnerAgents:this.props.canCominglePartnerAgents,generalInquiryActions:this.props.generalInquiryActions,generalInquiryDialog:this.props.generalInquiryDialog,liveChatWidgetAction:this.props.liveChatWidgetAction,averageResponseTime:this.props.agentAVGResponseMinutes}));break;case g_contactBoxComponentType.HTML:var r=e.classes&&e.classes.indexOf("agentImage")>-1&&(this.props.deviceConfig===g_deviceConfiguration.PHONE||!e.isDisplayed);n=f.default.createElement(v.default,(0,i.default)({},e,{riftParams:this.generateRiftParams(e.agent),sideBarStore:this.props.sideBarStore,lazy:r}));break;case g_contactBoxComponentType.OUT_OF_AREA_FORM:var o=parseInt(e.zipCode);n=f.default.createElement("div",{className:"notice caution contactBoxOutOfAreaForm"},f.default.createElement("h3",null,e.title),f.default.createElement("div",{className:"content"},f.default.createElement(A.default,{userEmail:e.email,zipCode:o})));break;case g_contactBoxComponentType.AGENT_REQUEST_FORM_CONTAINER:n=f.default.createElement(C.default,e);break;case g_contactBoxComponentType.NAVIGATION:n=f.default.createElement(E.default,(0,i.default)({position:this.state.scrollPosition,onLeftNav:this.handleOnLeftNav,onRightNav:this.handleOnRightNav,riftParams:this.generateRiftParams(e.agent)},e));break;case g_contactBoxComponentType.MULTI_WINDOW:n=f.default.createElement(I.default,(0,i.default)({position:this.state.scrollPosition,sideBarStore:this.props.sideBarStore,ContactBox:t,showSellerConsultDialogCallback:this.props.showSellerConsultDialogCallback,showAAQDialogCallback:this.props.showAAQDialogCallback,TourPopup:this.props.TourPopup},e,{isPrimaryCta:this.props.isPrimaryCta,generalInquiryActions:this.props.generalInquiryActions,generalInquiryDialog:this.props.generalInquiryDialog,liveChatWidgetAction:this.props.liveChatWidgetAction,deviceConfig:this.props.deviceConfig}));break;case g_contactBoxComponentType.TABBED_NAVIGATION:n=f.default.createElement(S.default,(0,i.default)({position:this.state.scrollPosition,goToIndex:this.goToIndex},e));break;case g_contactBoxComponentType.BLOCKED_BOX:n=f.default.createElement(b.default,e);break;default:console.log("componentType "+e.type+" is not supported by this type of ContactBox.")}return n}.bind(this))}},{key:"handleOnLeftNav",value:function(){var e=this.state.scrollPosition,t=0===e?this.props.numViews-1:e-1;this.setState({scrollPosition:t})}},{key:"handleOnRightNav",value:function(){var e=this.state.scrollPosition,t=e===this.props.numViews-1?0:e+1;this.setState({scrollPosition:t})}},{key:"goToIndex",value:function(e){this.setState({scrollPosition:e})}},{key:"fireDisplayEvents",value:function(){this.props.agentRequestAgents&&this.props.actionType===g_contactBoxActionType.ASK&&m.default.trackImpression("contact_box_with_gif",null,{trackGA:!0})}},{key:"render",value:function(){var e=this.renderSubcomponents(),t={};this.props.isBlocked&&(t["data-rf-test-name"]="cbBlockBox");var a=f.default.createElement("div",(0,i.default)({className:(0,y.getClassSet)({"contactBox react":!0,isDisplayed:this.props.isDisplayed,paddingRemovedCarousel:this.props.isPaddingRemovedCarousel,cbBlockBox:this.props.isBlocked,notForSale:this.props.isBlocked&&this.props.servicePolicy===g_servicePolicies.NOT_FOR_SALE},this.props)},t),e),n=this.props.isServicedByRedfinAgent?"contact_box":"partner_contact_box";return this.props.showOnDetailsPage&&(this.props.riftImpressionExtraParams?f.default.createElement(g.default,{section:n,target:"",eventDetails:this.props.riftImpressionExtraParams&&(0,_.assign)(this.generateRiftParams(this.props.agentRequestAgent),this.props.riftImpressionExtraParams)},a):a)}}]),t}(f.Component);t.default=O,e.exports=t.default},dgLq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showRoutingOwnerSurvey=function(){n.UserSurvey.showUserSurvey({surveyId:n.SurveyIds.FEB_2020_OWNER_DASHBOARD_ROUTING_DESKTOP,mobileSurveyId:n.SurveyIds.FEB_2020_OWNER_DASHBOARD_ROUTING_MOBILE})};var n=a("61sW")},diFG:function(e,t,a){"use strict";var n=a("R16N");e.exports=n.createActions(["receivedContactBoxInfo","dateTimePickerAndContactBoxRendered","retrieveBinWithExistingTours"])},doqM:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("K4DB")),s=r(a("+IV6")),l=r(a("T1e2")),u=r(a("NToG")),c=r(a("eef+")),d=n(a("mXGw")),f=r(a("W0B4")),p=r(a("lQoP")),m=r(a("w6wp")),h=r(a("I9R/")),g=r(a("8zKa")),_=r(a("LAaD")),v=r(a("8wdY")),y=r(a("ma35")),S=r(a("8Jek"));a("289O");var E="phone_number",I="email_address",T="agent_photo",C="contact_button",b=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e)))._onPhoneNumberClick=a._trackEnhancedAttributionRift.bind((0,l.default)(a),E,{listing_id:a.props.listingId}),a._onEmailLinkClick=a._trackEnhancedAttributionRift.bind((0,l.default)(a),I,{listing_id:a.props.listingId}),a._onAgentPhotoLinkClick=a._trackEnhancedAttributionRift.bind((0,l.default)(a),T,{listing_id:a.props.listingId}),a._onContactButtonClick=function(){a._trackEnhancedAttributionRift(C,{listing_id:a.props.listingId}),a.props.showAAQDialogCallback()},a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{agentInfo:f.default.shape({agentName:f.default.string,isRedfinAgent:f.default.bool,isPartnerAgent:f.default.bool,isExternalAgent:f.default.bool,agentUrl:f.default.string,agentPhotoUrl:f.default.string}),agentPhoneNumber:f.default.shape({phoneNumber:f.default.string}),agentEmailAddress:f.default.string,brokerName:f.default.string,listingId:f.default.number.isRequired,isOpendoor:f.default.bool,showAAQDialogCallback:f.default.func,hideBorder:f.default.bool}}},{key:"defaultProps",get:function(){return{agentInfo:{},agentPhoneNumber:{},agentEmailAddress:"",brokerName:"",listingId:null}}}]),(0,u.default)(t,[{key:"_renderAgentContactSection",value:function(){return this.props.isOpendoor?d.default.createElement("div",{className:"agent-contact-section"},d.default.createElement(y.default,{className:"button tertiary",title:"Contact Agent",onClick:this._onContactButtonClick},"Contact Agent")):d.default.createElement("div",{className:"agent-contact-section"},this._renderAgentPhone(),this._renderAgentEmailAddress())}},{key:"_renderAgentPhone",value:function(){return this.props.agentPhoneNumber&&this.props.agentPhoneNumber.phoneNumber?d.default.createElement("div",{className:"agent-phone-number","data-rf-test-id":"agent-info-item-phone"},d.default.createElement(m.default,{className:"fill-link size-small"}),d.default.createElement("a",{href:"tel:"+this.props.agentPhoneNumber.phoneNumber,onClick:this._onPhoneNumberClick},this.props.agentPhoneNumber.phoneNumber)):null}},{key:"_renderAgentEmailAddress",value:function(){return this.props.agentEmailAddress?d.default.createElement("div",{className:"agent-email-address"},d.default.createElement(h.default,{className:"fill-link size-small"}),d.default.createElement("a",{href:"mailto:"+this.props.agentEmailAddress,onClick:this._onEmailLinkClick},this.props.agentEmailAddress)):null}},{key:"_renderAgentPhoto",value:function(){return this.props.agentInfo&&this.props.agentInfo.agentPhotoUrl?d.default.createElement("a",{href:this.props.agentInfo.agentUrl,onClick:this._onAgentPhotoLinkClick},d.default.createElement("img",{src:this.props.agentInfo.agentPhotoUrl,className:"agent-photo"})):d.default.createElement("div",{className:"placeholder-photo"},d.default.createElement("a",{href:this.props.agentInfo.agentUrl,onClick:this._onAgentPhotoLinkClick},d.default.createElement(g.default,null)))}},{key:"_renderAgentNameSection",value:function(){var e=d.default.createElement("span",{className:"agent-label"}," | Listing Agent");return d.default.createElement("div",null,d.default.createElement("div",{className:"agent-section-text"},d.default.createElement("div",{className:"agent-name"},d.default.createElement("span",{className:"font-weight-bold"},this.props.agentInfo.agentName),this.props.agentInfo.agentName&&e),d.default.createElement("div",{className:"brokerage"},this.props.brokerName)))}},{key:"render",value:function(){var e=this.props.agentInfo.agentName,t=this._getAgentFirstname(e),a=t?" Ask "+t:"",n=this.props.isOpendoor?"opendoor":this.props.agentInfo.isExternalAgent?"external":this.props.agentInfo.isPartnerAgent?"partner":null,r=(0,S.default)("ComingSoonRightRailAttribution",{hideBorder:this.props.hideBorder});return d.default.createElement(_.default,{section:"right_rail_agent_attribution",target:null,eventDetails:{listing_id:this.props.listingId,listing_agent_type:n}},d.default.createElement("div",{className:r},d.default.createElement("h3",{className:"sectionTitle font-weight-roman font-size-medium"},"Questions?",a),d.default.createElement("div",{className:"enhanced-agent-info"},this._renderAgentPhoto(),this._renderAgentNameSection(),this._renderAgentContactSection())))}},{key:"_getAgentFirstname",value:function(e){if(!e)return"";var t=e.replace(/ .*/,"");return-1!==["the","mr","mrs"," "].indexOf(t.toLowerCase())?"":v.default.capitalizeFirst(t.toLowerCase())}},{key:"_trackEnhancedAttributionRift",value:function(e,t){p.default.trackClick("right_rail_agent_attribution",e,t)}}]),t}(d.Component);t.default=b,e.exports=t.default},e3Al:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.BannerDefaultProps=t.BannerPropTypes=void 0;var r=n(a("W0B4")),i={className:r.default.string,copy:r.default.string.isRequired,ctaText:r.default.string,ctaTextUrl:r.default.string,dismissible:r.default.bool,dismissalPostUrl:r.default.string,imgSrcUrl:r.default.string,imgAltText:r.default.string,riftSection:r.default.string,riftDetails:r.default.object,riftParams:r.default.object,onHideCallbacks:r.default.arrayOf(r.default.func),backgroundColor:r.default.oneOf(["white","gray"]),header:r.default.string,hidden:r.default.bool,animateIn:r.default.bool,ctaType:r.default.oneOf(["primary","tertiary-alt"]),height:r.default.oneOf(["short","tall"]).isRequired};t.BannerPropTypes=i;t.BannerDefaultProps={className:"",riftDetails:{},riftParams:{},onHideCallbacks:[],backgroundColor:"white",header:"",hidden:!1,animateIn:!1,ctaType:"tertiary-alt"}},e9eQ:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.requestFocusOnRef=t.isAABrokerageOnboardingExperimentEligible=t.isLeadAgentBrokerageOnboardingEligible=t.inBinThreeDaysExperimentVariant=t.isBinThreeDaysExperimentEligible=t.getStatsDTagForContactInfo=t.inContactInfoExperimentVariant=t.isContactInfoExperimentEligible=t.redirectToRedfinTourCheckout=t.scrollHeaderIntoView=t.getDummySelectedDay=t.getDummyDays=t.findClosestAvailableTime=t.findFirstAvailDay=t.binDataForTourDay=t.findSelectedTimeOnDay=t.findSelectedDay=t.calculateTourTimePrefs=t.allFieldsHaveValidInput=t.isWeekend=t.hasDummyTimes=t.hasBinTimes=t.checkIfDummy=t.checkIfAvailable=t.checkIfBin=t.isOnMediumOrSmallScreen=t.isOnSmallScreen=t.scrollFirstErrorIntoView=t.historyReplaceState=t.historyPushState=t.getDateTimeStringShortForTime=t.getDateTimeStringForTime=t.getTimeStringForTime=t.getDateStringForTime=t.titleCase=t.TOTAL_DAYS=t.DAYS_TO_FETCH_INITIALLY=t.DEFAULT_DUMMY_TIME_SLOTS=t.getScreenWidth=void 0;var r=n(a("q8Y+")),i=n(a("As4l")),o=n(a("ZjZ4")),s=n(a("Dfzq")),l=n(a("ixHX")),u=n(a("T5cu")),c=n(a("lcmt")),d=n(a("luvc")),f=a("wIt4"),p=n(a("94Bj")),m=n(a("/+pK")),h=a("bqcM");n(a("LDFp")).default.ensure(a("5hF+"),a("1r7M"),a("NTGK"),a("iZOs"));t.getScreenWidth=function(){return"undefined"!=typeof document&&document&&document.documentElement.clientWidth||"undefined"!=typeof window&&window&&window.innerWidth||0};t.DEFAULT_DUMMY_TIME_SLOTS=25;t.DAYS_TO_FETCH_INITIALLY=3;t.TOTAL_DAYS=14;var g={};["about","after","an","around","as","at","before","between","but","by","during","for","from","given","in","including","into","near","next","of","on","off","out","over","past","since","through","to","until","within","without","nor","or","yet","a","an","the"].concat(["a","an","the"]).concat(["and","but","for","nor","or","yet"]).forEach(function(e){return g[e]=!0});t.titleCase=function(e){return(e||"").split(" ").filter(function(e){return""!==e}).reduce(function(e,t,a){return e+(0!==a?" ":"")+(0!==a&&g[t.toLowerCase()]?t[0].toLowerCase():t[0].toUpperCase())+t.substring(1,t.length).toLowerCase()},"")};var _=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=a?"ddd, ":"dddd, ",o=n?"MMM ":"MMMM ",s=r?", YYYY":"";return c.default.format(e,t,i+o+" D"+s)};t.getDateStringForTime=_;var v=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return c.default.format(e,t,"h:mm"+(a?" a":""))};t.getTimeStringForTime=v;t.getDateTimeStringForTime=function(e,t){return _(e,t)+" at "+v(e,t)};t.getDateTimeStringShortForTime=function(e,t){return c.default.format(e,t,"ddd, MMM D")+" at "+v(e,t)};t.historyPushState=function(e,t){"undefined"!=typeof history&&history.pushState(e,"",t)};t.historyReplaceState=function(e,t){"undefined"!=typeof history&&history.replaceState(e,"",t)};t.scrollFirstErrorIntoView=function(){y()&&setTimeout(function(){if("undefined"!=typeof document&&document){var e=document.getElementsByClassName("field error")[0],t=document.getElementsByClassName("Notice error")[0];e&&e.scrollIntoView?e.scrollIntoView():t&&t.scrollIntoView&&t.scrollIntoView()}},10)};var y=(0,u.default)(function(){return(0,d.default)("screen-size")<d.default.screenSizes.MEDIUM});t.isOnSmallScreen=y;var S=(0,u.default)(function(){return(0,d.default)("screen-size")<d.default.screenSizes.LARGE});t.isOnMediumOrSmallScreen=S;var E=function(e){return e.availabilityType===g_tourTimeAvailabilityType.BOOK_IT_NOW};t.checkIfBin=E;t.checkIfAvailable=function(e){return e.availabilityType!==g_tourTimeAvailabilityType.UNAVAILABLE};var I=function(e){return e.isDummy};t.checkIfDummy=I;t.hasBinTimes=function(e){return(0,l.default)(e,E)>=0};t.hasDummyTimes=function(e){return(0,l.default)(e,I)>=0};t.isWeekend=function(e){return 0===e.getDay()||6===e.getDay()};t.allFieldsHaveValidInput=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.keys(e).every(function(a){var n=t[a].rules;return!n||n.every(function(t){return t.test(e[a].value||"").valid})})};t.calculateTourTimePrefs=function(e,t){return{startTime:e,endTime:e+6e4*t}};t.findSelectedDay=function(e,t){return(0,s.default)(e,function(e){return Number(e.date)===Number(t)})};t.findSelectedTimeOnDay=function(e,t){if(!e||!e.times)return null;var a=(0,s.default)(e.times,function(e){return Number(e.date)===Number(t)});return a&&(a.binData=T(e),a.time=a.date),a};var T=function(e){return e?{bookItNowAgentId:e.binAgent,priorityTypeId:e.binPriorityType,batchName:e.binBatchName,batchNumber:e.binBatchNum,tourDurationInMins:e.binTourDuration,unavailableCartItemIds:e.binUnavailableCartItemIds}:null};t.binDataForTourDay=T;t.findFirstAvailDay=function(e){return(0,s.default)(e,function(e){return e.availabilityType!==g_tourTimeAvailabilityType.UNAVAILABLE})};t.findClosestAvailableTime=function(e,t,a){var n=e.filter(function(e){return new Date(e.date).getDate()===new Date(t).getDate()});0!==n.length&&n[0].availabilityType!==g_tourTimeAvailabilityType.UNAVAILABLE||(n=e);var r,s,l,u=(0,o.default)(n.map(function(e){return e.times.filter(a).map(function(t){return{time:t,day:e}})})),c=(0,i.default)(u,function(e){return Math.abs(t-e.time.date)})[0];return c?(s=(r=c).time,l=r.day,{time:{time:s.date,availabilityType:s.availabilityType,selected:!1,binData:{bookItNowAgentId:s.binAgent,priorityTypeId:s.binPriorityType,batchName:s.binBatchName,batchNumber:s.binBatchNum,tourDurationInMins:s.binTourDuration,unavailableCartItemIds:s.binUnavailableCartItemIds}},day:l}):{}};t.getDummyDays=function(e,t,a){return(0,r.default)(t).map(function(t){var n=new Date(e);return n.setDate(n.getDate()+t),{date:n.valueOf(),availabilityType:g_tourTimeAvailabilityType.BOOK_IT_NOW,times:C(n,a)}})};function C(e,t){return(0,r.default)(t).map(function(t){return{date:e.valueOf()+t,isDummy:!0}})}t.getDummySelectedDay=function(e,t){return{date:e,availabilityType:g_tourTimeAvailabilityType.BOOK_IT_NOW,times:C(e,t)}};t.scrollHeaderIntoView=function(){var e="undefined"!=typeof document&&document.getElementById("header");e&&e.scrollIntoView&&e.scrollIntoView()};t.redirectToRedfinTourCheckout=function(e,t,a,n){var r="/stingray/do/tourlist/v2/add?listing_ids="+t+"&shouldSoftAssignAgent=false&returnCartItemId=true",i=e||g_inquirySource.LDP_DATEPICKER_TOUR_CHECKOUT_PAGE;(0,f.getEndpoint)(r).then(function(e){var t=(0,f.doObjectGraph)()(e);if(!t)throw new Error("An error occured: no cart item data was returned");var r,o=t.addedCartItemId;r=o?(0,h.getWebServerUrl)()+"/myredfin/tours/checkout?cartItemIds="+o+"&date="+a+"&inquirySource="+i+"&hideExistingTours=true":(0,h.getWebServerUrl)()+n,setTimeout(function(){window.top.location=r},100)}).catch(function(e){console.error(e)})};var b=function(e){return m.default.get(g_dbBackedConfigKeys.TOUR_CHECKOUT_CONTACT_INFO_OPTIMIZATION_EXPERIMENT_MARKETS).indexOf(e)>-1&&p.default.isOn(p.default.feature.TOUR_CHECKOUT_CONTACT_INFO_PERF_OPTIMIZATION)};t.isContactInfoExperimentEligible=b;t.inContactInfoExperimentVariant=function(e){return b(e)&&"Variant"===p.default.getVariant(p.default.feature.TOUR_CHECKOUT_CONTACT_INFO_PERF_OPTIMIZATION)};t.getStatsDTagForContactInfo=function(e){return b(e)?"contactinfo_variant":"contactinfo_control"};var A=function(){return p.default.isOn(p.default.feature.BIN_THREE_DAYS)};t.isBinThreeDaysExperimentEligible=A;t.inBinThreeDaysExperimentVariant=function(){return A()&&"BinThreeDays"===p.default.getVariant(p.default.feature.BIN_THREE_DAYS)};t.isLeadAgentBrokerageOnboardingEligible=function(e,t,a){return(!a||!a.customerAgentsAndStatuses||!a.customerAgentsAndStatuses.buysideAgent&&!a.customerAgentsAndStatuses.sellsideAgent)&&!(!e||!e.bookItNowAgentId)&&g_agentJob.idToObj[e.bookItNowAgentId.get("job")].isAgentish&&t};t.isAABrokerageOnboardingExperimentEligible=function(e,t,a){return(!a||!a.customerAgentsAndStatuses||!a.customerAgentsAndStatuses.buysideAgent&&!a.customerAgentsAndStatuses.sellsideAgent)&&p.default.isOn(p.default.feature.TOUR_CHECKOUT_BROKERAGE_ONBOARDING_AA)&&t&&e&&(!e.bookItNowAgentId||e.bookItNowAgentId&&e.bookItNowAgentId.get("job")===g_agentJob.ASSOCIATE_AGENT)};t.requestFocusOnRef=function(e){e&&e.current&&e.current.focus({preventScroll:!0})}},eBh7:function(e,t,a){},eTvO:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.modalShouldShow=t.modalCouldShow=t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("eef+")),c=n(a("OvAC")),d=n(a("LDFp")),f=n(a("YAhj")),p=n(a("72T9")),m=n(a("luvc")),h=n(a("Bzim")),g=n(a("Nm66")),_=n(a("7SUW")),v=(n(a("W0B4")),n(a("1RMg"))),y=a("SH7f"),S=n(a("4ppV")),E=n(a("ma35")),I=n(a("/yzG")),T=n(a("A2ec"));d.default.ensure(a("kzow")),a("PrQJ");var C=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,l.default)(a),"state",{showDialog:!1}),(0,c.default)((0,l.default)(a),"_renderDialogContents",function(){return"BULLETS"===a.props.variant?f.default.createElement(N,null):f.default.createElement(k,null)}),(0,c.default)((0,l.default)(a),"_closeDialog",function(){a.setState({showDialog:!1})}),(0,c.default)((0,l.default)(a),"_filterViews",function(e){return e>Date.now()-15552e6}),(0,c.default)((0,l.default)(a),"_manageLocalStorageViews",function(){var e=JSON.parse(localStorage.getItem("RF_PDP_VIEWS"))||{},t=e[a.props.propertyId]||[],n=!1;if(t.length<1)n=!0;else{var r=t[t.length-1];Date.now()-r>72e5&&(n=!0)}n&&t.push(Date.now()),t=t.filter(a._filterViews),e[a.props.propertyId]=t,localStorage.setItem("RF_PDP_VIEWS",JSON.stringify(e)),a.setState({viewCount:t.length})}),(0,c.default)((0,l.default)(a),"_onNoButtonClick",function(){a._closeDialog(),T.default.trackClick(T.default.clicks.HOME_REPORT_SUBSCRIBE_DIALOG_NOPE,{trackGA:!0,current_property:a.props.propertyId})}),(0,c.default)((0,l.default)(a),"_onCloseButtonClick",function(){a._closeDialog(),T.default.trackClick(T.default.clicks.HOME_REPORT_SUBSCRIBE_DIALOG_CLOSE,{trackGA:!0,current_property:a.props.propertyId})}),(0,c.default)((0,l.default)(a),"_onClickHandlerForHomeSubscription",function(){a._closeDialog(),T.default.trackClick(T.default.clicks.HOME_REPORT_SUBSCRIBE_DIALOG,{trackGA:!0,current_property:a.props.propertyId})}),a}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){var e=v.default.isOn(v.default.feature.WEB_SDP_PDP_LANDING_DIALOG);this.setState({couldShow:A({disabledByBouncer:!e,modalShownCookie:(0,p.default)("RF_CLAIM_MODAL_SHOWN"),claimCount:this.props.claimCount,hasLocalStorage:(0,m.default)("localstorage"),isActivish:this.props.isActivish,soldDate:this.props.addressSectionInfo&&this.props.addressSectionInfo.soldDate})}),e&&(0,y.isBrowser)()&&(0,m.default)("localstorage")&&this._manageLocalStorageViews()}},{key:"componentDidMount",value:function(){if(v.default.isOn(v.default.feature.WEB_SDP_PDP_LANDING_DIALOG)&&(0,y.isBrowser)()&&this.state.couldShow&&b({viewCount:this.state.viewCount,showAfterViewCount:this.props.showAfterViewCount})){(0,_.default)().initialize({experimentId:v.default.feature.WEB_SDP_PDP_LANDING_DIALOG,gaExperimentId:"Ra-FYGW-Qt--itLsGpezzw"}),this.setState({shouldShow:!0});setTimeout(function(){"CONTROL"!==this.props.variant&&(this.setState({showDialog:!0}),T.default.trackImpression(T.default.impressions.HOME_REPORT_SUBSCRIBE_DIALOG,{trackGA:!0,current_property:this.props.propertyId})),(0,p.default)("RF_CLAIM_MODAL_SHOWN",!0,{expires:180,path:"/"})}.bind(this),4e3)}}},{key:"render",value:function(){if(!(0,y.isBrowser)())return null;if(!v.default.isOn(v.default.feature.WEB_SDP_PDP_LANDING_DIALOG))return null;if("CONTROL"===this.props.variant)return null;if(this.state.couldShow){var e=this.props.listingId?23:24;return f.default.createElement("div",{"data-rf-test-id":"HomeownerClaimModal"},this.state.showDialog&&this.state.shouldShow&&f.default.createElement(S.default,{title:"Is This Your Home?",className:"HomeownerClaimModal",closeOnBackgroundClick:!0,close:this._onCloseButtonClick},this._renderDialogContents(),f.default.createElement("div",{className:"actionButtons"},f.default.createElement(I.default,{subscribeButtonType:"primary",isClaimedHome:this.props.isClaimedHome,showIcon:!1,overrideToFullWidth:!0,onClick:this._onClickHandlerForHomeSubscription,navigateOnClick:!0,source:e,suppressPostJoinSections:!0,registrationReason:g_registrationReason.CLAIM_HOME_BUTTON}),f.default.createElement(E.default,{type:"text",className:"v3 cancelButton",onClick:this._onNoButtonClick},"No, Thanks"))))}return null}}]),t}(f.default.Component);(0,c.default)(C,"displayName","HomeownerClaimModal"),(0,c.default)(C,"defaultProps",{showAfterViewCount:2}),C.propTypes={};var b=function(e){return e.viewCount>=e.showAfterViewCount};t.modalShouldShow=b;var A=function(e){if(e.disabledByBouncer)return!1;var t=e.soldDate+12096e5>Date.now();return!e.isActivish&&!t&&(!e.modalShownCookie&&(!!e.hasLocalStorage&&!(e.claimCount>0)))};t.modalCouldShow=A;var k=function(){return f.default.createElement("div",{className:"promoText variant-graphic"},f.default.createElement("div",{className:"iconLockup"},f.default.createElement(h.default,null),f.default.createElement("p",null,"+5% Last Month")),f.default.createElement("p",null,"Track your homes value and see nearby home sales in a monthly report."))},N=function(){return f.default.createElement("div",{className:"promoText variant-bullets"},f.default.createElement("p",null,f.default.createElement(g.default,null),"Track your homes value"),f.default.createElement("p",null,f.default.createElement(g.default,null),"Get nearby home sales"),f.default.createElement("p",null,f.default.createElement(g.default,null),"See a monthly home report"))},O=C;t.default=O},ei5F:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("gki9")),i=a("TlVh"),o=n(a("9aza")),s=n(a("kjcz")),l=(0,i.createStoreFactory)({init:function(e){this.setState({formName:this.formName,selectedStarNum:null,mouseOverStarNum:null,additionalFeedback:"",showDialog:!0,submitEnabled:!0,agentData:e.agentData,showNewFiveStarSurvey:!1});var t=this._getReasons(e);this.setState({reasons:t}),this.agentRemarksTemplateElementId=e.agentRemarksTemplateElementId,this.npsTemplateElementId=e.npsTemplateElementId,this.reasonsTemplateElementId=e.reasonsTemplateElementId,this.listenTo(o.default.clickStar,this.onClickStar),this.listenTo(o.default.mouseOver,this.onMouseOver),this.listenTo(o.default.clickReason,this.onClickReason),this.listenTo(o.default.additionalFeedbackTextChange,this.onAdditionalFeedbackTextChange),this.listenTo(o.default.submit,this.onSubmit),this.listenTo(s.default.submitComplete,this.onSubmitComplete),this.listenTo(s.default.hideDialog,this.onHideDialog)},_getReasons:function(e){var t,a;return e.showNewFiveStarSurvey?(a=function(e){return"Didn't like homes"!==e},t={"Agent fit":"Agent wasn't a good fit","Not on time":"Agent was late or unprofessional","Lack of knowledge":"Agent didn't know the neighborhood"}):(a=function(){return!0},t={}),e.reasons.filter(a).map(function(e){return{name:e,label:t[e]||e,selected:!1}})},onClickStar:function(e){this.setState({selectedStarNum:e}),this._resetReasons()},_resetReasons:function(){var e=this.state.reasons.map(function(e){return(0,r.default)({},e,{selected:!1})});this.setState({reasons:e})},onMouseOver:function(e){this.setState({mouseOverStarNum:e})},onClickReason:function(e){var t=this.state.reasons;t[e].selected=!t[e].selected,this.setState({reasons:t})},onAdditionalFeedbackTextChange:function(e){this.setState({additionalFeedback:e})},onSubmit:function(){this.setState({submitEnabled:!1,showDialog:!1});var e=this._getSubmitData();s.default.submitSurvey(e)},onHideDialog:function(){this.setState({showDialog:!1})},onSubmitComplete:function(){this.setState({submitEnabled:!0})},_getSubmitData:function(){var e=[];this.state.reasons.forEach(function(t){t.selected&&e.push(t.name)});var t=[];return t.push({surveyTemplateElementId:this.npsTemplateElementId,value:JSON.stringify(2*this.state.selectedStarNum)}),t.push({surveyTemplateElementId:this.reasonsTemplateElementId,value:JSON.stringify(e)}),t.push({surveyTemplateElementId:this.agentRemarksTemplateElementId,value:JSON.stringify(this.state.additionalFeedback)}),JSON.stringify(t)}});t.default=l,e.exports=t.default},eivs:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("NToG")),s=n(a("K4DB")),l=n(a("+IV6")),u=n(a("eef+")),c=n(a("mXGw")),d=n(a("xARA")),f=n(a("hTyW")),p=n(a("kn5v")),m=n(a("WqYn")),h=n(a("8Jek")),g=a("huYw"),_=a("bKKb"),v=n(a("D0QW")),y=n(a("W0B4")),S=n(a("nTNT")),E=a("G4xM");a("bFQ/");var I=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.isActivish=this._isActivish(this.props.searchStatus)}},{key:"_getRiftImpressionParams",value:function(e){var t="unavailable",a=e.avmInfo;return a&&(a.predictedValue?t=a.displayLevel===g_displayLevel.AGENT_ACCESSIBLE?"hidden":"public":a.isHidden&&(t="hidden")),{status:e.status?e.status.displayValue:null,redfin_estimate:t,is_favorite:e.isFavorite,is_xout:e.isXout,data_source:e.riftDataSource,is_rebny:211===e.dataSourceId}}},{key:"componentWillReceiveProps",value:function(e){e.personalizationInfoReceived&&v.default.trackImpression(v.default.impressions.ADDRESS_BANNER,this._getRiftImpressionParams(e),d.default.findDOMNode(this))}},{key:"componentDidMount",value:function(){(this.props.experimentStore&&this.props.experimentStore.offMarketDPExperimentInfo||{}).shouldShowClaimButtonInAddressBanner&&v.default.trackImpression(v.default.impressions.HOME_REPORT_SUBSCRIBE)}},{key:"render",value:function(){var e=this.props.avmInfo;(0,_.calculateAvmDisplayType)({redfinEstimateInfo:e})!==g.AvmDisplayType.AVM&&(e=null),e&&this.props.showAvmInHeader||(e=null);var t=(0,h.default)({ab:!0,desktop:this.props.deviceConfig===g_deviceConfiguration.DESKTOP}),a=this.props.experimentStore&&this.props.experimentStore.offMarketDPExperimentInfo||{},n=this.props.redfinNowHomeMomentInfoStore&&this.props.redfinNowHomeMomentInfoStore.shouldShowMoment,i=!!a.shouldShowClaimButtonInAddressBanner&&!n;return c.default.createElement("div",{className:t,"data-rf-test-id":"abp-root"},c.default.createElement(f.default,{hasAgc:this.props.hasAgc,hasOpen:this.props.hasOpen,hotnessInfo:this.props.hotnessInfo,isRedfin:this.props.isRedfin,isFavorite:this.props.isFavorite,isXout:this.props.isXout,searchStatus:this.props.searchStatus,listingType:this.props.listingType,propertyType:this.props.propertyType}),c.default.createElement(p.default,(0,r.default)({},this.props,{avmInfo:e,isActivish:this.isActivish})),c.default.createElement(m.default,(0,r.default)({},this.props,{isActivish:this.isActivish})),i&&c.default.createElement(S.default,{subscribeButtonType:this.props.hasClaim?"tertiary-alt":"primary",isClaimedHome:this.props.hasClaim,showCaption:!this.props.hasClaim,registrationReason:g_registrationReason.CLAIM_HOME,source:this._avmClaimSource(),fullWidthButton:!0,onClick:this._onAvmButtonClick,navigateOnClick:!0,suppressPostJoinSections:!0}))}},{key:"_isActivish",value:function(e){return e&&g_searchStatuses.idToObj[e]&&g_searchStatus.idToObj[e].isActivish}},{key:"_avmClaimSource",value:function(){var e=(0,E.getConfigValueForKey)(E.DP_GLOBAL_CONFIG_KEYS.pageType);return e===g_detailsPageType.OFF_MARKET?g_claimHomeSource.WEB_OFF_MARKET_SUBSCRIBE_BUTTON:e===g_detailsPageType.RECENTLY_SOLD?g_claimHomeSource.WEB_RECENTLY_SOLD_SUBSCRIBE_BUTTON:g_claimHomeSource.UNKNOWN}},{key:"_onAvmButtonClick",value:function(){this.props.hasClaim&&this.props.hasEpostcardSubscription?v.default.trackClick(v.default.clicks.HOME_REPORT_DASHBOARD_BUTTON):v.default.trackClick(v.default.clicks.HOME_REPORT_SUBSCRIBE_BUTTON)}}],[{key:"displayName",value:function(){return"AddressBanner"}},{key:"propTypes",get:function(){return{dataSourceId:y.default.number,tourHomeMomentInfoStore:y.default.object,contactBoxData:y.default.object,experimentStore:y.default.object,avmInfo:y.default.object,isFavorite:y.default.bool,isXout:y.default.bool,status:y.default.object,riftDataSource:y.default.string,deviceConfig:y.default.number,marketId:y.default.number,showAvmInHeader:y.default.bool,redfinNowHomeMomentInfoStore:y.default.object}}}]),t}(c.default.Component);t.default=I,e.exports=t.default},ezUj:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("W0B4")),d=a("mXGw"),f=n(a("i3Ii")),p=n(a("Tkev")),m=n(a("M6YI")),h=n(a("bSdT"));a("grLy");var g={title_text_line_1:"Sell your home for more,",title_text_line_2:"pay only 1% commission",cta_text:"Learn More",cta_link:"/why-sell",continue_to_mobile_site_text:"Continue to mobile site"},_=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).riftTracker=new h.default("sdp_pdp_interstitial",e.riftParams),a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{hidden:c.default.bool,promo_image:c.default.string.isRequired,title_text_line_1:c.default.string,title_text_line_2:c.default.string,cta_text:c.default.string.isRequired,cta_link:c.default.string.isRequired,continue_to_mobile_site_text:c.default.string,riftParams:c.default.object}}},{key:"defaultProps",get:function(){return g}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){m.default.setLdpViews(0),m.default.hideForTimePeriod(3),this.riftTracker.trackImpression()}},{key:"render",value:function(){var e={backgroundImage:"url(".concat(g_imageServerUrl,"/").concat(this.props.promo_image,")")},t=React.createElement("div",{className:"merchPromoSection"},React.createElement("div",{className:"merchImage",style:e}));return React.createElement(p.default,(0,r.default)({className:"merchInterstitial",topImageSection:t,positiveClickHandler:this.onCtaClick.bind(this),negativeClickHandler:this.continueInBrowser.bind(this)},this.props))}},{key:"onCtaClick",value:function(){this.props.cta_link&&(this.riftTracker.trackClick("cta_button"),window.location.href=this.props.cta_link)}},{key:"continueInBrowser",value:function(){this.riftTracker.trackClick("close_button"),f.default.continueInBrowser()}}]),t}(d.Component);t.default=_,e.exports=t.default},fCB2:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("K4DB")),s=r(a("+IV6")),l=r(a("T1e2")),u=r(a("NToG")),c=r(a("eef+")),d=n(a("mXGw")),f=r(a("xARA")),p=r(a("W0B4")),m=r(a("luvc")),h=a("gZHp"),g=r(a("+f8N")),_=r(a("lQoP")),v=r(a("EFMV")),y=a("DyRb"),S=r(a("x6JC")),E=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={riftOnDisplayNodes:[]},a.handleClick=a.handleClick.bind((0,l.default)(a)),a.trackRiftEventFromNode=a.trackRiftEventFromNode.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,[{key:"getDefaultProps",value:function(){return{classes:[],text:"",openLinksInNewTab:!1,lazy:!0}}}],[{key:"displayName",get:function(){return"ContactBoxHTML"}},{key:"propTypes",get:function(){return{classes:p.default.arrayOf(p.default.string),text:p.default.string,openLinksInNewTab:p.default.bool,agent:p.default.object,isDisplayed:p.default.bool,sideBarStore:p.default.object,riftParams:p.default.object,lazy:p.default.bool}}}]),(0,u.default)(t,[{key:"componentDidMount",value:function(){for(var e=f.default.findDOMNode(this),t=e.querySelectorAll("a, .rift-display"),a=0;a<t.length;a++)t[a].addEventListener("click",this.handleClick);var n=e.querySelectorAll(".rift-display");this.state.riftOnDisplayNodes=Array.prototype.slice.call(n),[{defParams:window.g_defnshort_sale,selector:".ssDefnNode",alignment:"left"},{defParams:window.g_defntenancy_in_common,selector:".ticDefnNode",alignment:"center"}].forEach(function(t){if(t.defParams)for(var a=e.querySelectorAll(t.selector),n=0;n<a.length;n++){var r={term:t.defParams.term,definition:t.defParams.brief,definitionLink:t.defParams.link,alignment:t.alignment,position:"below"};f.default.render(d.default.createElement(DefinitionFlyout,r,a[n].innerHTML),a[n])}}.bind(this));for(var r=e.querySelectorAll(".askAgentAQuestionLink"),i=0;i<r.length;i++){var o=r[i].href;(0,m.default)("mobile-enabled")?o+="&serviceType="+g_customerActions.AGENT_REQUEST_MOBILE_WEB:o+="&serviceType="+g_customerActions.AGENT_REQUEST,r[i].setAttribute("href",o)}}},{key:"trackRiftEventFromNode",value:function(e,t){var a={};a[_.default.ACTION]=t,a[_.default.SECTION]=e.getAttribute("data-rift-section"),a[_.default.TARGET]=e.getAttribute("data-rift-target");var n=e.getAttribute("data-rift-keys"),r=e.getAttribute("data-rift-vals");if(n&&r){var i=n.split(" "),o=r.split(" ");i.length===o.length?i.forEach(function(e,t){var n=o[t];"true"===n?n=!0:"false"===n&&(n=!1),a[i[t]]=n}):a.custParams="invalid"}if("start_an_offer"===(a=(0,h.assign)((0,h.assign)({},this.props.riftParams),a))[_.default.TARGET]&&a[_.default.ACTION]===_.default.actions.CLICK){var s=S.default.getRiftParams(this.props.sideBarStore);a=(0,v.default)(a,{$merge:s})}if("start_an_offer"===a[_.default.TARGET]&&a[_.default.ACTION]===_.default.actions.CLICK){var l=this.props.sideBarStore.noCBExperimentParams||{};a=(0,v.default)(a,{$merge:l})}if("phone_number"===a[_.default.TARGET]&&a[_.default.ACTION]===_.default.actions.CLICK){var u=this.props.sideBarStore.noCBExperimentParams||{};a=(0,v.default)(a,{$merge:u})}a[_.default.ACTION]===_.default.actions.CLICK?(0,y.trackClick)(a[_.default.SECTION],a[_.default.TARGET],a,this.props):_.default.trackEvent(a)}},{key:"handleClick",value:function(e){e.preventDefault();var t=e.currentTarget;"click"===t.getAttribute("data-rift-action")&&this.trackRiftEventFromNode(t,_.default.actions.CLICK),"agent_phone"===t.getAttribute("data-rift-target")&&this.props.gaLabel&&this.props.gaLabel.includes("Direct")&&_.default.track(_.default.actions.CLICK,"conversion_event","phone_number_click",{trackGA:!0}),t.href&&((this.props.openLinksInNewTab||e.metaKey||e.crtlKey||1===e.button)&&t.href.substr&&"mailto"!==t.href.substr(0,6)?window.open(t.href):setTimeout(function(){window.top.location=t.href},10))}},{key:"render",value:function(){return this.props.lazy?d.default.createElement(g.default,{height:"100%",once:!0},d.default.createElement("div",{className:(0,y.getClassSet)({contactBoxHTML:!0},this.props),dangerouslySetInnerHTML:{__html:this.props.text}})):d.default.createElement("div",{className:(0,y.getClassSet)({contactBoxHTML:!0},this.props),dangerouslySetInnerHTML:{__html:this.props.text}})}}]),t}(d.Component);t.default=E,e.exports=t.default},fCIp:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("W0B4")),c=a("mXGw"),d=a("G4xM"),f=n(a("1AMb")),p=n(a("zQwK")),m=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){if((0,d.getConfigValueForKey)(d.DP_GLOBAL_CONFIG_KEYS.pageType)!==g_detailsPageType.RECENTLY_SOLD)return null;var e={title:"Recently Sold",message:this.props.recentlySoldMessage,className:"default"};return React.createElement(f.default,{name:"RecentlySoldBannerSection"},React.createElement("div",{className:"sectionContainer"},React.createElement(p.default,e)))}}],[{key:"propTypes",get:function(){return{recentlySoldMessage:u.default.string,soldDate:u.default.number}}}]),t}(c.Component);t.default=m,e.exports=t.default},fFtX:function(e,t,a){},fIVB:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("tTYd")),o=n(a("BQxr")),s=(0,r.default)(new o.default,{name:"PostTourCheckInRiftTracker",bouncerFlags:[i.default.id],trackAllEventsInGA:!1,impressions:{CHECK_IN_DIALOG:{section:"check_in_dialog",target:""}},clicks:{SUBMIT:{section:"check_in_dialog",target:"submit_button"},DISMISS:{section:"check_in_dialog",target:"dismiss_cross"},LEAVE_PAGE:{section:"check_in_dialog",target:"leave_this_page"}}});t.default=s,e.exports=t.default},fXZz:function(e,t,a){"use strict";var n=a("wNRX"),r=a("FDUn"),i=a("TlVh"),o=a("eoGF"),s=a("YPLX"),l=i.createStoreFactory({mixins:[r],listenables:s,init:function(e){this.formName+=e.formNameSuffix||"",this.setState({successfulSubmit:!1,requestInFlight:!1,locationData:e.locationData||{},formNameSuffix:e.formNameSuffix||""}),e.login&&(this.removeFields(["email"]),this.validateOn=r.validationTiming.NEVER)},onNewLocation:function(e){e&&e.outOfArea&&this.setState({locationData:e})},onSubmit:function(e){if(e){this.setState({requestInFlight:!0});var t={emailAddress:this.state.fields.email?this.state.fields.email.value:null,regionTableId:this.state.locationData.regionTableId,regionTypeId:this.state.locationData.regionTypeId,propertyId:this.state.locationData.propertyId};o.post("/stingray/do/general-inquiry-form/out-of-area",{data:t}).then(this.onVerifyComplete.bind(this),this.onSubmitError.bind(this))}},onVerifyComplete:function(e){e.resultCode===g_apiResultCode.NO_ERROR?(this.setState({successfulSubmit:!0,requestInFlight:!1,serverError:!1}),s.formSubmitSuccess()):this.onSubmitError()},onSubmitError:function(){this.setState({serverError:!0,requestInFlight:!1})},onCloseErrorDialog:function(){this.setState({serverError:!1})},formName:"GeneralInquiryOutOfAreaSubForm",fields:{email:{label:"Email",rules:[{test:n.rules.email()},{test:n.rules.required()}]}}});e.exports=l},ftTN:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("W0B4")),d=a("mXGw"),f=n(a("luvc")),p=n(a("da3O")),m=n(a("zCAw")),h=a("SH7f"),g=n(a("3+nr")),_=n(a("1AMb"));a("fFtX");var v=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,i.default)(this,(0,o.default)(t).call(this)))._onClickClose=e._onClickClose.bind((0,s.default)(e)),e._onClickGetOffer=e._onClickGetOffer.bind((0,s.default)(e)),e.state={viewCountPassed:!1,isUserOptedOut:!1},e}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{propertyId:c.default.number,businessMarketId:c.default.number,serviceRegionId:c.default.number,claimedHomePropertyId:c.default.number,claimedHomeServiceRegionId:c.default.number,claimedHomeBusinessMarketId:c.default.number,viewMinimum:c.default.number,featureOn:c.default.bool}}}]),(0,l.default)(t,[{key:"componentWillMount",value:function(){this._updateLocalStorageViews(),this._checkIfUserOptedOut()}},{key:"componentDidMount",value:function(){this.state.viewCountPassed&&this._trackEligibleImpressions(),this._isBannerVisible()&&this._trackBannerDisplayImpressions()}},{key:"render",value:function(){return this._isBannerVisible()?this._renderBanner():null}},{key:"_renderBanner",value:function(){return React.createElement(_.default,{name:"BannerSection RedfinNow"},React.createElement("div",{className:"redfinnow-banner"},React.createElement(p.default,{className:"fill-link"}),React.createElement("div",{className:"text-container"},React.createElement("div",{className:"message"},"Need to sell so you can buy your next home? "),React.createElement("span",{className:"get-offer-link",onClick:this._onClickGetOffer},"Get an Offer")),React.createElement("div",{className:"close-container",onClick:this._onClickClose},React.createElement(m.default,null))))}},{key:"_onClickClose",value:function(){this._updateLastOptOutTime(),this.setState({viewCountPassed:!1}),g.default.trackClick(g.default.clicks.CLOSE_CLICK,this._getPropertyRiftDetails())}},{key:"_onClickGetOffer",value:function(){window.open("/now?src=ldp"),g.default.trackClick(g.default.clicks.GET_OFFER_CLICK,this._getPropertyRiftDetails())}},{key:"_trackEligibleImpressions",value:function(){g.default.trackImpression(g.default.impressions.ELIGIBLE_BANNER_VIEW,this._getPropertyRiftDetails()),Boolean(this.props.claimedHomePropertyId)&&g.default.trackImpression(g.default.impressions.ELIGIBLE_CLAIMED_HOME_PURCHASABLE,this._getClaimedHomeRiftDetails())}},{key:"_trackBannerDisplayImpressions",value:function(){g.default.trackImpression(g.default.impressions.BANNER_VIEW,this._getPropertyRiftDetails()),Boolean(this.props.claimedHomePropertyId)&&g.default.trackImpression(g.default.impressions.CLAIMED_HOME_PURCHASABLE,this._getClaimedHomeRiftDetails())}},{key:"_getClaimedHomeRiftDetails",value:function(){return{property_id:this.props.claimedHomePropertyId,service_region_id:this.props.claimedHomeServiceRegionId,business_market_id:this.props.claimedHomeBusinessMarketId}}},{key:"_getPropertyRiftDetails",value:function(){return{property_id:this.props.propertyId,service_region_id:this.props.serviceRegionId,business_market_id:this.props.businessMarketId}}},{key:"_updateLocalStorageViews",value:function(){if(this._isLocalStorageAvailable()){var e=JSON.parse(localStorage.getItem("RF_LDP_VIEWS"))||{},t=e[this.props.propertyId]||[];t.push(Date.now()),t=t.filter(this._wasViewedInLastThreeMonths),e[this.props.propertyId]=t,localStorage.setItem("RF_LDP_VIEWS",JSON.stringify(e)),t.length>=this.props.viewMinimum?this.setState({viewCountPassed:!0}):this._checkViewsRequirementPassed(e)}}},{key:"_checkViewsRequirementPassed",value:function(e){for(var t in e)if(e[t].length>=this.props.viewMinimum)return void this.setState({viewCountPassed:!0})}},{key:"_wasViewedInLastThreeMonths",value:function(e){return e>Date.now()-7776e6}},{key:"_updateLastOptOutTime",value:function(){if(this._isLocalStorageAvailable()){var e=Date.now();localStorage.setItem("RF_NOW_BANNER_OPT_OUT",e)}}},{key:"_checkIfUserOptedOut",value:function(){if(this._isLocalStorageAvailable()){var e=localStorage.getItem("RF_NOW_BANNER_OPT_OUT");this.setState({isUserOptedOut:Boolean(e)})}}},{key:"_isLocalStorageAvailable",value:function(){return(0,h.isBrowser)()&&(0,f.default)("localstorage")}},{key:"_isBannerVisible",value:function(){return this.state.viewCountPassed&&this.props.featureOn&&!this.state.isUserOptedOut}}]),t}(d.Component);t.default=v,e.exports=t.default},"g8+3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={QUESTION_MARK:191,PERIOD:190,Q:81,F:70,X:88,P:80,MINUS:189,PLUS:187,ESCAPE:27,LEFT_ARROW:37,RIGHT_ARROW:39,ENTER:13},r={keyCodes:n,fullScreenComponents:{DESKTOP_MEDIA_BROWSER:{id:1,allowedKeys:[n.ESCAPE,n.LEFT_ARROW,n.RIGHT_ARROW,n.ENTER]},MINI_MAP:{id:3,allowedKeys:[n.ESCAPE,n.Q,n.PLUS,n.MINUS]}}};t.default=r,e.exports=t.default},g9ws:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.showBDXExperience?c.default.trackImpression(c.default.impressions.ASK_BDX_NAME_DIALOG):u.default.trackImpressionWithDefaults(u.default.impressions.AAQ_NAME_DIALOG,null,e.isOpendoor);return i.default.createElement("div",{className:"aaq-two-input-stage"},i.default.createElement("div",{className:"aaq-two-input-stage-title"},e.inlineHeader),i.default.createElement(o.default,{formName:e.formName,className:"aaq-two-input-stage-form"},i.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"text",autofocus:!0},e.fields.firstName,{onFocus:function(){return e.showBDXExperience?c.default.trackClick(c.default.clicks.ASK_BDX_FIRST_NAME_FIELD_CLICK):u.default.trackClickWithDefaults(u.default.clicks.AAQ_FIRST_NAME_FIELD_CLICK,null,e.isOpendoor)}})),i.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"text"},e.fields.lastName,{onFocus:function(){return e.showBDXExperience?c.default.trackClick(c.default.clicks.ASK_BDX_LAST_NAME_FIELD_CLICK):u.default.trackClickWithDefaults(u.default.clicks.AAQ_LAST_NAME_FIELD_CLICK,null,e.isOpendoor)}})),i.default.createElement(l.default,{className:"aaq-two-input-stage-button",type:"primary",formSubmit:!0,disabled:e.shouldDisableSubmit,onFocus:function(){return e.showBDXExperience?c.default.trackClick(c.default.clicks.ASK_BDX_NAME_DIALOG_NEXT_CLICK):u.default.trackClickWithDefaults(u.default.clicks.AAQ_NAME_DIALOG_NEXT_BUTTON_CLICK,null,e.isOpendoor)}},"Next")))};var r=n(a("8VmE")),i=n(a("mXGw")),o=n(a("t/kO")),s=n(a("Xecl")),l=n(a("ma35")),u=n(a("YqrK")),c=n(a("DT4l"));a("zKrU"),e.exports=t.default},gFdj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={isValidMerchWidget:function(e){return!!(e&&e.widgets&&e.widgets.length>0)}},e.exports=t.default},grLy:function(e,t,a){},gwIM:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(a("w451")),o=n(a("eeCi")),s=n(a("r6LF")),l=a("TlVh"),u=n(a("soXr")),c=n(a("5BUB")),d=n(a("adVl")),f=a("2eC9"),p=n(a("/Ayj")),m=n(a("WRAN")),h=(0,l.createStoreFactory)({mixins:[u.default,c.default],dataKeys:(r=new Set,r.add(f.DATA_KEY),r),formName:"Questionnaire",init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.submitOnSingleSelection,a=void 0!==t&&t;this.submitOnSingleSelection=a,this.listenTo(d.default.questionAnswered,this._onQuestionAnswered)},populate:function(e,t){switch(e){case f.DATA_KEY:return void this._onLoadQuestionnaireData(t);default:return}},_onLoadQuestionnaireData:function(e){if(e&&e.questionnaire){var t=(0,s.default)(e.answers,"questionId");this.setState({questionnaire:e.questionnaire,answers:t,currentQuestionIndex:-1,riftQuestionAnswer:""}),this._calculateCurrentQuestion()}},_onQuestionAnswered:function(){var e=this.state.currentQuestion,t=e.answeredOptions.map(function(e){return{id:e}});d.default.submitAnswer(this.state.questionnaire.id,{questionId:e.id,questionNamedId:e.namedId,answerOptions:t}),this._calculateCurrentQuestion()},_calculateCurrentQuestion:function(){var e=this.state.currentQuestionIndex+1,t=this.state.questionnaire.questions[e];t&&this.setState({currentQuestionIndex:e,currentQuestion:t}),this.setState({feedbackText:"",riftQuestionAnswer:""}),t||(d.default.questionnaireCompleted({questionsAndAnsweredOptions:this._getAllQuestionsAndAnsweredOptions()}),this.setState({showSaveButton:!1}))},_getAllQuestionsAndAnsweredOptions:function(){if(this.state.questionnaire&&this.state.questionnaire.questions){var e=(0,o.default)(this.state.questionnaire.questions,function(e){return e&&e.id&&e.answeredOptions});return(0,i.default)(e,function(e){return{questionId:e.id,answeredOptions:e.answeredOptions}})}return[]},onFieldChange:function(e,t){var a=this.state.currentQuestion,n=a.questionOptions.filter(function(e){return parseInt(t)===e.id});if(a.questionType===p.default.SINGLE_SELECT.id){a.answeredOptions=[t];var r=n&&n.length>0;if(r){var i=this.getRIFTForQuestionAnswer(n[0]);m.default.trackClickWithDefaults({section:"content_area",target:i+"_button"}),this.setState({riftQuestionAnswer:i})}this.setState({feedbackText:r?n[0].optionValueFeedback:""})}if(a.questionType===p.default.MULTI_SELECT.id){a.answeredOptions||(a.answeredOptions=[]);var o=a.answeredOptions.indexOf(t),s=this.getRIFTForQuestionAnswer(n[0]);if(-1!==o){a.answeredOptions.splice(o,1);var l=new RegExp(s+",?");this.setState({riftQuestionAnswer:this.state.riftQuestionAnswer.replace(l,"")})}else m.default.trackClickWithDefaults({section:"content_area",target:s+"_button"}),a.answeredOptions.push(t),this.setState({riftQuestionAnswer:""===this.state.riftQuestionAnswer?s:this.state.riftQuestionAnswer+","+s})}this.setState({currentQuestion:a}),this.submitOnSingleSelection&&a.questionType===p.default.SINGLE_SELECT.id&&this._onQuestionAnswered()},getIsOnFirstQuestion:function(){return 0===this.state.currentQuestionIndex},getIsOnLastQuestion:function(){return this.state.questionnaire&&this.state.questionnaire.questions&&this.state.currentQuestionIndex===this.state.questionnaire.questions.length-1},getCurrentQuestionIndex:function(){return this.state.currentQuestionIndex},getCurrentQuestionNamedId:function(){return this.state.currentQuestion&&this.state.currentQuestion.namedId},getIsReadyToSubmit:function(){return this.state.currentQuestion&&this.state.currentQuestion.answeredOptions&&this.state.currentQuestion.answeredOptions.length>0},goToPreviousStage:function(){var e=this.state.currentQuestionIndex-1,t=this.state.questionnaire.questions[e];this.setState({currentQuestionIndex:e,currentQuestion:t,feedbackText:""})},getRIFTForQuestionAnswer:function(e){return e?e.namedId:"null"}});t.default=h,e.exports=t.default},hI4d:function(e,t,a){},"hM6/":function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("OvAC")),o=r(a("8VmE")),s=r(a("SDJZ")),l=r(a("K4DB")),u=r(a("+IV6")),c=r(a("T1e2")),d=r(a("NToG")),f=r(a("eef+")),p=n(a("mXGw")),m=(r(a("W0B4")),r(a("nbo3"))),h=r(a("DyY8")),g=r(a("pCn5")),_=r(a("kHu9")),v=r(a("N8MJ")),y=r(a("5vat")),S=r(a("/o3M")),E=r(a("94Bj")),I=r(a("A/Bp"));a("q6oj");var T=function(e){function t(e){var a;return(0,s.default)(this,t),(a=(0,l.default)(this,(0,u.default)(t).call(this,e)))._onShareButtonClick=a._onShareButtonClick.bind((0,c.default)(a)),a}return(0,f.default)(t,e),(0,d.default)(t,null,[{key:"defaultProps",get:function(){return{introFormName:"ShareButton_SharedSearchIntro",label:"Share",sectionName:"address_banner",shareBoxStore:{}}}}]),(0,d.default)(t,[{key:"render",value:function(){return p.default.createElement("div",{className:"shareButtonWrapper"},p.default.createElement(g.default,{label:this.props.label,wrapperClassSet:{ShareButton:!0},onClick:this._onShareButtonClick,rfTestName:"abp-shareButton",simple:this.props.simple},p.default.createElement(S.default,{className:"svg-icon-off-color"})),this._renderShareBox())}},{key:"_renderShareBox",value:function(){return"INTEGRATED_INTO_FORM"===E.default.getVariant(I.default)||"SHARE_PROMPT"===E.default.getVariant(I.default)||this.props.shareBoxStore&&this.props.shareBoxStore.isDPonMap?p.default.createElement(y.default,this.props.shareBoxStore):p.default.createElement(v.default,(0,o.default)({onBlur:_.default.hideShareListingContent},this.props.shareBoxStore))}},{key:"_onShareButtonClick",value:function(){var e=(0,i.default)({property_id:this.props.propertyId,listing_id:this.props.listingId},h.default.TRACKGA,!0);m.default.trackClick(this.props.sectionName,"share_button",e),_.default.showShareListingContent()}}]),t}(p.Component);t.default=T,T.displayName="ShareButton",T.propTypes={},e.exports=t.default},hTyW:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("OvAC")),c=(n(a("W0B4")),a("YAhj")),d=a("IzIR");a("VzE9"),a("YzOW");var f=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return c.createElement("div",{className:"HomeIcon inline-block"},c.createElement(d,{propertyType:this.props.propertyType,listingType:this.props.listingType,isSold:!g_searchStatus.idToObj[this.props.searchStatus].isActivish,isFavorite:!!this.props.isFavorite,isXout:!!this.props.isXout,isHot:this.props.isHot,isRedfin:this.props.isRedfin,hasOpenHouse:!!this.props.hasOpen,hasAgc:!!this.props.hasAgc}))}}]),t}(c.Component);(0,u.default)(f,"displayName","HomeIcon"),(0,u.default)(f,"defaultProps",{isFavorite:!1,isXout:!1,hasAgc:!1,hasOpen:!1,isRedfin:!1,isHot:!1,searchStatus:g_searchStatus.NULL_STATUS}),f.propTypes={},e.exports=f},hWO6:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("mXGw")),c=n(a("hBuV")),d=n(a("8Jek")),f=n(a("luvc")),p=n(a("4ppV")),m=(n(a("W0B4")),n(a("vH3W"))),h=n(a("9YjL")),g=n(a("ma35")),_=n(a("VirH")),v=n(a("9aza")),y=n(a("fIVB")),S=n(a("kjcz"));a("qsd1");var E=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).reasonsCutoff=a.props.showNewFiveStarSurvey?4:3,a}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){y.default.trackImpression(y.default.impressions.CHECK_IN_DIALOG)}},{key:"componentWillMount",value:function(){this.isDesktop=(0,f.default)("screen-size")>=f.default.screenSizes.MEDIUM}},{key:"render",value:function(){return this.props.showDialog?u.default.createElement("div",{className:"fiveStarSurvey"},this._renderSurveyDialog()):null}},{key:"_renderSurveyDialog",value:function(){var e=null!==this.props.selectedStarNum,t=(0,d.default)({fiveStarSurveyDialog:!0,drawer:this.props.showNewFiveStarSurvey,fullScreen:this.props.showNewFiveStarSurvey&&e,variant:this.props.showNewFiveStarSurvey}),a=(0,d.default)({fiveStarSurveyGuts:!0,control:!this.props.showNewFiveStarSurvey,variant:this.props.showNewFiveStarSurvey,belowCutoff:null!==this.props.selectedStarNum&&this.props.selectedStarNum<=this.reasonsCutoff,aboveCutoff:this.props.selectedStarNum>this.reasonsCutoff,hasStars:e});return u.default.createElement(p.default,{className:t,closeOnBackgroundClick:this.isDesktop,showCloseButton:this.isDesktop,fullScreenOnMobile:!1,close:this._hideDialog},u.default.createElement("div",{className:a},this._renderSurveyTitleAndAgentImage(),u.default.createElement("div",{className:"stars"},this._renderStars()),u.default.createElement("div",{className:"reasonsAndFeedbackForm flexGrow"},u.default.createElement("div",{className:"reasons"},u.default.createElement(c.default,{transitionName:"reasons-transition",transitionEnter:!0,transitionEnterTimeout:450,transitionLeaveTimeout:450},this._renderReasons())),u.default.createElement(c.default,{className:"flexGrow",transitionName:"bottom-transition",transitionEnter:!0,transitionEnterTimeout:450,transitionLeaveTimeout:450},this._renderSuggestionBoxAndSubmitButton()))))}},{key:"_renderSurveyTitleAndAgentImage",value:function(){var e=u.default.createElement("div",{className:"surveyTitle"},this._renderTitleString()),t=u.default.createElement("div",{className:"agentImage"},u.default.createElement(c.default,{transitionName:"agentImage-transition",transitionEnter:!0,transitionEnterTimeout:450,transitionLeaveTimeout:450},this._renderAgentImage()));return this.props.showNewFiveStarSurvey?[t,e]:[e,t]}},{key:"_renderTitleString",value:function(){return u.default.createElement("div",{className:"title"},null===this.props.selectedStarNum?this._renderZeroStarNameTitle():this._renderStarredNameTitle())}},{key:"_renderZeroStarNameTitle",value:function(){var e=this.props.showNewFiveStarSurvey?"experience":"tour",t="How was your ".concat(e),a="with ".concat(this.props.agentData.agentName,"?");return[u.default.createElement("p",{key:"title1"},t),u.default.createElement("p",{key:"title2"},a)]}},{key:"_renderStarredNameTitle",value:function(){return this.props.selectedStarNum<=this.reasonsCutoff?u.default.createElement("p",{key:"title"},"What didnt work?"):4===this.props.selectedStarNum?u.default.createElement("p",{key:"title"},"Glad to hear it!"):u.default.createElement("p",{key:"title"},"Awesome!")}},{key:"_renderAgentImage",value:function(){var e=this.props.agentData.agentPhotoUrl?this.props.agentData.agentPhotoUrl:g_imageServerUrl+"/images/agents/ghost-agent-avatar.png";return null===this.props.selectedStarNum||this.props.showNewFiveStarSurvey?u.default.createElement("div",{className:"agentImageContent"},u.default.createElement("img",{key:"agentImgKey",alt:this.props.agentData.agentFullName,src:e})):null}},{key:"_renderReasons",value:function(){var e=this;if(null===this.props.selectedStarNum||this.props.selectedStarNum>this.reasonsCutoff)return null;var t=this.props.reasons.map(function(t,a){return e._renderIndividualReason(a)});return u.default.createElement("div",{className:"reasonsContent"},t)}},{key:"_renderIndividualReason",value:function(e){if(this.props.showNewFiveStarSurvey)return u.default.createElement(h.default,{key:e,labelAfter:!0,value:this.props.reasons[e].selected,label:this.props.reasons[e].label,onChange:this._handleClickReason.bind(this,e)});var t=(0,d.default)({unpadded:!0,pressed:this.props.reasons[e].selected});return u.default.createElement(g.default,{className:t,key:e,onClick:this._handleClickReason.bind(this,e)},this.props.reasons[e].label)}},{key:"_renderStars",value:function(){for(var e=[],t=1;t<=5;t++){var a=null===this.props.mouseOverStarNum?this.props.selectedStarNum:this.props.mouseOverStarNum,n=null!==a&&t<=a;e.push(u.default.createElement(_.default,{isHighlighted:n,onClick:this._handleClickStar.bind(this,t),onmouseover:this._handleMouseOver.bind(this,t),onmouseout:this._handleMouseOut,key:t}))}return e}},{key:"_renderSuggestionBoxAndSubmitButton",value:function(){return null===this.props.selectedStarNum?null:u.default.createElement("div",{className:"bottomContent flexGrow"},this._renderSuggestionBox(),this._renderSubmitButton())}},{key:"_renderSuggestionBox",value:function(){var e;if(this.props.showNewFiveStarSurvey)e=u.default.createElement("div",{className:"feedbackTitle variant"},"Any Feedback?",u.default.createElement("span",{className:"parentheticalOptional"}," (optional)"));else{var t=this.props.selectedStarNum<=this.reasonsCutoff?"Other:":"Any feedback?";e=u.default.createElement("div",{className:"feedbackTitle"},t)}return u.default.createElement("div",{className:"suggestionBox"},e,u.default.createElement("div",{className:"commentBox"},u.default.createElement(m.default,{className:"commentInput",value:this.props.additionalFeedback||"",rows:4,expanding:!1,maxLength:1e3,placeholder:"",onChange:function(e){return v.default.additionalFeedbackTextChange(e.target.value)},rfTestId:"commentInput"})))}},{key:"_renderSubmitButton",value:function(){return u.default.createElement("div",{className:"submitButtonWrapper"},u.default.createElement(g.default,{className:"v3",type:"primary",rfTestId:"submitCommentButton",disabled:!this.props.submitEnabled,onClick:this._handleSubmitButtonClick},"Submit"))}},{key:"_handleSubmitButtonClick",value:function(){y.default.trackClick(y.default.clicks.SUBMIT),v.default.submit()}},{key:"_hideDialog",value:function(){y.default.trackClick(y.default.clicks.DISMISS),S.default.hideDialog()}},{key:"_handleClickStar",value:function(e){v.default.clickStar(e)}},{key:"_handleMouseOver",value:function(e){v.default.mouseOver(e)}},{key:"_handleMouseOut",value:function(){v.default.mouseOver(null)}},{key:"_handleClickReason",value:function(e){v.default.clickReason(e)}}]),t}(u.default.Component);t.default=E,E.propTypes={},E.displayName="FiveStarSurvey",e.exports=t.default},hYAy:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("Nwge")),i=n(a("LDFp")),o=n(a("pBXq"));i.default.ensure(a("tTYd"));var s=(0,r.default)(new o.default,{name:"HotnessBannerRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],impressions:{HOT_HOMES_BANNER:{section:"hot_homes",target:null,expectedParams:["offer_deadline","sale_time","is_banner","is_direct_access"],trackGA:!0}},clicks:{TOUR_LINK:{section:"hot_homes",target:"tour_link",expectedParams:["offer_deadline","sale_time"]},SELF_TOUR_LINK:{section:"hot_homes",target:"self_tour_link",expectedParams:["offer_deadline","sale_time","is_banner","is_redfin"]}}});t.default=s,e.exports=t.default},hmnS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SOURCE_RENTAL_ESTIMATE_LANDING_PAGE=t.SOURCE_RENTAL_ESTIMATE_ON_DP=t.SOURCE_PHOTO_MANAGER=t.SOURCE_ESTIMATE_LANDING_PAGE=t.SOURCE_CREATE_OWNER_ESTIMATE=t.SOURCE_REVIEW_HOME_FACTS=t.SOURCE_OWNER_DASHBOARD=t.SOURCE_PDP_SDP=void 0;t.SOURCE_PDP_SDP="1";t.SOURCE_OWNER_DASHBOARD="2";t.SOURCE_REVIEW_HOME_FACTS="3";t.SOURCE_CREATE_OWNER_ESTIMATE="4";t.SOURCE_ESTIMATE_LANDING_PAGE="5";t.SOURCE_PHOTO_MANAGER="6";t.SOURCE_RENTAL_ESTIMATE_ON_DP="7";t.SOURCE_RENTAL_ESTIMATE_LANDING_PAGE="8"},huYw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvmDisplayType=t.CompHomeCardsPosition=t.HistoricalGraphDisplayState=t.ClaimHomeCtaPosition=t.CompsDisplayState=void 0;t.CompsDisplayState={DISPLAY:"DISPLAY",COLLAPSE:"COLLAPSE"};t.ClaimHomeCtaPosition={HEADER:"HEADER",BOTTOM:"BOTTOM",NONE:"NONE"};t.HistoricalGraphDisplayState={DISPLAY:"DISPLAY",COLLAPSE:"COLLAPSE",NONE:"NONE"};t.CompHomeCardsPosition={ABOVE_MAP:"ABOVE_MAP",BELOW_MAP:"BELOW_MAP",RIGHT_OF_MAP:"RIGHT_OF_MAP"};t.AvmDisplayType={AVM:"AVM",GHOST_TOWN:"GHOST_TOWN",NO_AVM:"NO_AVM"}},i30b:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("NToG")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("eef+")),c=n(a("mXGw")),d=r(a("W0B4")),f=r(a("ScZY")),p=r(a("ma35")),m=r(a("HKXw")),h=r(a("brqD")),g=r(a("NCrZ")),_=r(a("Mism")),v=r(a("MdtB")),y=r(a("luvc"));a("oD2G");var S=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"_renderHomeCardLogoExtension",value:function(e){return e.initiallyShortlisted?c.default.createElement(_.default,null):c.default.createElement("p",{className:"shortlist-candidate-text font-weight-bold font-size-small"},"Candidate")}},{key:"_renderPlaceholderHomeCards",value:function(){for(var e=[],t=0;t<this.props.numPlaceholderHomeCards;t++)e.push(c.default.createElement("div",{className:"staged-shortlist-homecard",key:"placeholder-"+t},c.default.createElement(h.default,{ghostTown:!0,useFixedAspectRatio:!0})));return e}},{key:"_renderStagedShortlistHomeCards",value:function(){var e=this;return this.props.stagedShortlist.map(function(t,a){return c.default.createElement("div",{className:"staged-shortlist-homecard"},c.default.createElement(g.default,{key:a,homeData:t.homeCardData,useHomeCardV2:!0,useFixedAspectRatio:!0,openLinkInANewTab:!0,bottomExtensions:c.default.createElement("div",{key:"bottomExtensions"},c.default.createElement(p.default,{className:"button text",onClick:function(a){e._onRemoveClick(t,a)}},"Remove")),logoExtensions:c.default.createElement("div",{key:"logoExtensions"},e._renderHomeCardLogoExtension(t))}))})}},{key:"_renderHomeCards",value:function(){return this.props.isLoadingHomeCards?this._renderPlaceholderHomeCards():this._renderStagedShortlistHomeCards()}},{key:"_onRemoveClick",value:function(e,t){t.preventDefault(),t.stopPropagation(),v.default.trackClick(v.default.clicks.EDIT_FULL_SHORTLIST_REMOVE_HOME,{property_id:e.homeCardData.propertyId}),m.default.removeFromShortlist(e.homeCardData.propertyId)}},{key:"_isMobileView",value:function(){return(0,y.default)("screen-size")<y.default.screenSizes.MEDIUM}},{key:"_getHomeCardsMobileView",value:function(){return c.default.createElement(f.default,{numSlidesToShow:1,dots:!1},this._renderHomeCards())}},{key:"_getHomeCardsDesktopView",value:function(){return c.default.createElement("div",{className:"edit-shortlist-desktop-view-container"},this._renderHomeCards())}},{key:"_getEmptyStagedShortlistState",value:function(){return c.default.createElement("div",{className:"stagedShortlist-ghostTown"},c.default.createElement("p",{className:"font-size-medium"},"Shortlist is Empty"))}},{key:"_showStagedHomeCards",value:function(){return this._isMobileView()?this._getHomeCardsMobileView():this._getHomeCardsDesktopView()}},{key:"render",value:function(){var e=this.props.stagedShortlist.length>0||this.props.isLoadingHomeCards;return c.default.createElement("div",{className:"StagedShortlistView"},e?this._showStagedHomeCards():this._getEmptyStagedShortlistState())}}],[{key:"propTypes",get:function(){return{stagedShortlist:d.default.array.isRequired,numPlaceholderHomeCards:d.default.number,loadingHomeCards:d.default.bool}}},{key:"defaultProps",get:function(){return{numPlaceholderHomeCards:4,loadingHomeCards:!0}}}]),t}(c.Component);t.default=S,e.exports=t.default},i3Ii:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["continueInBrowser"]);t.default=n,e.exports=t.default},i6tA:function(e,t,a){},iDTg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["hideHaveWeMetDialog","loginSuccess","storeSubmitButtonRiftClick"]);t.default=n,e.exports=t.default},iIgH:function(e,t,a){},iOFF:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var i=r(a("gki9")),o=r(a("nxTg")),s=r(a("x3Yk")),l=(r(a("W0B4")),n(a("mXGw"))),u=r(a("nbo3")),c=r(a("LAaD")),d=a("aKSz"),f=r(a("ma35"));a("eBh7");var p="simple_drawer",m="cta_link",h="x_out",g=" overlay",_=200;function v(e){var t=e.className,a=void 0===t?"":t,n=e.bodyTitle,r=e.copy,v=e.ctaText,y=e.ctaTextUrl,S=e.dismissible,E=void 0===S||S,I=e.dismissalPostUrl,T=e.dismissalText,C=void 0===T?"Not Now":T,b=e.imgSrcUrl,A=e.imgAltText,k=e.riftSection,N=void 0===k?p:k,O=e.riftDetails,D=void 0===O?{}:O,R=e.riftParams,P=void 0===R?{}:R,w=(0,l.useState)(!0),B=(0,o.default)(w,2),x=B[0],L=B[1],M=(0,i.default)({},D,P);var F=l.default.createElement("span",{dangerouslySetInnerHTML:{__html:r}});return l.default.createElement(d.CSSTransitionGroup,{component:"div",className:"dialogsContainer ",transitionName:"drawer-slide",transitionAppear:!1,transitionEnter:!1,transitionLeave:!0,transitionLeaveTimeout:_,tabIndex:"-1","data-rf-test-name":"dialogsContainer"},x&&l.default.createElement("div",{className:"COPSimpleDrawerUnderlay",onClick:function(){u.default.trackClick(N,g,M),L(!1)}}),x&&l.default.createElement(c.default,{section:N},l.default.createElement("div",{className:"COPSimpleDrawerDialog ".concat(a),id:"COPInterstitial"},l.default.createElement("div",{className:"drawer bg-color-white","data-rf-test-name":"COPDrawer"},l.default.createElement("div",{className:"content"},b&&l.default.createElement("img",{className:"COPDrawerImage",src:b,alt:A}),l.default.createElement("div",{className:"copyContainer"},l.default.createElement("div",{className:"title"},n),F)),l.default.createElement("div",{className:"buttonContainer"},E&&C&&l.default.createElement(f.default,{className:"closeButton",type:"text",onClick:function(){u.default.trackClick(N,h,M),I&&(0,s.default)(I,{method:"POST"}),L(!1)}},C),v&&y&&l.default.createElement(f.default,{type:"primary compact",onClick:function(){u.default.trackClick(N,m,M),y&&(window.location=y)},className:"ctaButton"},v))))))}v.displayName="SimpleDrawerWidget",v.propTypes={},e.exports=t.default},ipUu:function(e,t,a){},iscO:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("NToG")),u=n(a("eef+")),c=a("YAhj"),d=n(a("1AMb")),f=n(a("zQwK")),p=n(a("FDyu")),m=n(a("pXYl")),h=n(a("W0B4")),g=a("f2dk"),_=n(a("8Z2X")),v=function(e){function t(e){return(0,i.default)(this,t),(0,o.default)(this,(0,s.default)(t).call(this,e))}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{dataSourceId:h.default.number.isRequired,displayLevel:h.default.number,message:h.default.string}}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e="";switch(this.props.displayLevel){case g_displayLevel.SIGN_IN:e="logged_out";break;case g_displayLevel.VOW_UP:e="not_vowed";break;case g_displayLevel.RE_ENTER_PASSWORD:case g_displayLevel.ACCEPT_TOS:e="time_expired"}m.default.trackImpression(m.default.impressions.REBNY_CENSORED_BANNER,{censored_status:e})}},{key:"render",value:function(){return React.createElement(d.default,{name:"BannerSection LocalRulesBannerSection padding-bottom-large"},React.createElement("div",{className:"sectionContainer clickable",onClick:this._onClick.bind(this)},React.createElement(f.default,{message:this.props.message,customIcon:_.default,action:this.getAction()})))}},{key:"_onClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=m.default.trackClick(m.default.clicks.UNLOCK_CENSORED_BANNER);(0,g.showLoginLightboxIfNeeded)({dataSourceId:this.props.dataSourceId,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT,registrationEntrypointRiftContext:t})}},{key:"getAction",value:function(){switch(this.props.displayLevel){case g_displayLevel.SIGN_IN:return this.getSignInOrJoinAction();case g_displayLevel.VOW_UP:return this.getVerifyEmailAction();case g_displayLevel.RE_ENTER_PASSWORD:return this.getReenterPasswordAction();case g_displayLevel.ACCEPT_TOS:return this.getAcceptTOSAction()}}},{key:"getSignInOrJoinAction",value:function(){var e=this;return React.createElement("div",null,this._SignInOrVerify("Sign In",{showSignIn:!0,trackClick:function(){return e._clickSignIn()}}),"or",this._SignInOrVerify("Join",{trackClick:function(){return e._clickJoin()}}),"for free with no obligation.")}},{key:"getVerifyEmailAction",value:function(){var e=this;return this._SignInOrVerify("Verify your email",{trackClick:function(){return e._clickVerifyEmail()}})}},{key:"getReenterPasswordAction",value:function(){var e=this;return this._SignInOrVerify("Re-enter your password",{trackClick:function(){return e._clickReenterPassword()}})}},{key:"getAcceptTOSAction",value:function(){var e=this;return this._SignInOrVerify("Accept Terms of Use",{trackClick:function(){return e._clickAcceptTOS()}})}},{key:"_SignInOrVerify",value:function(e,t){return React.createElement(p.default,(0,r.default)({},t,{displayLevel:this.props.displayLevel,dataSourceId:this.props.dataSourceId,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT}),e)}},{key:"_clickSignIn",value:function(){return m.default.trackClick(m.default.clicks.SIGN_IN_LINK)}},{key:"_clickJoin",value:function(){return m.default.trackClick(m.default.clicks.JOIN_LINK)}},{key:"_clickVerifyEmail",value:function(){return m.default.trackClick(m.default.clicks.VERIFY_EMAIL_LINK)}},{key:"_clickReenterPassword",value:function(){return m.default.trackClick(m.default.clicks.REENTER_PASSWORD_LINK)}},{key:"_clickAcceptTOS",value:function(){return m.default.trackClick(m.default.clicks.ACCEPT_TOS_LINK)}}]),t}(c.Component);t.default=v,e.exports=t.default},ivAr:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("OvAC")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("NToG")),c=n(a("eef+")),d=n(a("Nwge")),f=n(a("LDFp")),p=n(a("YAhj")),m=n(a("W0B4")),h=n(a("xARA")),g=n(a("8Jek")),_=n(a("BYaZ")),v=n(a("6YqF")),y=n(a("DyY8")),S=a("G4xM"),E=n(a("Dz38")),I=a("R8lb"),T=n(a("8Llx")),C=n(a("nar/")),b=a("wIt4");a("K4NS"),f.default.ensure(a("IN6r"));var A=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).onChatClick=a.onChatClick.bind((0,l.default)(a)),a.onAskQuestionClick=a.onAskQuestionClick.bind((0,l.default)(a)),a.onStartAnOfferClick=a.onStartAnOfferClick.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{liveChatWidgetAction:m.default.object.isRequired,cbActionType:m.default.number.isRequired,listingId:m.default.number.isRequired,propertyId:m.default.number.isRequired,streetAddress:m.default.string.isRequired,agent:m.default.object.isRequired,riftParams:m.default.object.isRequired,phoneNumber:m.default.string,phoneNumberUrl:m.default.string,refund:m.default.number,runningLiveChatExperimentFeature:m.default.number,liveChatGAExperimentId:m.default.string,contactBoxInfo:m.default.object,sideBarStore:m.default.object,showAAQDialogCallback:m.default.func,deviceConfig:m.default.number,showPartnerStartAnOffer:m.default.bool}}}]),(0,u.default)(t,[{key:"componentDidMount",value:function(){_.default.trackImpression(_.default.impressions.SECTION,(0,r.default)({text:this.getTextRiftDetail(),refund_value:this.props.refund},y.default.GA_LABEL,{text:this.getTextRiftDetail()}),h.default.findDOMNode(this)),this.props.runningLiveChatExperimentFeature&&v.default.initializeLiveChatExperiment(this.props.runningLiveChatExperimentFeature,this.props.liveChatGAExperimentId)}},{key:"onChatClick",value:function(e){e.preventDefault(),_.default.trackClick(_.default.clicks.CTA_BUTTON,this.getCtaRiftParams()),this.props.liveChatWidgetAction&&this.props.liveChatWidgetAction.toggleChatDialog(this.props.contactBoxInfo.detailsPageContext===C.default.id?g_inquirySource.DP_CB_LIVE_CHAT_ON_MAP:g_inquirySource.DP_CB_LIVE_CHAT)}},{key:"onAskQuestionClick",value:function(e){e.preventDefault();var t=this.props.showPartnerStartAnOffer?_.default.trackClick(_.default.clicks.PARTNER_CTA_BUTTON,this.getCtaRiftParams()):_.default.trackClick(_.default.clicks.CTA_BUTTON,this.getCtaRiftParams());T.default.isLoggedIn()||(0,I.trackRegistrationConversionAttempt)(t,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN),this.setState({entrypointRiftContext:t}),this.props.showAAQDialogCallback&&this.props.showAAQDialogCallback()}},{key:"getCtaRiftParams",value:function(){var e,t=((0,S.getConfigValueForKey)(S.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo)||{}).omdpHigherDescriptionExperimentInfo,a=void 0===t?{}:t;return(0,d.default)({},this.props.riftParams,(e={text:this.getTextRiftDetail()},(0,r.default)(e,y.default.GA_LABEL,{text:this.getTextRiftDetail()}),(0,r.default)(e,"customer_status","none"),(0,r.default)(e,"higher_desc_cohort",a.cohort),e))}},{key:"getTextRiftDetail",value:function(){return this.props.cbActionType===g_contactBoxActionType.LIVE_CHAT?"live_chat":"ask_a_question"}},{key:"renderQuestionsLink",value:function(){var e=(0,g.default)({"no-phone-number":!this.props.phoneNumber&&!this.props.showPartnerStartAnOffer});return this.props.cbActionType===g_contactBoxActionType.LIVE_CHAT?p.default.createElement("a",{href:"#",onClick:this.onChatClick,className:e},"Ask a Question"):p.default.createElement("a",{href:"#",onClick:this.onAskQuestionClick,"data-rf-test-name":"ask-a-question",className:e},"Ask a Question")}},{key:"renderPhoneLink",value:function(){if(!this.props.phoneNumber||!this.props.phoneNumberUrl)return null;var e={phoneNumber:this.props.phoneNumber,phoneNumberUrl:this.props.phoneNumberUrl,isMobile:this.props.deviceConfig===g_deviceConfiguration.PHONE,riftTracker:_.default,riftParams:this.props.riftParams,riftClickEvents:{linkClickEvent:_.default.clicks.PHONE_NUMBER,textClickEvent:_.default.clicks.PHONE_NUMBER_TEXT,callClickEvent:_.default.clicks.PHONE_NUMBER_CALL,dialogCloseEvent:_.default.clicks.PHONE_NUMBER_DIALOG_CLOSE},riftImpressionEvents:{dialogViewEvent:_.default.impressions.PHONE_TEXT_CALL_DIALOG}};return p.default.createElement(E.default,e)}},{key:"renderPartnerStartAnOffer",value:function(){var e=this.constructOfferURL();return p.default.createElement("a",{className:"phone-number","data-rf-test-name":"offer",href:e,rel:"nofollow",onClick:this.onStartAnOfferClick},"Start an Offer")}},{key:"constructOfferURL",value:function(){var e=this.props.agent?"&agent=".concat(this.props.agent.getId()):"";return"/buy-a-home/start-an-offer?listingId=".concat(this.props.listingId,"&inquirySource=").concat(g_inquirySource.LDP_CONTACT_BOX_OFFER_WIZARD).concat(e)}},{key:"onStartAnOfferClick",value:function(e){e.preventDefault();var t=this.props.agent,a={agent_id:t.getId(),star_rating:t.getAverageRating(),num_reviews:t.getNumReviews(),includes_refund:!1,num_closed_deals:t.getHomesClosed(),is_partner:t.isPartner(),has_refund:!1,has_phone_number:!1},n=_.default.trackClick(_.default.clicks.PARTNER_START_AN_OFFER,a);T.default.isLoggedIn()||(0,I.trackRegistrationConversionAttempt)(n,g_registrationReason.SUBMIT_OFFER,g_registrationAuthority.REDFIN);var r=(0,I.serializeConversionRiftEntrypoint)(n),i="".concat(this.constructOfferURL(),"&epc=").concat(r);window.location=i}},{key:"render",value:function(){var e=this.props.contactBoxInfo,t=(0,g.default)({questions:!0,"partner-links":this.props.showPartnerStartAnOffer,"bottom-bar":this.props.showPartnerStartAnOffer||e&&(e.experienceData&&(0,b.doObjectGraph)()(e.experienceData.refundMessagingData)||e.detailsPageContext===C.default.id)});return p.default.createElement("div",{className:"ContactLinks","data-rf-test-name":"contact-links"},p.default.createElement("div",{className:t},this.renderQuestionsLink(),this.props.showPartnerStartAnOffer?this.renderPartnerStartAnOffer():this.renderPhoneLink()))}}]),t}(p.default.Component);t.default=A,e.exports=t.default},jTef:function(e,t,a){"use strict";var n=a("63Ad")(a("T5cu")),r=a("osI4"),i=null,o=[],s=null,l=null,u=null,c=null,d={currentState:{sideBarState:null,sideBarDockedYOffset:null},sideBarState:{top:1,floating:2,bottom:3},dtpFloatState:{normal:1,floating:2,bottom:3},dtpTransitionState:{normal:1,hidden:2},_bufferVal:0,bodyRect:null,sideBarContentContainerRect:null,sideBarContentRect:null,similarsRect:null,initScrollListener:function(){var e=this;"phone"!==(0,r.getCurrentDeviceType)()&&(this._checkScroll=this._checkScroll.bind(this),i||(i=window.addEventListener("scroll",(0,n.default)(function(){return requestAnimationFrame(e._checkScroll)},100),{passive:!0})),requestAnimationFrame(this._checkScroll))},calculatePositions:function(){return this.bodyRect=document&&document.body?document.body.getBoundingClientRect():null,this.sideBarContentContainerRect=l?l.getBoundingClientRect():null,this.sideBarContentRect=u?u.getBoundingClientRect():null,this.similarsRect=s?s.getBoundingClientRect():null,this.dtpRect=c?c.getBoundingClientRect():null,{scrollYOffset:-1*this.bodyRect.top,sideBarStartFloat:this.calculatePositionWhereSideBarStartsFloating(),sideBarStopFloat:this.calculatePositionWhereSideBarHitSimilars(),sideBarFloatingXPosition:this.calculateHorizontalPositionForSideBarWhileFloating(),dtpStartFloat:this.calculatePositionWhereWeScrollPastSideBar(),dtpStartHide:this.calculatePositionsWhereWeHideDTP(),dtpStopFloat:this.calculatePositionWhereDTPHitSimilars()}},calculatePositionWhereSideBarStartsFloating:function(){return this.sideBarContentContainerRect?this._offsetTop(this.sideBarContentContainerRect):null},calculatePositionWhereSideBarHitSimilars:function(){return this.bodyRect&&this.similarsRect&&this.sideBarContentRect?this._offsetTop(this.similarsRect)-this.sideBarContentRect.height:null},calculateHorizontalPositionForSideBarWhileFloating:function(){if(l){var e=l;return e.offsetLeft+(e.offsetParent?e.offsetParent.offsetLeft:0)-window.scrollX}},calculatePositionsWhereWeHideDTP:function(){if(this.dtpRect&&this.sideBarContentRect){return this.sideBarContentRect.bottom-this.bodyRect.top-20}},calculatePositionWhereWeScrollPastSideBar:function(){if(this.sideBarContentRect)return this.sideBarContentRect.bottom-this.bodyRect.top},calculatePositionWhereDTPHitSimilars:function(){if(this.similarsRect&&this.bodyRect&&c)return this._offsetTop(this.similarsRect)-this.dtpRect.height},addSimilarsNode:function(e){s=e,this.initScrollListener()},addSideBarContentContainerNode:function(e,t){l=e,u=t,this.initScrollListener()},addDTPNode:function(e){c=e,this.initScrollListener()},onStateChange:function(e){o.push(e)},_checkScroll:function(){var e=this.calculatePositions(),t={sideBarState:this.getSideBarFloatState(e),dtpFloatState:this.getDTPFloatState(e),dtpTransitionState:this.getDTPTransitionState(e),sideBarDockedYOffset:this.getSideBarDockedYOffset(e),sideBarFloatingXPosition:e.sideBarFloatingXPosition};this.dtpRect&&(t.dtpDockedYOffset=e.dtpStopFloat-e.sideBarStartFloat);var a=!1;for(var n in this.currentState)this.currentState.hasOwnProperty(n)&&t[n]!==this.currentState[n]&&(a=!0);if(a)for(var r=function(){var e=o[i];requestAnimationFrame(function(){return e(t)})},i=0;i<o.length;i++)r();this.currentState=t},getSideBarFloatState:function(e){return e.sideBarStopFloat&&e.scrollYOffset>e.sideBarStopFloat?this.sideBarState.bottom:e.scrollYOffset>e.sideBarStartFloat?this.sideBarState.floating:this.sideBarState.top},getDTPFloatState:function(e){return e.scrollYOffset<e.dtpStartHide?this.dtpFloatState.normal:e.scrollYOffset<e.dtpStopFloat?this.dtpFloatState.floating:this.dtpFloatState.bottom},getDTPTransitionState:function(e){return e.scrollYOffset<e.dtpStartHide?this.dtpTransitionState.normal:e.scrollYOffset>=e.dtpStartHide&&e.scrollYOffset<e.dtpStartFloat?this.dtpTransitionState.hidden:this.dtpTransitionState.normal},getSideBarDockedYOffset:function(e){return this.sideBarContentContainerRect?e.sideBarStopFloat-this._offsetTop(this.sideBarContentContainerRect):0},_offsetTop:function(e){return e&&this.bodyRect?e.top-this.bodyRect.top:0}};e.exports=d},jY7z:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("YAhj")),d=n(a("8Jek")),f=n(a("W0B4")),p=n(a("ma35")),m=n(a("LAaD")),h=n(a("lQoP")),g=n(a("Ngbo")),_=n(a("PgSJ")),v=n(a("WqrT")),y=n(a("1RMg")),S=n(a("LDFp"));a("SPF9"),S.default.ensure(a("Erm/")),S.default.ensure(a("yBCU"));var E=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,i.default)(this,(0,o.default)(t).call(this))).state={},e.state.isClient=!1,e.onClickButton=e.onClickButton.bind((0,s.default)(e)),e.onClickDefinitionLink=e.onClickDefinitionLink.bind((0,s.default)(e)),e.onShowDefinitionFlyout=e.onShowDefinitionFlyout.bind((0,s.default)(e)),e.onClickOfferRange=e.onClickOfferRange.bind((0,s.default)(e)),e.onClickLabel=e.onClickLabel.bind((0,s.default)(e)),e}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{propertyId:f.default.number,deviceCategory:f.default.string,title:f.default.string,message:f.default.string,actionTitle:f.default.string,address:f.default.string,actionLink:f.default.string,estimate:f.default.object,isPrimaryCTA:f.default.bool}}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.state.isClient=!0}},{key:"render",value:function(){var e=(0,d.default)({OpendoorCTA:!0,CashOfferCTA:!0,SecondaryCTA:!this.props.isPrimaryCTA}),t=this.props.isPrimaryCTA?"primary":"tertiary";return y.default.isOn(S.default.REDBIRD_MASTER_SWITCH)?c.default.createElement(m.default,{section:"opendoor_contact_box",target:"",eventDetails:{device_category:this.props.deviceCategory,propertyId:this.props.propertyId}},c.default.createElement("div",{className:e,"data-rf-test-name":"opendoorCTA"},c.default.createElement("div",{className:"cash-offer-cta-content-wrapper"},c.default.createElement("h2",{className:"heading font-weight-normal cash-offer-section-title"},"Thinking about selling?"),this._renderMessage(),this._renderOffer()),c.default.createElement(p.default,{type:t,className:"v3",onClick:this.onClickButton},this.props.actionTitle))):null}},{key:"_renderOffer",value:function(){return this.props.address?c.default.createElement("span",null,this._renderAddress(),this._showLabelAboveOfferRange()&&this._renderEstimateLabelClickable(),c.default.createElement("span",{className:"range"},this._renderRange()),!this._showLabelAboveOfferRange()&&this._renderEstimateLabel()):c.default.createElement("span",null,c.default.createElement("img",{className:"blurred-value",alt:"Blurred Value",src:"".concat(g_imageServerUrl,"/images/redfinnow/blurred-value@3x.png")}),c.default.createElement("div",{className:"your-offer"},"Your Home Offer"))}},{key:"_renderEstimateLabel",value:function(){return c.default.createElement("div",{className:"your-offer-label"}," Estimated Offer Range ")}},{key:"_renderEstimateLabelClickable",value:function(){return c.default.createElement("div",{className:"your-offer-label clickable",onClick:this.onClickLabel}," Estimated offer range ")}},{key:"_renderMessage",value:function(){var e=c.default.createElement("div",null,c.default.createElement("p",null,"Were giving you more ways to sell your home. Get a cash offer from Opendoor and sell hassle-free, or sell for top dollar with a local Redfin Agent."),c.default.createElement("p",null,"Redfin and Opendoor are separate companies. Redfin is not involved in creating your cash offer, but may receive referral compensation from Opendoor's brokerage. Not all homes are eligible."));return c.default.createElement("div",{className:"disclaimer-flyout"},c.default.createElement("div",{className:"cash-offer-content"},"Get a cash offer from ",c.default.createElement("span",null),c.default.createElement(v.default,{position:"below",alignment:"right",definitionLink:"https://www.opendoor.com/redfin",openLinkInNewTab:!0,definition:e,onClickDefinitionLink:this.onClickDefinitionLink,onShowDefinitionFlyout:this.onShowDefinitionFlyout,moreInfoText:"Learn More."}," Opendoor"),".",c.default.createElement("br",null),"No prep, showings or uncertainty."))}},{key:"_renderAddress",value:function(){return this._isShowingRangeForClaimedHomeNotViewed()?c.default.createElement(m.default,{section:"redfinnow_contact_box",target:"address_line"},c.default.createElement("div",{className:"address"}," ",this.props.address," ")):null}},{key:"_isShowingRangeForClaimedHomeNotViewed",value:function(){return this.props.estimate.propertyId&&this.props.estimate.propertyId!==this.props.propertyId}},{key:"_showLabelAboveOfferRange",value:function(){return y.default.isOn(S.default.REDFINNOW_OMDP_RANGE_LABEL_NOV_2018)&&"Variant"===y.default.getVariant(S.default.REDFINNOW_OMDP_RANGE_LABEL_NOV_2018)}},{key:"_renderRange",value:function(){if(this.props.estimate&&this.state.isClient){var e=(0,d.default)("offer","clickable",{small:this.props.estimate.offerRangeHigh>=1e6});return c.default.createElement("div",{className:e,onClick:this.onClickOfferRange},_.default.formatPrice(this.props.estimate.offerRangeLow)," - ",_.default.formatPrice(this.props.estimate.offerRangeHigh))}return c.default.createElement(g.default,{className:"loadingSpinner"})}},{key:"onShowDefinitionFlyout",value:function(){h.default.trackClick("opendoor_contact_box","opendoor_disclaimer_flyout")}},{key:"onClickDefinitionLink",value:function(){h.default.trackClick("opendoor_contact_box","opendoor_disclaimer_learn_more")}},{key:"onClickButton",value:function(){this.onClickCta("opendoor_cta")}},{key:"onClickOfferRange",value:function(){this.onClickCta("opendoor_offer_range_link")}},{key:"onClickLabel",value:function(){this.onClickCta("opendoor_offer_range_label")}},{key:"onClickCta",value:function(e){var t=this._isShowingRangeForClaimedHomeNotViewed()?this.props.estimate.propertyId:null,a={device_category:this.props.deviceCategory,propertyId:this.props.propertyId,claimedPropertyId:t};a[h.default.TRACKGA]=!0,h.default.trackClick("opendoor_contact_box",e,a),window.location.href=this.props.actionLink}}]),t}(c.default.Component);t.default=E,e.exports=t.default},ja8k:function(e,t,a){},"jfj+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("TlVh"),r=a("cMqt"),i=a("I5FW"),o=(0,n.createStoreFactory)({init:function(e){if(!e||!e.propertyId)throw new Error("propertyId not defined");if(this.pageTypeIsSupported({pageType:e.pageType})&&(0,i.getCurrentCountryCode)()===g_countryCode.UNITED_STATES){var t=null;g_deviceConfiguration&&g_deviceConfiguration.idToObj&&g_deviceConfiguration.idToObj[e.deviceConfig]&&(t=g_deviceConfiguration.idToObj[e.deviceConfig].displayName||"unknown"),this.setState({propertyId:e.propertyId,deviceCategory:t,dataPromise:this._fetchMerchandisingInfo(e.propertyId)})}else this.setState({shouldShowMoment:!1})},pageTypeIsSupported:function(e){var t=e.pageType;return t!==g_detailsPageType.ACTIVE&&t!==g_detailsPageType.RECENTLY_SOLD},_fetchMerchandisingInfo:function(e){var t={placement:g_redfinNowMerchandisingPlacement.OFF_MARKET_DETAILS_PAGE,propertyId:e,allowPartnershipOffer:!0};return r.ReactServerAgent.get("/stingray/redfinnow/api/merchandising/info/for/property",t).then(this._parseMerchInfoResponse.bind(this))},_parsePurchaseEstimateResponse:function(e){e&&e.body&&e.body.payload&&this.setState(e.body.payload)},_parseMerchInfoResponse:function(e){e&&e.body&&e.body.payload&&(e.body.payload.shouldShowMoment=e.body.payload.shouldBeDisplayed,this.setState(e.body.payload))}});t.default=o,e.exports=t.default},jmmv:function(e,t,a){},k5EC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenComponentName=void 0;t.FullScreenComponentName={Components:{MB_LIST_VIEW:"MB_LIST_VIEW",DP:"DP"}}},kdsQ:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("K4DB")),s=r(a("+IV6")),l=r(a("NToG")),u=r(a("eef+")),c=r(a("W0B4")),d=n(a("mXGw")),f=r(a("ma35")),p=r(a("1AMb")),m=r(a("XucT"));a("B5BY");var h=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={showAAQDialog:!1},a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{datePickerInfo:c.default.object,contactBoxInfo:c.default.object,listingId:c.default.number,mainHouseInfo:c.default.object}}}]),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.mainHouseInfo.brokerName?"Questions? Ask the builder, "+this.props.mainHouseInfo.brokerName:"Questions? Ask the builder";return d.default.createElement(p.default,{name:"ContactBuilder"},d.default.createElement("div",{className:"cb-text"},t),d.default.createElement(f.default,{type:"primary",className:"cb-button",onClick:function(){return e.setState({showAAQDialog:!0})}},d.default.createElement("div",{className:"buttonText"},"Contact Builder")),this.state.showAAQDialog&&this.renderAAQDialog())}},{key:"renderAAQDialog",value:function(){var e=this;return d.default.createElement(m.default,{onClose:function(){return e.setState({showAAQDialog:!1})},isMobile:this.props.deviceConfig===g_deviceConfiguration.PHONE,isInlineForm:!1,contactBoxInfo:this.props.contactBoxInfo,listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.streetAddress,inquiryChannel:g_inquiryChannel.ASK_A_QUESTION,inquirySource:g_inquirySource.LDP_STICKY_FOOTER,listingAddress:this.props.mainHouseInfo.propertyAddress,isOpendoor:!1,showBDXExperience:!0,fromRightRail:!0,builderName:this.props.mainHouseInfo.brokerName,listingAgent:!1})}}]),t}(d.Component);t.default=h,e.exports=t.default},kj8T:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("W0B4")),c=a("mXGw"),d=n(a("8Jek")),f=n(a("pKkH")),p=n(a("zQwK")),m=n(a("1AMb")),h=n(a("/BzH")),g=a("R8lb"),_=n(a("eEyP")),v=n(a("8Llx")),y=a("osI4"),S=n(a("sFYT"));a("rOT4");var E=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.domNode&&_.default.trackImpression(_.default.impressions.OFFER_REVIEW_NOTICE_SEEN)}},{key:"componentWillUnmount",value:function(){h.default.unmountStore()}},{key:"render",value:function(){var e=this;if(!this._shouldShowOfferDeadline())return null;var t=this.props.offerDeadlineInfoStore,a={title:t.title,message:t.message,className:"urgent",customIcon:S.default,actionTitle:this._getActionTitle(),onAction:this._redirectToOfferDeadline};this.props.isSecondaryVariant&&("desktop"===(0,y.getCurrentDeviceType)()&&(a.className="".concat(a.className," secondary")),a.customIcon=null,a.actionTitle=null);var n,r,i=t.addressInfo,o=(n=t.offerDeadlineDate,r=t.timezone,(0,f.default)(n).tz(r).calendar(null,{sameDay:"[today at] LT",nextDay:"[tomorrow at ] LT",nextWeek:"dddd",lastDay:"[yesterday at] LT",lastWeek:"[last] dddd",sameElse:"DD/MM/YYYY"})),s=new Date(t.offerDeadlineDate),l="Offers accepted until ".concat(o),u="Offer deadline for ".concat(i.street," is ").concat(o),c=this.props.homePhotosInfo?this.props.homePhotosInfo[0]:null,h=c&&c.photo?c.photo.mediaBrowserSizeUrl:null,g=(0,d.default)("OfferDeadlineSection",{secondary:this.props.isSecondaryVariant});return React.createElement(m.default,{name:"BannerSection",className:g},React.createElement("div",{className:"sectionContainer",ref:function(t){return e.domNode=t},itemScope:!0,itemType:"http://schema.org/Event"},React.createElement("meta",{itemProp:"name",content:l}),React.createElement("meta",{itemProp:"description",content:u}),React.createElement("meta",{itemProp:"startDate",content:s}),React.createElement("meta",{itemProp:"endDate",content:s}),React.createElement("meta",{itemProp:"image",content:h}),React.createElement("span",{itemProp:"location",itemScope:!0,itemType:"http://schema.org/SingleFamilyResidence"},React.createElement("meta",{itemProp:"name",content:i.street}),React.createElement("span",{itemProp:"address",itemScope:!0,itemType:"http://schema.org/PostalAddress"},React.createElement("meta",{itemProp:"streetAddress",content:i.street}),i.city?React.createElement("meta",{itemProp:"addressLocality",content:i.city}):null,React.createElement("meta",{itemProp:"addressRegion",content:i.state}),i.zip?React.createElement("meta",{itemProp:"postalCode",content:i.zip}):null,React.createElement("meta",{itemProp:"addressCountry",content:"US"}))),React.createElement(p.default,a)))}},{key:"_getActionTitle",value:function(){var e=this.props.contactBoxInfo&&(this.props.contactBoxInfo.agentRequestAgent||this.props.contactBoxInfo.recommendedAgent);return e&&e.get("agentType")===g_agentType.REDFIN?this.props.offerDeadlineInfoStore.actionTitle:null}},{key:"_shouldShowOfferDeadline",value:function(){return this.props.offerDeadlineInfoStore&&this.props.offerDeadlineInfoStore.offerDeadlineDate}},{key:"_redirectToOfferDeadline",value:function(){var e=_.default.trackClick(_.default.clicks.START_AN_OFFER_LINK);v.default.isLoggedIn()||(0,g.trackRegistrationConversionAttempt)(e,g_registrationReason.SUBMIT_OFFER,g_registrationAuthority.REDFIN),h.default.redirectToOfferWizard(e)}}],[{key:"propTypes",get:function(){return{offerDeadlineInfoStore:u.default.object,contactBoxInfo:u.default.object,experimentStore:u.default.object,homePhotosInfo:u.default.arrayOf(u.default.shape({photo:u.default.shape({mediaBrowserSizeUrl:u.default.string})})),isSecondaryVariant:u.default.bool}}}]),t}(c.Component);t.default=E,e.exports=t.default},kjcz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["hideDialog","submitSurvey","submitComplete"]);t.default=n,e.exports=t.default},kn5v:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("YAhj")),c=n(a("W0B4")),d=n(a("IgEu")),f=n(a("/fUV")),p=n(a("S+CJ")),m=n(a("Y9NP"));a("i6tA");var h=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.avmInfo;return u.default.createElement("div",{className:"HomeInfo inline-block"},u.default.createElement("div",{className:"top-stats"},u.default.createElement("h1",{className:"address inline-block"},u.default.createElement(f.default,{streetAddress:this.props.streetAddress,latLong:this.props.latLong,city:this.props.city,zip:this.props.zip,state:this.props.state,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT})),u.default.createElement(d.default,{key:"home-address",blob:this._constructStructuredData()}),u.default.createElement(p.default,{avmInfo:this.props.isActivish?null:e,contactBoxData:this.props.contactBoxData,priceInfo:this.props.priceInfo,beds:this.props.beds,supplementaryBedrooms:this.props.supplementaryBedrooms,baths:this.props.baths,sqFt:this.props.sqFt,pricePerSqFt:this.props.pricePerSqFt,soldDate:this.props.soldDate,soldDateTimeZone:this.props.soldDateTimeZone,searchStatus:this.props.searchStatus,listingType:this.props.listingType,dataSourceId:this.props.dataSourceId,deviceConfig:this.props.deviceConfig,streetAddress:this.props.streetAddress,city:this.props.city,zip:this.props.zip,countryCode:this.props.countryCode,state:this.props.state,latLong:this.props.latLong,url:this.props.url,primaryPhotoUrl:this.props.primaryPhotoUrl,numFullBaths:this.props.numFullBaths,numPartialBaths:this.props.numPartialBaths})),u.default.createElement(m.default,{isActivish:this.props.isActivish,avmInfo:e,contactBoxData:this.props.contactBoxData,priceInfo:this.props.priceInfo,yearBuilt:this.props.yearBuilt,lotSize:this.props.lotSize,soldDate:this.props.soldDate,soldDateTimeZone:this.props.soldDateTimeZone,daysOnRedfin:this.props.daysOnRedfin,timeOnRedfin:this.props.timeOnRedfin,cumulativeDaysOnMarket:this.props.cumulativeDaysOnMarket,daysOnMarketLabel:this.props.daysOnMarketLabel,status:this.props.status,source:this.props.source}))}},{key:"_constructStructuredData",value:function(){var e={"@context":"http://schema.org","@type":"SingleFamilyResidence",address:{"@type":"PostalAddress",streetAddress:this._getStreetLineDisplayText(),addressLocality:this.props.city,postalCode:this.props.zip,addressRegion:this.props.state}};return this.props.latLong&&(e.geo={"@type":"GeoCoordinates",latitude:this.props.latLong.latitude,longitude:this.props.latLong.longitude}),e}},{key:"_getStreetLineDisplayText",value:function(){var e=this.props.streetAddress;return e?e.assembledAddress?e.assembledAddress:e.addressDisplayLevel?e.addressDisplayLevel.displayText?e.addressDisplayLevel.displayText:this._getDefaultDisplayText(e.addressDisplayLevel.displayLevel):"":""}},{key:"_getDefaultDisplayText",value:function(e){switch(e){case g_displayLevel.SIGN_IN:return"Sign In for Address";case g_displayLevel.VOW_UP:return"Verify Email for Address";case g_displayLevel.CENSORED:return"Undisclosed Address";case g_displayLevel.UNKNOWN:return"Unknown Address";default:return""}}}],[{key:"displayName",get:function(){return"HomeInfo"}},{key:"propTypes",get:function(){return{avmInfo:c.default.object,contactBoxData:c.default.object,isActivish:c.default.bool,deviceConfig:c.default.number}}}]),t}(u.default.Component);e.exports=h},l44v:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("m7qm")),i=n(a("WHai"));e.exports=r.default.createStoreFactory({listenables:[i.default],init:function(){this.setState({error:null})},showErrorDialog:function(e){this.setState({error:e})},closeErrorDialog:function(){this.setState({error:null})}})},liRG:function(e,t,a){},m0Cg:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("LDFp")),i=n(a("zfzS")),o=n(a("fWcF")),s=n(a("1RMg"));n(a("W0B4"));r.default.ensure(a("I3iB"));var l={placementName:"app_interstitial",widgets:[{type:"AppInterstitial",data:i.default.defaultMerchProps}],riftParams:{}};function u(e){if(!s.default.isOn(s.default.feature.MOBILE_INTERSTITIAL_MERCH_FRAMEWORK))return React.createElement(i.default,e);var t=e.merchProps,a=t&&t.widgets&&t.widgets.length>0,n={AppInterstitial:i.default};return React.createElement(o.default,{placement:a?t:l,typeToComponent:n,componentProps:e})}u.propTypes={};var c=u;t.default=c,e.exports=t.default},"m2/A":function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("cZRz")),s=n(a("WSab")),l=a("cMqt"),u=a("YQMY"),c=n(a("bDWC")),d=c.default.makeCountMetricName({name:"corvair.sites.customer-pages.middleware.CustomerFirstVisit",color:{server:135,client:"rgb(127,42,212)"}},"failStoreFirstVisit"),f=c.default.makeCountMetricName({name:"corvair.sites.customer-pages.middleware.CustomerFirstVisit",color:{server:135,client:"rgb(127,42,212)"}},"localStorageNotAvailable"),p=l.logging.getLogger({name:"corvair.sites.customer-pages.middleware.CustomerFirstVisit",color:{server:135,client:"rgb(127,42,212)"}}),m=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"handleRoute",value:function(e){return s.default.whenReady().then(function(){var e=new o.default;if(!e||e.isAvailable())try{e.getItem(u.FIRST_VISIT_DATE_KEY)||e.setItem(u.FIRST_VISIT_DATE_KEY,new Date)}catch(e){p.error("Failed to store customer first visit",e),c.default.client().increment(d)}else c.default.client().increment(f)}),e()}}]),e}();t.default=m,e.exports=t.default},mPm4:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("m7qm")),i=n(a("M6YI")),o=n(a("i3Ii")),s=r.default.createStoreFactory({init:function(e){this.shouldShow=l(e.views,e.currentState.pageType,e.isValidMerchInterstitial)||u(e.currentState.pageType,e.propertyId),this.shouldShow&&this.setState({hidden:!1,deviceConfig:e.deviceConfig}),this.listenToMany(o.default)},continueInBrowser:function(){this.setState({hidden:!0})}});t.default=s;var l=function(e,t,a){return e>=2&&"ldp"!==t&&a&&!i.default.shouldHideInterstitial()},u=function(e,t){return"ldp"!==e&&t===i.default.getListingFeeMerchPropertyFromLocalStorage()};e.exports=t.default},mfpq:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=a("cMqt"),s=n(a("x3Yk")),l=a("BHWi"),u=a("QP4D"),c=n(a("cXUB")),d=n(a("LftV")),f=n(a("7wbY")),p=o.logging.getLogger({name:"corvair.sites.customer-pages.middleware.PostTourCheckInLoader",color:{server:159,client:"rgb(127,212,212)"}}),m=o.RequestLocalStorage.getNamespace(),h=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"handleRoute",value:function(e){if((0,u.isBrowser)()&&!m().store){var t=(0,c.default)((0,s.default)("/stingray/api/post-tour-checkin/get")).timeout(5e3).then(l.getPayloadOrThrowError).catch(function(e){return p.error("Could not fetch post-tour check-in: "+e.message),null});m().store=new d.default({promise:t})}return e()}},{key:"getElements",value:function(e){var t;return t=m().store?React.createElement(o.RootElement,{listen:m().store.whenResolvedEmitter()},React.createElement(f.default,null)):React.createElement(o.RootElement,null,React.createElement("noscript",null)),e().concat([t])}}]),e}();t.default=h,e.exports=t.default},mhup:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)(["show","hide"]);t.default=n,e.exports=t.default},mrPQ:function(e,t,a){},nBE1:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.onOrientationChange=t.updateListingViewsCookie=void 0;var r=n(a("A3BI")),i=n(a("px8L"));t.updateListingViewsCookie=function(e){if(e){e+="";var t=(0,r.default)("RF_LISTING_VIEWS"),a=t?t.split("."):[],n=a.indexOf(e);n>=0&&a.splice(n,1),a.unshift(e),a.length>20&&(a.length=20);var i=a.join(".");(0,r.default)("RF_LISTING_VIEWS",i,{path:"/",expires:1460,domain:g_cookieDomain})}};t.onOrientationChange=function(e){i.default.trackImpression(i.default.impressions.MOBILE_WEB_LDP_ORIENTATION_CHANGE,{new_orientation:e?"landscape":"portrait"})}},"nP+7":function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("OvAC")),o=r(a("SDJZ")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("T1e2")),c=r(a("NToG")),d=r(a("eef+")),f=r(a("ma35")),p=n(a("YAhj")),m=a("G4xM"),h=r(a("72T9")),g=r(a("8Jek")),_=r(a("W0B4")),v=r(a("lQoP")),y=r(a("LAaD")),S=r(a("4ppV")),E=r(a("94Bj")),I=r(a("A3sw"));a("2Bby");var T=["ACTIVE","RECENTLY_SOLD","ACTIVE_RETENTION","ACTIVE_PENDING"].map(function(e){return g_detailsPageType[e]}),C=["ACTIVE","CONTINGENT","SOLD","OFF_MARKET"].map(function(e){return g_searchStatuses[e]}),b=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e)))._ctaButtonHandler=a._ctaButtonHandler.bind((0,u.default)(a),a.props.listingId),a._openVideoDialog=a._openVideoDialog.bind((0,u.default)(a),a.props.listingId),a.state={videoDialogOpen:!1},a}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"getComponentDependencies",value:function(){return{dependencies:["contactBoxInfo","addressSectionInfo","pageType","listingId"]}}},{key:"shouldRenderComingSoonListingCTA",value:function(e,t,a){var n=e&&e.shouldShowComingSoonCTA,r=Boolean((0,h.default)(m.COMING_SOON_CONTACT_BOX_CTA)),i=C.indexOf(t.searchStatus)>=0,o=T.indexOf(a)>=0;return i&&o&&(r||n)}},{key:"propTypes",get:function(){return{contactBoxInfo:_.default.shape({listingAgentFromListingStatsEmailId:_.default.number,shouldShowComingSoonCTA:_.default.bool.required,userFullName:_.default.string}),addressSectionInfo:_.default.shape({searchStatus:_.default.number.required}),listingId:_.default.number.required,pageType:_.default.number.required}}}]),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,a=e.contactBoxInfo,n=e.addressSectionInfo,r=e.pageType;if(!t.shouldRenderComingSoonListingCTA(a,n,r))return null;var i=this._buildVideoDialog(),o=E.default.getVariant(I.default),s="".concat(g_imageServerUrl,o&&"Control"!==o?"/images/coming-soon/coming-soon-cta-video.png":"/images/coming-soon/coming-soon-cta-card.png"),l=(0,g.default)({"cta-image":!o||"Control"===o,"cta-image-video":o&&"Control"!==o}),u=this.props.contactBoxInfo&&this.props.contactBoxInfo.userFullName||"Agents",c=o&&"Video_Learn_More"===o?"Learn More":"Add a Coming Soon Listing";return p.default.createElement(y.default,{section:"coming_soon_contact_box",target:null,eventDetails:{listing_id:this.props.listingId}},p.default.createElement("div",{className:"ComingSoonListingCTA"},p.default.createElement("div",{className:"cta-header"},p.default.createElement("p",null,u,":"),p.default.createElement("p",null,"Get More Buyers")),p.default.createElement("div",{className:l},p.default.createElement("a",{onClick:this._openVideoDialog},p.default.createElement("img",{src:s}),i)),p.default.createElement("div",{className:"cta-message"},p.default.createElement("p",null,"Post your next listing as Coming Soon."),p.default.createElement("p",null,"We'll feature you and your contact info."),p.default.createElement("p",null,"Best of all, it's free.")),p.default.createElement("div",{className:"cta-button-container"},p.default.createElement(f.default,{type:"primary",className:"cta-button",onClick:this._ctaButtonHandler},c))))}},{key:"componentDidMount",value:function(){this.props.contactBoxInfo.listingAgentFromListingStatsEmailId&&(0,h.default)(m.COMING_SOON_CONTACT_BOX_CTA,this.props.contactBoxInfo.listingAgentFromListingStatsEmailId,{expires:60,path:"/"})}},{key:"_ctaButtonHandler",value:function(e){var t,a=(t={},(0,i.default)(t,v.default.TRACKGA,!0),(0,i.default)(t,"listing_id",e),t);v.default.trackClick("coming_soon_contact_box","add_coming_soon_button",a),window.location="/coming-soon"}},{key:"_buildVideoDialog",value:function(){var e=this,t=E.default.getVariant(I.default);if(!t||"Control"===t)return null;var a=.8*window.innerWidth,n=9*a/16;return n>window.innerHeight&&(n=.8*window.innerHeight),this.state.videoDialogOpen?p.default.createElement(S.default,{title:"Get More Buyers with Coming Soon",close:function(){return e.setState({videoDialogOpen:!1})},transitionAppear:!0},p.default.createElement("iframe",{className:"section-video",frameBorder:"0",width:a,height:n,src:"https://www.youtube.com/embed/I241dXIYmq0?autoplay=1",allow:"autoplay; encrypted-media",allowFullScreen:!0})):null}},{key:"_openVideoDialog",value:function(e){var t={listing_id:e};v.default.trackClick("coming_soon_contact_box","video_button",t),this.setState({videoDialogOpen:!0})}}]),t}(p.Component);t.default=b,e.exports=t.default},nTNT:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("NToG")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("eef+")),c=n(a("mXGw")),d=r(a("W0B4")),f=r(a("/yzG")),p=r(a("94Bj")),m=r(a("LDFp")),h=r(a("YI1w"));function g(e){return"Variant"===(p.default&&p.default.getVariant(h.default))?null:c.default.createElement("p",{className:"caption font-color-gray-light font-size-smaller"},e.marketingExplanation)}a("8lU5"),m.default.ensure(h.default);var _=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"AvmClaimHomeButton"},c.default.createElement(f.default,{onClick:this.props.onClick,subscribeButtonType:this.props.subscribeButtonType,showIcon:this.props.showIcon,label:this.props.label,isClaimedHome:this.props.isClaimedHome,navigateOnClick:this.props.navigateOnClick,navigateToSellerConsultFormOnClick:this.props.navigateToSellerConsultFormOnClick,suppressPostJoinSections:this.props.suppressPostJoinSections,source:this.props.source,registrationReason:this.props.registrationReason,overrideToFullWidth:this.props.fullWidthButton,rfTestId:this.props.rfTestId,sellerConsultFormData:this.props.sellerConsultFormData}),this.props.showCaption&&c.default.createElement(g,{marketingExplanation:this.props.marketingExplanation,isClaimedHome:this.props.isClaimedHome}))}}],[{key:"propTypes",get:function(){return{subscribeButtonType:d.default.string,showIcon:d.default.bool,showCaption:d.default.bool,isClaimedHome:d.default.bool,onClick:d.default.func,label:d.default.shape({claimed:d.default.string,claimedRecently:d.default.string,claimedHovered:d.default.string,unclaimed:d.default.string,unclaimedHovered:d.default.string}),marketingExplanation:d.default.string,fullWidthButton:d.default.bool,navigateOnClick:d.default.bool,navigateToSellerConsultFormOnClick:d.default.bool,suppressPostJoinSections:d.default.bool,source:d.default.number,registrationReason:d.default.object,rfTestId:d.default.string,sellerConsultFormData:d.default.shape({propertyId:d.default.number,listingId:d.default.number})}}},{key:"defaultProps",get:function(){return{showIcon:!1,showCaption:!1,label:{claimed:"View Owner Dashboard",claimedRecently:"View Owner Dashboard",claimedHovered:"View Owner Dashboard",unclaimed:"Im the Owner",unclaimedHovered:"Im the Owner"},marketingExplanation:"Track this homes value in our Home Report email.",fullWidthButton:!1,navigateOnClick:!1,navigateToSellerConsultFormOnClick:!1,suppressPostJoinSections:!1,source:g_claimHomeSource.UNKNOWN,registrationReason:g_registrationReason.CLAIM_HOME,rfTestId:"avmHomeReportSubscribeButton"}}}]),t}(c.Component);t.default=_,e.exports=t.default},o5Zt:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("nxTg")),o=r(a("LDFp")),s=r(a("m7qm")),l=r(a("72T9")),u=r(a("luvc")),c=r(a("1RMg")),d=n(a("SH7f")),f=r(a("M6YI")),p=r(a("Uq5t")),m=r(a("cuvU")),h=r(a("io1H")),g=r(a("NyWz")),_=r(a("lQoP")),v=r(a("cXUB"));o.default.ensure(a("21KY"),a("6kvq"));var y=s.default.createStoreFactory({listenables:[p.default],init:function(e){var t=this;if(this.shouldShow=S(e.views),this.shouldShow){var a=v.default.all([e.addressSectionInfo,e.mediaBrowserInfo]).then(function(a){var n=(0,i.default)(a,2),r=n[0],o=n[1];t._setContextualSectionInfo(r,o,e.currentState)}),n=(0,u.default)("google-play-store")?"android":"ios";this.setState({hidden:!1,propertyId:e.propertyId,os:n,pageType:e.currentState.pageType,bottomImageUrl:I(n,e.deviceConfig),deviceConfig:e.deviceConfig,ready:a})}},continueInApp:function(){var e=new g.default({os:this.state.os,branchApiKey:h.default.get("branchio.api_key"),environmentName:h.default.get("environmentName")}),t="ldp"===this.state.pageType?this.state.pageType:"sdp-pdp",a=this.state.isContextual?"contextual-":"",n={channel:"mobile-web-organic",campaign:"Variant"===c.default.getVariant(c.default.feature.MW_INTERSTITIAL_SHEET_TEST)?"sheet-interstitial-".concat(t,"-").concat(this.state.os):"seo-".concat(a,"interstitial-").concat(t,"-").concat(this.state.os,"-2-view"),tags:[t]},r=e.getPropertyDeepLink(this.state.propertyId,d.getCurrentUrl(),n);_.default.flushRiftEvents(),window.location.href=r},continueInBrowser:function(){this.setState({hidden:!0})},_setContextualSectionInfo:function(e,t,a){if(!e||!t||!a)return null;var n="ldp"===a.pageType,r=C(e.priceInfo),i=b(e.streetAddress),o=A(e),s=k(t,n);r&&i&&o&&s?this.setState({hidden:!1,isContextual:!0,contextualSectionInfo:{price:r,streetAddress:i,cityStateZip:o,heroShotUrl:s,beds:e.beds,baths:e.baths},bottomImageUrl:null}):this.setState({hidden:!1})}});t.default=y;var S=function(e){return c.default.isOn(c.default.feature.MOBILE_SEO_APP_INTERSTITIAL_PHASE_2)&&"Variant"===c.default.getVariant(c.default.feature.MOBILE_SEO_APP_INTERSTITIAL_PHASE_2)&&E()&&e>=2&&!f.default.shouldHideInterstitial()&&!/forceNoInterstitial/i.test(d.getCurrentUrl())},E=function(){return((0,u.default)("ios-app-store")||(0,u.default)("google-play-store"))&&!(0,u.default)("ios-web-view")&&!(0,u.default)("android-web-view")&&"true"!==(0,l.default)("RF_HAS_IOS_APP")&&!/\bSilk\b/.test(d.getRequestUserAgent())&&!/Windows Phone/i.test(d.getRequestUserAgent())},I=function(e,t){var a="iPhone6@2x.png",n=t===g_deviceConfiguration.TABLET;return"android"===e?a=n?"android-tablet@2x.jpg":"n5@2x.png":n&&(a="iPad@2x.jpg"),"url(".concat(g_imageServerUrl,"/images/search/apps/interstitial/").concat(a,")")},T=function(e,t){var a=e;return a.length>t&&(a=a.substring(0,t-3)+"..."),a},C=function(e){return e&&e.amount&&1===e.displayLevel?T(m.default.dollars(e.amount),14):null},b=function(e){return e&&e.addressDisplayLevel&&1===e.addressDisplayLevel.displayLevel&&e.assembledAddress?T(e.assembledAddress,24):null},A=function(e){var t=e.city,a=e.state,n=e.zip;return t&&a&&n?T("".concat(t,", ").concat(a," ").concat(n),30):null},k=function(e,t){var a=e.displayType;if(t&&1===a||!t&&a<3){var n;if(e.photos.length>0&&e.photos[0].photoUrls)n=e.photos[0].photoUrls.nonFullScreenPhotoUrl;else n=e.streetView.streetViewUrl;return n}return null};e.exports=t.default},o8GF:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.addOnOrientationChangeListener=void 0;var r=a("uKuZ"),i=n(a("Pe14")),o=[],s=!1;t.addOnOrientationChangeListener=function(e){"undefined"!=typeof window&&(s||(window.addEventListener("resize",(0,i.default)(l,100),{passive:!0}),s=!0),o.push(e))};var l=function(){var e=(0,r.isLandscapeOrientation)(!0);o.forEach(function(t){return t(e)})}},oD2G:function(e,t,a){},oDev:function(e,t,a){},ojJ9:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("NToG")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("eef+")),c=n(a("mXGw")),d=r(a("W0B4")),f=r(a("8Jek")),p=a("DyRb"),m=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:(0,p.getClassSet)({contactBoxTabbedNavigation:!0},this.props)},c.default.createElement("div",{className:(0,f.default)({firstTabContainer:!0,active:0===this.props.position})},c.default.createElement("div",{onClick:this.handleClick.bind(this,0),className:"firstTab"},this.props.firstTabLabel),c.default.createElement("div",{className:"bar"})),c.default.createElement("div",{className:(0,f.default)({secondTabContainer:!0,active:1===this.props.position})},c.default.createElement("div",{onClick:this.handleClick.bind(this,1),className:"secondTab"},this.props.secondTabLabel),c.default.createElement("div",{className:"bar"})),c.default.createElement("div",{className:"clear"}))}},{key:"handleClick",value:function(e){e!==this.props.position&&((0,p.trackClicks)("partner_contact_box",[e?this.props.secondTabRiftTarget:this.props.firstTabRiftTarget]),this.props.goToIndex(e))}},{key:"fireDisplayEvents",value:function(){(0,p.trackImpressions)("partner_contact_box",[this.props.firstTabRiftTarget,this.props.secondTabRiftTarget])}}],[{key:"displayName",get:function(){return"ContactBoxTabbedNavigation"}},{key:"propTypes",get:function(){return{classes:d.default.arrayOf(d.default.string),firstTabLabel:d.default.string,secondTabLabel:d.default.string,firstTabRiftTarget:d.default.string,secondTabRiftTarget:d.default.string,position:d.default.number,isDisplayed:d.default.bool}}},{key:"getDefaultProps",get:function(){return{classes:[],firstTabLabel:"",secondTabLabel:"",position:0}}}]),t}(c.Component);t.default=m,e.exports=t.default},olno:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("nxTg")),i=a("G4xM"),o=a("3sh8"),s=n(a("8Llx")),l=a("m7qm"),u=a("EFMV"),c=a("6KVX"),d=a("x6JC"),f=a("diFG"),p=a("9va6"),m=a("cMqt").ReactServerAgent,h=a("wIt4").doObjectGraph;e.exports=l.createStoreFactory({listenables:f,noContactBoxExperimentName:"noCBExperimentParams",init:function(e){this.setState(e)},onReceivedContactBoxInfo:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={},r=this.state.pageExperimentInfo||(0,i.getConfigValueForKey)(i.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo),l=r.omdpHigherDescriptionExperimentInfo,c=void 0===l?{}:l;if(n.omdpHigherDescriptionExperimentInfo=c,n.hasRefund=this._hasRefund(e),n.tourable=this._isTourable(e),this.state.deviceConfig===g_deviceConfiguration.PHONE||this.state.isDPonMap||(t?n.tourable||(n.canFloat=e.servicePolicy===g_servicePolicies.NON_TOURABLE_PRE_MARKET,n.dtpCanFloat=!1):(n.canFloat=!0,n.dtpCanFloat=!1)),n=u(this.state,{$merge:n}),this.setState(n),t&&a){(0,o.createLDPViewsCookie)();var d=s.default.isLoggedIn();(0,o.updateNumViewsOnLDP)(a,d)}},onRenderedDateTimePickerAndContactBox:function(e){if(this.state.deviceConfig!==g_deviceConfiguration.PHONE&&!this.state.isDPonMap){var t=this.state;null==t.canFloat&&(t.canFloat=this.sideBarFitsInViewport(),t.canFloat||(t.dtpCanFloat=!0),e||c.trackImpression(c.impressions.SDP_PDP_FLOATING_AGENT_CONTACT_BOX,d.getRiftParams(t,e)),this.setState(t))}},onRetrieveBinWithExistingTours:function(e,t){var a=this;if(!p.isEmpty(t)&&e){this.existingTours=t;var n=p.map(t,function(e){return e.tourId});m.post("/stingray/tours/bookitnow/api/getListingCanBeAddedToExistingTours").type("form").send({existingTourIds:n,currentListingId:e}).then(function(e){return a.processBinData(e).bind(a)}).fail(function(e){throw e})}},processBinData:function(e){if(!e||!e.body||e.body.resultCode!==g_apiResultCode.NO_ERROR){var t=e&&e.body&&e.body.errorMessage||"Could not calculate if we can extend tours";throw new Error(t)}var a=h()(e.body.payload).allAddHomesWithBin,n=this.state;n.hideAddHomesSpinner=!0;var i=this.processCanAddToExistingTours(a),o=(0,r.default)(i,2),s=o[0],l=o[1];n.canExtendAtLeastOneTour=s,n.binnableToursList=l,this.setState(n)},processCanAddToExistingTours:function(e){var t={},a=!1;e.forEach(function(e){t[e.tourId]=e.canExtend,e.canExtend&&(a=!0)});var n=[];return this.existingTours.forEach(function(e){var a=e.tourId;t[a]&&n.push(e)}),[a,n]},setExperimentRiftParamsOnState:function(e,t){var a={};a[e]=t,a=u(this.state,{$merge:a}),this.setState(a)},_isTourable:function(e){var t=e&&e.servicePolicy&&g_servicePolicies.idToObj[e.servicePolicy];return t&&null!=t.tourWithAgentType},_hasRefund:function(e){return e&&e.refund?null!=e.refund&&e.refund>0:!!(e&&e.experienceData&&e.experienceData.refund)&&(null!=e.experienceData.refund&&e.experienceData.refund>0)},sideBarFitsInViewport:function(){var e=!1;document&&this.state.deviceConfig!==g_deviceConfiguration.PHONE&&!this.state.isDPonMap&&(document.documentElement.clientHeight>=document.getElementById("sideBarContent").clientHeight&&(e=!0));return e}})},ov5i:function(e,t,a){},pBXq:function(e,t,a){"use strict";var n=a("vdEC");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initializeXDPBaseRiftTracker",{enumerable:!0,get:function(){return r.initializeXDPBaseRiftTracker}}),t.default=void 0;var r=n(a("t3IY")),i=r.default;t.default=i},pCn5:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(a("gki9")),i=n(a("mXGw")),o=n(a("8Jek"));n(a("W0B4"));function s(e){var t=(0,o.default)((0,r.default)({HomeControlButton:!0},e.wrapperClassSet)),a=(0,o.default)((0,r.default)({clickable:!0,button:!e.simple,"tertiary-alt":!e.simple},e.buttonClassSet)),n=(0,o.default)({"dp-subtext":e.simple,"pill-label":!e.simple,"font-size-smaller":!e.simple});return i.default.createElement("div",{className:t},e.flyout?e.flyout:null,i.default.createElement("div",{"data-rf-test-name":e.rfTestName,onClick:function(t){"function"==typeof e.onClick&&e.onClick(t)},onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut},i.default.createElement("div",{role:"button",title:e.label,"aria-pressed":e.toggledActive,tabIndex:"0",className:a,"data-rf-test-name":"homeControlButton"},e.children),i.default.createElement("div",{className:n},e.label)))}s.displayName="HomeControlButton",s.propTypes={},s.defaultProps={wrapperClassSet:{},buttonClassSet:{}},e.exports=t.default},pQu4:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("m7qm")),i=n(a("KaCs")),o=a("k5EC");e.exports=r.default.createStoreFactory({listenables:[i.default],init:function(){var e={currentFullScreenComponent:o.FullScreenComponentName.Components.DP};this.setState(e)},onSetCurrentFullScreenComponent:function(e){this.setState({currentFullScreenComponent:e})}})},pXYl:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("Nwge")),i=n(a("LDFp"));i.default.ensure(a("tTYd"));var o=a("pBXq").default,s=(0,r.default)(new o,{name:"BannerRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{REBNY_CENSORED_BANNER:{section:"rebny_censored_banner",target:null,expectedParams:["censored_status"]}},clicks:{SIGN_IN_LINK:{section:"rebny_censored_banner",target:"sign_in_link"},JOIN_LINK:{section:"rebny_censored_banner",target:"join_link"},REENTER_PASSWORD_LINK:{section:"rebny_censored_banner",target:"reenter_password_link"},ACCEPT_TOS_LINK:{section:"rebny_censored_banner",target:"accept_tos_link"},VERIFY_EMAIL_LINK:{section:"rebny_censored_banner",target:"verify_email_link"},UNLOCK_CENSORED_BANNER:{section:"rebny_censored_banner",target:"censored_banner"}}});e.exports=s},pdMd:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.getUrgencyWidgetToDisplay=function(e,t,a,n){if(!g_servicePolicy.idToObj[n.servicePolicy].tourWithAgentType)return o.URGENCY_WIDGET_TYPE.NONE;if(y(e,t))return o.URGENCY_WIDGET_TYPE.HOT_HOME;if(function(e){if("desktop"===(0,d.getCurrentDeviceType)())return e.isPopular;return e.isPopular&&h(e.popularityMessagingOnMobileWebExperimentEligibility)}(a))return o.URGENCY_WIDGET_TYPE.POPULAR;return o.URGENCY_WIDGET_TYPE.NONE},t.isEligibleForMobileWebPopularityExperiment=m,t.isVariantOfMobileWebPopularityExperiment=h,t.shouldShowUrgencyTourTimes=function(e,t,a){var n=t.popularityInfo,r=t.datePickerInfo&&t.datePickerInfo.nextTourDisplayTimes;if(!r||!r.length)return!1;if(a&&a.getAgentType()===g_agentType.CONNECT)return!1;switch(e){case o.URGENCY_WIDGET_TYPE.POPULAR:return g(n);case o.URGENCY_WIDGET_TYPE.HOT_HOME:return!0;default:return!1}},t.shouldShowTimeTilesInPopularityWidget=g,t.firePopularityMessageOnMobileWebExperimentStartEvent=function(e){if("desktop"!==(0,d.getCurrentDeviceType)()&&e&&e.isEligible){var t=e.gaExperimentId,a=new u.default;a.initialize({experiment:f.default,gaExperimentId:t}),c.default.trackImpression("popular_message_experiment",null,{device_category:"mobile"})}},t.isEligibleForHotHomeUpdateExperiment=_,t.isVariantOfHotHomeUpdateExperiment=v,t.shouldShowOldHotHomeExperienceOnDesktop=function(e){return"desktop"===(0,d.getCurrentDeviceType)()&&!v(e)},t.fireHotHomesUpdateExperimentStartEvent=function(e){if(e&&e.isEligible){var t=e.gaExperimentId,a=new u.default;a.initialize({experiment:p.default,gaExperimentId:t}),c.default.trackImpression("hot_homes_experiment",null)}},t.shouldDisplayHotHomesBanner=y,t.redirectToTourCheckout=function(e,t){if(!e)return null;e&&e.getAgentType()===g_agentType.CONNECT?s.default.redirectForPartnerTour(t):s.default.redirectToScheduler(t)},t.handleSelfTourClick=function(e,t,a){var n=a===o.URGENCY_WIDGET_TYPE.POPULAR?"popular_message":"hot_homes",r=a===o.URGENCY_WIDGET_TYPE.POPULAR?g_inquirySource.LDP_POPULARITY_SELF_TOUR:g_inquirySource.LDP_HOT_HOMES_SELF_TOUR;c.default.trackClick(n,"self_tour_link",{listing_id:t,is_redfin:e}),l.default.showDirectAccessDialog(r)};var r=n(a("LDFp")),i=n(a("1RMg")),o=a("uMF4"),s=n(a("WxCX")),l=n(a("EQKR")),u=n(a("7SUW")),c=n(a("lQoP")),d=a("osI4"),f=n(a("sUIU")),p=n(a("xnjp"));function m(e){return!!e&&e.isEligible}function h(e){return m(e)&&"Control"!==i.default.getVariant(e.feature)}function g(e){if(!e)return!1;var t="desktop"===(0,d.getCurrentDeviceType)(),a=h(e.popularityMessagingOnMobileWebExperimentEligibility)&&e.isFirstTour;return t||a}function _(e){return!!e&&e.isEligible}function v(e){return _(e)&&"Control"!==i.default.getVariant(e.feature)}function y(e,t){var a="desktop"===(0,d.getCurrentDeviceType)()||v(t.hotHomesUpdateExperimentEligibility);return function(e){var t=e.hotnessInfo;if(!t)return!1;return t.hasOwnProperty("isHot")&&t.isHot}(e)&&i.default.isOn(r.default.HOT_HOMES_DISPLAYABLE)&&e.hotnessInfo&&a}r.default.ensure(a("9/ZL"))},ploZ:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("Nwge")),i=n(a("pBXq")),o=n(a("Edry")),s=(0,r.default)(new i.default,{name:"TourPromptFlyoutRiftTracker",bouncerFlags:[o.default],trackAllEventsInGA:!1,impressions:{TOUR_PROMPT_EXPERIMENT_ELIGIBLE:{section:"ldp_tour_prompt_experiment_eligible",target:null},TOUR_PICKER_FLYOUT:{section:"tour_picker",target:"tour_picker_flyout"},STICKY_FOOTER_FLYOUT:{section:"sticky_footer",target:"schedule_tour_flyout"}},clicks:{TOUR_PICKER_FLYOUT_CLICK:{section:"tour_picker",target:"tour_picker_flyout_open_button"},TOUR_PICKER_FLYOUT_DISMISS:{section:"tour_picker",target:"tour_picker_flyout_dismiss_cta"},STICKY_FOOTER_FLYOUT_CLICK:{section:"sticky_footer",target:"schedule_tour_flyout_open_button"},STICKY_FOOTER_FLYOUT_DISMISS:{section:"sticky_footer",target:"schedule_tour_flyout_dismiss_cta"}},trackImpressionWithDefaults:function(e,t,a){this.trackImpression(e,t,a)}});t.default=s,e.exports=t.default},pnIS:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.extractDestinationRegReason=function(e){if(e===o.EDIT_FACTS)return g_registrationReason.EDIT_HOME_FACTS;if(e===o.PHOTO_MANAGER)return g_registrationReason.EDIT_HOME_PHOTOS;if(e===o.FACTS_CHECK||e===o.CREATE_ESTIMATE)return g_registrationReason.OWNER_ESTIMATE;return g_registrationReason.EDIT_HOME_FACTS},t.buildDetailsPageUrl=t.buildOwnerDashboardPageUrl=t.buildFactCheckPageUrl=t.buildCreateEstimatePageUrl=t.buildPhotoManagerPageUrl=t.buildEditFactsPageUrl=t.buildVerificationPageUrl=t.DESTINATIONS=t.QUERY_PARAMS=void 0;var r=n(a("8kd7")),i={EPOSTCARD_SUBSCRIBE_SOURCE:"ess",CLAIM_HOME_SOURCE:"chs",ENTRYPOINT_CONTEXT:a("R8lb").REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM};t.QUERY_PARAMS=i;var o={EDIT_FACTS:"edit-facts",PHOTO_MANAGER:"photo-manager",FACTS_CHECK:"facts-check",CREATE_ESTIMATE:"create-estimate"};t.DESTINATIONS=o;var s=function(e){return Object.keys(e).filter(function(t){return void 0!==e[t]}).filter(function(e){return(0,r.default)(i,e)}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")};t.buildVerificationPageUrl=function(e){var t=e.propertyId,a=e.listingId,n=e.sourcePage,r=e.destination,i=e.queryParams,o="/homeowner-verification/"+t;return a&&(o+="/"+a),n&&(o+="/"+n,r&&(o+="/"+r)),i&&(o+="?"+s(i)),o};t.buildEditFactsPageUrl=function(e){var t=e.propertyId,a=e.sourcePage,n=e.queryParams,r="/edit-facts/"+t;return a&&(r+="/"+a),n&&(r+="?"+s(n)),r};t.buildPhotoManagerPageUrl=function(e){var t=e.propertyId,a=e.listingId,n=e.sourcePage,r=e.queryParams,i="/photo-manager/"+t;return a&&(i+="/"+a),n&&(i+="/"+n),r&&(i+="?"+s(r)),i};t.buildCreateEstimatePageUrl=function(e){return"/owner-estimate/create/"+e.propertyId};t.buildFactCheckPageUrl=function(e){return"/owner-estimate/fact-check/"+e.propertyId};t.buildOwnerDashboardPageUrl=function(e){return"/myredfin/home-dashboard/property/"+e.propertyId};t.buildDetailsPageUrl=function(e){return"/xx/home/"+e.propertyId}},px8L:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("Nwge")),i=n(a("LDFp"));i.default.ensure(a("tTYd"));var o=a("pBXq").default,s=(0,r.default)(new o,{name:"HomeDetailsPageRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],impressions:{MOBILE_WEB_XDP_LOADED:{section:"mobile_web_xdp_loaded",target:null,expectedParams:["is_redfin_listing","num_upcoming_open_houses","is_hot"],trackGA:!1},DESKTOP_XDP_LOADED:{section:"desktop_xdp_loaded",target:null,expectedParams:["is_redfin_listing","num_upcoming_open_houses","is_hot"],trackGA:!1},XDP_LOADED:{section:"xdp_loaded",target:null,trackGA:!1},MOBILE_WEB_LDP_ORIENTATION_CHANGE:{section:"mobile_web_ldp",target:"orientation_change",expectedParams:["new_orientation"],trackGA:!1,trackAll:!0},XDP_CLAIMED_HOME_VIEW:{section:"xdp_view",target:null,expectedParams:["claimed_home","frequently_viewed"],trackGA:!1},SERVICE_INFO:{section:"service_info",target:null,expectedParams:["service_threshold","service_policy","service_region_id","business_market_id"],trackGA:!1},SERVICE_LEVEL:{section:"service_level",target:null,trackGA:!1}}});e.exports=s},pxp0:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("luvc")),i={getDeviceType:function(){return(0,r.default)("screen-size")<r.default.screenSizes.MEDIUM?"mobile":(0,r.default)("screen-size")<r.default.screenSizes.LARGE?"tablet":"desktop"}};t.default=i,e.exports=t.default},q6oj:function(e,t,a){},qQfZ:function(e,t,a){},qfM1:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("NToG")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("eef+")),c=n(a("mXGw")),d=r(a("W0B4")),f=r(a("EFMV")),p=r(a("tGxv")),m=r(a("94Bj")),h=r(a("LDFp")),g=r(a("2nf7")),_=a("DyRb"),v=r(a("F40h"));h.default.ensure(v.default);var y=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"renderGeneralInquiryDialog",value:function(){if(this.props.actionType===g_contactBoxActionType.ASK&&(this.props.inquirySource===g_inquirySource.LDP_CB_GEN_INQUIRY_FORM||this.props.inquirySource===g_inquirySource.SDP_CB_GEN_INQUIRY_FORM||this.props.inquirySource===g_inquirySource.PDP_CB_GEN_INQUIRY_FORM)){var e=this.props.agent&&this.props.agent.getFirstName(),t="Were here to help! "+e+" will get back to you shortly.";return c.default.createElement(this.props.generalInquiryDialog,{inquirySource:this.props.inquirySource,propertyId:this.props.propertyId,title:"Ask "+e+" a question",subtitle:t,agentId:this.props.agent.getId()})}}},{key:"renderSellerConsultForm",value:function(){this.props.showSellerConsultDialogCallback&&this.props.showSellerConsultDialogCallback()}},{key:"renderAAQDialog",value:function(e){this.props.showAAQDialogCallback&&this.props.showAAQDialogCallback(e)}},{key:"render",value:function(){var e={contactBoxButton:!0,button:!0,clickable:!0};return!1===this.props.isPrimaryCta&&(e.primary=!1,e.tertiary=!0),c.default.createElement("div",{ref:"buttonNode",onClick:this.onClick.bind(this),className:(0,_.getClassSet)(e,this.props),"data-rf-test-name":"cbButton"},this.renderGeneralInquiryDialog(),c.default.createElement("span",{className:"buttonIcon"}),c.default.createElement("span",{className:"buttonText"},this.props.primaryText))}},{key:"onClick",value:function(e){var t=e.metaKey||e.ctrlKey||1===e.button,a={text:this.props.riftTextParam,listing_id:this.props.listingId,agent_id:this.props.agent.getId(),star_rating:this.props.agent.getAverageRating(),num_reviews:this.props.agent.getNumReviews(),includes_refund:this.props.sideBarStore.hasRefund,num_closed_deals:this.props.agent.getHomesClosed(),is_partner:this.props.agent.isPartner(),energy_data_variant:m.default.getVariant(v.default)};a[p.default.GA_LABEL]={text:this.props.riftTextParam},this.props.agent.isPartner()&&(a.partner_number=this.props.agentPosition),a.higher_desc_cohort=this.calculateHigherDescriptionCohort();var n=this.props.sideBarStore.noCBExperimentParams||{};if((a=(0,f.default)(a,{$merge:n})).trackGA=!0,(0,_.trackClick)("partner_contact_box","cta_button",a,this.props),this.props.servicePolicy){if(null!==this.props.actionType)if(this.props.actionType===g_contactBoxActionType.CONTACT)!1!==this.props.canCominglePartnerAgents?this.renderAAQDialog(this.props.agent):this.openUrl(this.getViewProfileUrl(),t);else if(this.props.actionType===g_contactBoxActionType.VERIFY_EMAIL)e.preventDefault(),e.stopPropagation(),(new g.default).show();else if(this.props.actionType===g_contactBoxActionType.SELLER_CONSULTATION)this.renderSellerConsultForm();else if(this.props.actionType===g_contactBoxActionType.VIEW_PROFILE)this.openUrl(this.getViewProfileUrl(),t);else if(this.props.actionType===g_contactBoxActionType.PRICE_THIS_HOME){var r="/what-is-my-home-worth?estPropertyId="+this.props.propertyId+"&src=ldp-contactbox";this.openUrl(r,t)}else this.props.actionType===g_contactBoxActionType.ASK?this.props.generalInquiryActions.showDialogForInquirySource(this.props.inquirySource,{agentId:this.props.agent.getId()}):this.props.actionType===g_contactBoxActionType.LIVE_CHAT&&this.props.liveChatWidgetAction.toggleChatDialog(g_inquirySource.DP_CB_LIVE_CHAT)}else setTimeout(function(){window.top.location=this.getViewProfileUrl()}.bind(this),10)}},{key:"openUrl",value:function(e,t){setTimeout(function(){t?window.open(e):window.top.location=e},10)}},{key:"getSellerConsultUrl",value:function(){var e="/why-sell";return e=this.addParamToUrl(e,"inquiryChannel",this.props.inquiryChannel),e=this.addParamToUrl(e,"inquirySource",this.props.inquirySource)}},{key:"getViewProfileUrl",value:function(){var e=this.props.agent.get("profileUrl");return(this.props.serviceRegionId||this.props.dataSourceId&&this.props.mlsId)&&(e+="#agentrec",e=this.addParamToUrl(e,"serviceRegionId",this.props.serviceRegionId),this.props.dataSourceId&&this.props.mlsId&&(e=this.addParamToUrl(e,"dslisting_id",this.props.dataSourceId+":"+this.props.mlsId))),e}},{key:"addParamToUrl",value:function(e,t,a,n){return e+(a||n?"&"+t+"="+a:"")}},{key:"calculateHigherDescriptionCohort",value:function(){return this.props.propertyId?this.props.propertyId%10==0||this.props.propertyId%10==1?"variant":"control":"unknown"}}],[{key:"displayName",get:function(){return"ContactBoxButton"}},{key:"propTypes",get:function(){return{classes:d.default.arrayOf(d.default.string),actionType:d.default.number,presentationType:d.default.number,primaryText:d.default.string,listingId:d.default.number,additionalListingIds:d.default.arrayOf(d.default.number),propertyId:d.default.number,dataSourceId:d.default.number,mlsId:d.default.string,agent:d.default.object,agentPosition:d.default.number,servicePolicy:d.default.number,hasAgentRelationship:d.default.bool,shouldUseAnonToursPathForUser:d.default.bool,agentServiceType:d.default.number,serviceRegionId:d.default.number,agentRequestText:d.default.string,isBuySideAgent:d.default.bool,customerAction:d.default.number,inquirySource:d.default.number,inquiryChannel:d.default.number,shouldSoftAssignAgent:d.default.bool,riftTextParam:d.default.string,isPrimaryCta:d.default.bool,generalInquiryActions:d.default.object,liveChatWidgetAction:d.default.object,TourPopup:d.default.func,sideBarStore:d.default.object,showSellerConsultDialogCallback:d.default.func,showAAQDialogCallback:d.default.func,canCominglePartnerAgents:d.default.bool,generalInquiryDialog:d.default.func,averageResponseTime:d.default.number,isStartAnOfferForPartnerEligible:d.default.bool}}},{key:"getDefaultProps",get:function(){return{classes:[]}}}]),t}(c.Component);t.default=y,e.exports=t.default},qfcJ:function(e,t,a){"use strict";var n=a("vdEC")(a("pK/g"));e.exports=n},qsd1:function(e,t,a){},r5Co:function(e,t,a){},rJp7:function(e,t,a){},rOT4:function(e,t,a){},rTJU:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("eef+")),u=n(a("W0B4")),c=a("mXGw"),d=n(a("ma35")),f=n(a("4ppV")),p=n(a("ux6s")),m=n(a("M6YI"));a("xB5t");var h=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){m.default.setLdpViews(0),m.default.hideForTimePeriod(3)}},{key:"render",value:function(){return this.props.show?React.createElement(f.default,{className:"SaveSearchDrawerDialogInterstitial drawer",closeOnBackgroundClick:!0,close:this.props.actions.overlayClosed,showCloseButton:!1,shouldPreventScrollingDown:!1,transitionAppear:!1},React.createElement("div",{className:"titleSubtitleAndImageContainer"},React.createElement("div",{className:"imageContainer"},React.createElement(p.default,null)),React.createElement("div",{className:"headerAndSubtitleContainer"},React.createElement("div",{className:"headerText font-weight-bold font-size-medium"},this.props.title_text_line_1),React.createElement("div",{className:"subTitle font-size-small font-line-height-spacious"},this.props.title_text_line_2))),React.createElement("div",{className:"buttonContainer"},React.createElement("div",{className:"continueInBrowserButton font-weight-bold"},React.createElement(d.default,{className:"text compact",onClick:this.props.actions.continueToMobileSite},this.props.continue_to_mobile_site_text)),React.createElement("div",{className:"ctaButton"},React.createElement(d.default,{className:"primary compact",onClick:this.props.actions.ctaClicked},this.props.cta_text)))):null}}],[{key:"propTypes",get:function(){return{show:u.default.bool,svg_name:u.default.string,title_text_line_1:u.default.string,title_text_line_2:u.default.string,cta_text:u.default.string,continue_to_mobile_site_text:u.default.string}}},{key:"defaultProps",get:function(){return{show:!1,svg_name:"/images/merch/listingFee/for-sale.png",title_text_line_1:"See new homes first",title_text_line_2:"Sign up and we'll send you homes like this as they hit the market",cta_text:"Send me homes",continue_to_mobile_site_text:"No thanks"}}}]),t}(c.Component);t.default=h,e.exports=t.default},sUNJ:function(e,t,a){},sYmu:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("gki9")),i=n(a("LDFp")),o=a("osI4"),s=n(a("HjEf")),l=n(a("PDxa"));i.default.ensure(a("uTPd"),a("AsTD"),a("iQdB"),a("u4ga"),a("hk6G"),a("XHUI"),a("TnbX"),a("LOBS"));var u=a("7SUW"),c=a("lQoP"),d=a("m7qm"),f=a("1RMg"),p=a("+k5+");e.exports=d.createStoreFactory({listenables:p,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageExperimentInfo,a=void 0===t?{}:t,n=e.deviceConfig,i=e.pageType,o=(0,r.default)({},a,{deviceConfig:n,pageType:i});this.setState(o),this._experimentsInitialized=!1},onInitializeExperiments:function(){this.initializeOMDPHigherDescriptionExperiment(),this.initializeCostOfOwnershipExperiment(),this.initializeHomeOwnerToolsExperiment(),this.initializeDisplayAdsV3Experiment(),this.initializeSchoolSectionExperiment(),this.initializeGAtrackingEventFor_QUALITY_TAGS_ON_SIMILARS_DP(),this.initializeMobileAppNavExperiment(),this.initializeMoveOMDPBrokeragePlacementExperiment(),this._experimentsInitialized=!0},initializeDisplayAdsV3Experiment:function(){f.isOn(f.feature.DP_DISPLAY_ADS_V3)&&u().initialize({experimentId:f.feature.DP_DISPLAY_ADS_V3,gaExperimentId:"shO3i6adRPWNFY-OQyD5Lw"})},initializeGAtrackingEventFor_QUALITY_TAGS_ON_SIMILARS_DP:function(){f.isOn(l.default)&&(this.homeTagsonSimilarSectionsExperimentController||(this.homeTagsonSimilarSectionsExperimentController=new u,this.homeTagsonSimilarSectionsExperimentController.initialize({experiment:l.default,gaExperimentId:"WrG4ATgfQmqWuamEQ8uLig"})))},initializeCostOfOwnershipExperiment:function(){var e=this.state,t=e.pageType,a=e.deviceConfig,n=t===g_detailsPageType.OFF_MARKET||t===g_detailsPageType.RECENTLY_SOLD,r=a===g_deviceConfiguration.PHONE;if((r&&f.isOn(i.default.OMDP_COST_OF_OWNERSHIP_MWEB)||f.isOn(i.default.OMDP_COST_OF_OWNERSHIP_DESKTOP))&&n){var o={experimentId:r?f.feature.OMDP_COST_OF_OWNERSHIP_MWEB:f.feature.OMDP_COST_OF_OWNERSHIP_DESKTOP,gaExperimentId:r?"2TJOUgUWQx6DWwHTFGoaxA":"zfXEP18aRKqW-MMy6poj4g"};(new u).initialize(o);var l=s.default.impressions,c=l.COST_OF_OWNERSHIP_MWEB_START,d=l.COST_OF_OWNERSHIP_DESKTOP_START,p=r?c:d;s.default.trackImpression(p)}},initializeHomeOwnerToolsExperiment:function(){var e=this.state.pageType;e!==g_detailsPageType.ACTIVE&&e!==g_detailsPageType.ACTIVE_PENDING&&f.isOn(i.default.WEB_XDP_HOMEOWNER_TOOLS)&&(new u).initialize({experimentId:f.feature.WEB_XDP_HOMEOWNER_TOOLS,gaExperimentId:"8tdRFs8RQVWPuGNrpwbzpg"})},initializeOMDPHigherDescriptionExperiment:function(){var e=this.state.omdpHigherDescriptionExperimentInfo;e&&e.isEligibleForHigherDescriptionExperiment&&!this.state.pageType!==g_detailsPageType.OFF_MARKET&&c.trackImpression("higher_description_eligible",null,{higher_desc_cohort:e.cohort,device_category:"phone"===(0,o.getCurrentDeviceType)()?"mobile":"desktop"})},initializeSchoolSectionExperiment:function(){f.isOn(f.feature.XDP_AND_REGION_SCHOOLS_UPDATE)&&u().initialize({experimentId:f.feature.XDP_AND_REGION_SCHOOLS_UPDATE,gaExperimentId:""})},initializeSchoolSectionUIExperiment:function(){f.isOn(f.feature.XDP_AND_REGION_SCHOOLS_UI_UPDATE)&&u().initialize({experimentId:f.feature.XDP_AND_REGION_SCHOOLS_UI_UPDATE,gaExperimentId:""})},initializeMobileAppNavExperiment:function(){f.isOn(f.feature.MOBILE_APP_NAVIGATION)&&(u().initialize({experimentId:f.feature.MOBILE_APP_NAVIGATION,gaExperimentId:"WUf6i2ouQRSNVpBcEfVuhQ"}),u().initialize({experimentId:f.feature.MOBILE_APP_NAVIGATION,gaExperimentId:"30xX2xs5QPiTJXdOtg8GZw"}))},initializeMoveOMDPBrokeragePlacementExperiment:function(){var e=this.state,t=e.pageType,a=e.deviceConfig,n=t===g_detailsPageType.OFF_MARKET||t===g_detailsPageType.RECENTLY_SOLD,r=a===g_deviceConfiguration.PHONE;n&&r&&f.isOn(f.feature.MW_OMDP_BROKERAGE_PLACEMENT)&&(u().initialize({experimentId:f.feature.MW_OMDP_BROKERAGE_PLACEMENT,gaExperimentId:"rJZeTNJkTxyy3IR-Btw0Hg"}),c.trackImpression("mw_brokerage_move_up_test_start",null,{trackGA:!0}))}})},sfyK:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("NToG")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("T1e2")),c=r(a("eef+")),d=r(a("gki9")),f=n(a("mXGw")),p=(r(a("W0B4")),a("cMqt")),m=r(a("8Jek")),h=r(a("nbo3")),g=a("aKSz"),_=a("f2dk"),v=r(a("Tt+I")),y=a("gMmw"),S=a("2ENN"),E=r(a("EkBQ")),I=r(a("5p6h")),T=r(a("LAaD")),C=a("e3Al"),b=r(a("zCAw")),A=r(a("CTEv")),k=r(a("y5j8")),N=r(a("xpXP"));a("PHpU");var O=p.logging.getLogger({name:"corvair.sites.customer-pages.pages.merch.components.SaveSearchBannerWidget.index.web",color:{server:73,client:"rgb(42,127,127)"}}),D="cta_button",R="x_out",P=600,w=(0,d.default)({},C.BannerDefaultProps,{riftSection:"save_search_banner_widget",minPricePercent:0,maxPricePercent:0,minBedrooms:0,maxBedrooms:0}),B=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={visible:!e.animateIn,dismissed:!1,riftDetails:(0,d.default)({},e.riftDetails,e.riftParams,{height:e.height})},a.onCtaClicked=function(){var e=this,t=h.default.trackClick(this.props.riftSection,D,this.state.riftDetails);(0,_.showLoginLightboxIfNeeded)({suppressPostJoinSections:!0,view:v.default.formState.REG_FORM,registrationReason:g_registrationReason.SAVE_SEARCH,registrationEntrypointRiftContext:t,refreshAfterLogin:!1}).then(function(){return e.onSaveSearch().delay(1e3)}).catch(function(e){O.error("SaveSearchBannerWidgetStore - invalid save search parameters:",e)})}.bind((0,u.default)(a)),a.onCloseClicked=function(){h.default.trackClick(this.props.riftSection,R,this.state.riftDetails),this.hideBanner()}.bind((0,u.default)(a)),a.onCtaSuccess=function(){I.default.showSuccessNotice({title:"Look for new homes like this in your inbox!"}),this.hideBanner()}.bind((0,u.default)(a)),a.hideBanner=function(){var e=this;this.props.animateIn?(this.setState({visible:!1}),this.props.animateIn&&setTimeout(function(){e.setState({dismissed:!0})},P)):this.setState({visible:!1,dismissed:!0})}.bind((0,u.default)(a)),a.onSaveSearch=function(){var e=this.props,t=e.regionTableId,a=e.regionTypeId,n=e.beds,r=e.zip,i=e.amount,o=e.city,s=e.minPricePercent,l=e.maxPricePercent,u=e.minBedrooms,c=e.maxBedrooms,d=1e4*Math.floor((i-i*s)/1e4)||0,f=1e4*Math.ceil((i*l+i)/1e4)||0,p=n+u>0?n+u:0,m=n+c>0?n+c:0,h={searchParams:{num_beds:p,max_num_beds:m,min_price:d,max_price:f},savedSearches:[],regionName:o||r},g={min_price:d,max_price:f,min_num_beds:p,max_num_beds:m,zip:r,region_id:t||null,region_type:a||null};return(0,S.getSaveSearchName)(h).then(function(e){return(0,y.saveSearch)({name:e,frequency:E.default.FREQUENCY_INSTANT,query:g,createdVia:g_savedSearchCreatedVia.DP_MERCH_SAVE_SEARCH_BANNER})}).then(this.onCtaSuccess).catch(function(e){O.error("SaveSearchBannerWidgetStore - save search failed due to the following error:",e)})}.bind((0,u.default)(a)),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.animateIn&&this.setState({visible:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.copy,r=t.ctaText,i=t.dismissible,o=t.imgSrcUrl,s=t.imgAltText,l=t.riftSection,u=t.onHideCallbacks,c=t.backgroundColor,d=t.header,p=t.animateIn,h=t.ctaType,_=t.height,v=t.minPricePercent,y=t.maxPricePercent,S=t.minBedrooms,E=t.maxBedrooms,I=this.state,C=I.visible,O=I.riftDetails,D=I.dismissed,R=(0,m.default)("SaveSearchBannerWidget","bg-".concat(c),_,a),w=this.onCtaClicked,B=function(){e.onCloseClicked(),u.forEach(function(e){return e()})};return D?null:f.default.createElement(T.default,{section:l,eventDetails:O},f.default.createElement(g.CSSTransitionGroup,{component:"div",className:R,transitionName:"SavedSearchBanner-transition-".concat(_),transitionEnter:p,transitionEnterTimeout:1200,transitionLeave:p,transitionLeaveTimeout:P},C&&f.default.createElement(function(){return f.default.createElement("div",{className:"bannerRow row-center"},f.default.createElement("div",{className:"bannerContent col-12"},o&&f.default.createElement(N.default,{src:o,alt:s}),f.default.createElement("div",{className:"copyAndCTA"},f.default.createElement(A.default,{headerText:d,copyText:n,ctaLinkText:r,onCtaClick:w,ctaInline:"short"===_,minPricePercent:v,maxPricePercent:y,minBedrooms:S,maxBedrooms:E}),r&&"tall"===_&&f.default.createElement(k.default,{type:h,onClick:w},r))))},null),C&&f.default.createElement(function(){return i?f.default.createElement("span",{className:"closeIcon clickable",onClick:B},f.default.createElement(b.default,null)):null},null)))}}]),t}(f.Component);B.displayName="SaveSearchBannerWidget",B.propTypes={},B.defaultProps=w;var x=B;t.default=x,e.exports=t.default},sgmV:function(e,t,a){},tJYC:function(e,t,a){},uKuZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLandscapeOrientation=t.getScreenHeight=t.getScreenWidth=void 0;var n={width:null,height:null},r=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||null===n.width){var t="undefined"!=typeof window?window.innerWidth:0;n.width=t}return n.width};t.getScreenWidth=r;var i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||null===n.height){var t="undefined"!=typeof window?window.innerHeight:0;n.height=t}return n.height};t.getScreenHeight=i;t.isLandscapeOrientation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"undefined"!=typeof window&&i(e)<r(e)}},uMF4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URGENCY_WIDGET_TYPE=void 0;t.URGENCY_WIDGET_TYPE={NONE:"NONE",HOT_HOME:"HOT_HOME",POPULAR:"POPULARITY"}},usTY:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.renderHaveWeMetDialog)return i.default.createElement(u.default,e);return i.default.createElement("div",{className:"aaq-two-input-stage"},i.default.createElement("div",{className:"aaq-two-input-stage-title"},e.inlineHeader),e.headlineError&&i.default.createElement(p.default,{title:"It looks like there is an error.",type:"error"},e.headlineError),i.default.createElement(o.default,{formName:e.formName,className:"aaq-two-input-stage-form"},i.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"email",autofocus:!0},e.fields.email,{onFocus:function(){return e.showBDXExperience?f.default.trackClick(f.default.clicks.ASK_BDX_EMAIL_FIELD_CLICK):d.default.trackClickWithDefaults(d.default.clicks.AAQ_EMAIL_FIELD_CLICK,null,e.isOpendoor)}})),e.showBDXExperience&&function(e){return i.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"zip"},e.fields.zipCode,{onFocus:function(){return f.default.trackClick(f.default.clicks.ASK_BDX_POSTCODE_FIELD_CLICK)}}))}(e),function(e){if(e.showBDXExperience)return i.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"tel",onFocus:function(){return f.default.trackClick(f.default.clicks.ASK_BDX_PHONE_FIELD_CLICK)}},e.fields.optionalPhoneNumber));return i.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"tel",onFocus:function(){return d.default.trackClickWithDefaults(d.default.clicks.AAQ_PHONE_FIELD_CLICK,null,e.isOpendoor)}},e.fields.phoneNumber))}(e),i.default.createElement(l.default,{className:"aaq-two-input-stage-button",type:"primary",formSubmit:!0,onClick:function(){e.showBDXExperience?f.default.trackClick(f.default.clicks.ASK_BDX_CONTACT_INFO_SUBMIT_CLICK):c.default.storeSubmitButtonRiftClick(e.isOpendoor?d.default.trackClickWithDefaults(d.default.clicks.AAQ_CONTACT_INFO_SUBMIT_BUTTON_CLICK,null,!0):d.default.trackClickWithDefaults(d.default.clicks.AAQ_CONTACT_INFO_NEXT_BUTTON_CLICK,null,!1))},disabled:e.shouldDisableSubmit},"Send Question"),i.default.createElement("div",{className:"aaq-two-input-stage-button-terms-of-service"},"You are creating a Redfin account and agree to our ",i.default.createElement("a",{href:"/about/terms-of-use",onClick:function(){return d.default.trackClickWithDefaults(d.default.clicks.AAQ_TERMS_LINK_CLICK,null,e.isOpendoor)},target:"_blank"},"Terms of Use"),"and",i.default.createElement("a",{href:"/about/privacy-policy",onClick:function(){return d.default.trackClickWithDefaults(d.default.clicks.AAQ_PRIVACY_POLICY_LINK_CLICK,null,e.isOpendoor)},target:"_blank"},"Privacy Policy")),e.isOpendoor&&i.default.createElement("div",{className:"aaq-two-input-stage-button-terms-of-service"},"Your message and contact details will be shared with Opendoor so that they can respond to your inquiry.")))};var r=n(a("8VmE")),i=n(a("mXGw")),o=n(a("t/kO")),s=n(a("Xecl")),l=n(a("ma35")),u=n(a("An05")),c=n(a("iDTg")),d=n(a("YqrK")),f=n(a("DT4l")),p=n(a("2Xwv"));a("zKrU"),e.exports=t.default},vi92:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("TlVh"),i=a("cMqt"),o=n(a("RBnj")),s=a("f2dk"),l=n(a("Tt+I")),u=n(a("eJeD")),c=a("gMmw"),d=n(a("EkBQ")),f=n(a("5p6h")),p=n(a("8Llx")),m=n(a("nbo3")),h=n(a("M6YI")),g=i.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.interstitial.SaveSearchMerchInterstitialStore",color:{server:83,client:"rgb(42,212,42)"}}),_=(0,r.createStoreFactory)({init:function(e){if(this.shouldShowDrawer=this.shouldShow(e.views,e.currentState.pageType),this.shouldShowDrawer){m.default.trackImpression("xdp_drawer",null,{experience:"save_search"});var t=o.default.createActions(["continueToMobileSite","ctaClicked","overlayClosed"]);this.setState({show:!0,propertyId:e.propertyId,addressSectionInfo:e.addressSectionInfo,neighborhoodInfo:e.neighborhoodInfo,actions:t}),this.listenTo(t.continueToMobileSite,this.onCloseDrawerClicked),this.listenTo(t.ctaClicked,this.onDrawerCTAClicked),this.listenTo(t.overlayClosed,this.onOverlayClosed),this.listenTo(u.default.closeDialog,this.onCloseLoginDialog)}},shouldShow:function(e,t){return!h.default.shouldHideInterstitial()&&!p.default.isLoggedIn()&&e>=2&&("ldp"===t||"rsdp"===t)},onCloseDrawerClicked:function(){m.default.trackClick("xdp_drawer","close_button",{experience:"save_search"}),this.setState({show:!1})},onOverlayClosed:function(){m.default.trackClick("xdp_drawer","overlay",{experience:"save_search"}),this.setState({show:!1})},onDrawerCTAClicked:function(){m.default.trackClick("xdp_drawer","cta_button",{experience:"save_search"}),this.setState({show:!1}),(0,s.showLoginLightboxIfNeeded)({suppressPostJoinSections:!0,view:l.default.formState.REG_FORM,registrationReason:g_registrationReason.SAVE_SEARCH}).then(this.saveSearch.bind(this))},saveSearch:function(){var e=this.state.addressSectionInfo,t=e&&e.priceInfo?e.priceInfo.amount:null,a=this.state.neighborhoodInfo&&this.state.neighborhoodInfo.neighborhoodStats&&this.state.neighborhoodInfo.neighborhoodStats.primaryRegionInfo&&this.state.neighborhoodInfo.neighborhoodStats.primaryRegionInfo.primaryRegionWithStats?this.state.neighborhoodInfo.neighborhoodStats.primaryRegionInfo.primaryRegionWithStats.regionId:null,n=e?e.beds:null,r=e?e.city:null,i=1e5*Math.floor((t-.15*t)/1e5)||0,o=1e5*Math.ceil((t+.15*t)/1e5)||1e5;o<=1e5&&m.default.trackImpression("xdp_drawer",null,{experience:"save_search",error_msg:"maxPrice set to default value of $100k"});var s={min_price:i,max_price:o,num_beds:n,city:r,region_id:a.tableId||null,region_type:a.regionType||null},l="K",u="K",p=i/1e3,h=o/1e3;return i>=1e6&&(p/=1e3,l="M"),o>=1e6&&(h/=1e3,u="M"),(0,c.saveSearch)({name:"".concat(r," - ").concat(n,"+ beds - $").concat(p).concat(l,"-$").concat(h).concat(u),frequency:d.default.FREQUENCY_INSTANT,query:s,createdVia:g_savedSearchCreatedVia.DP_MERCH_SAVE_SEARCH_BANNER}).then(function(){f.default.showSuccessNotice({title:"Success",message:"Look for new homes in your inbox"})},function(e){f.default.showErrorNotice({title:"Error",message:"Could not save your search"});var t="SaveSearchMerchBannerStore - Save search failed due to the following error: ".concat(e.message);m.default.trackImpression("xdp_drawer",null,{experience:"save_search",result:"failure",error_msg:t}),g.error(t)})}});t.default=_,e.exports=t.default},vrcu:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.formatDollarAmt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=isFinite(e)?+e:0,a=Math.abs(t),n="",r=1,i=0;a>999999?(n="M",r=1e6,i=Math.max(0,8-Math.floor(Math.log(a)*Math.LOG10E))):a>9999&&(n="K",r=1e3);return(t<0?"-":"")+"$"+(+(a/r).toFixed(i)).toLocaleString()+n},t.guessMortgageBalance=t.calculateHomeSaleProceeds=t.nonRedfinListingFeeForLocation=t.minListingFeeForLocation=t.listingFeeForLocation=t.hasDataForBusinessMarket=t.getLocationLabel=t.locations=t.getMarketMinimum=void 0;var r=n(a("As4l")),i=n(a("5u71")),o=n(a("/+pK")),s=n(a("PgSJ")),l=n(a("x3Yk")),u=n(a("cXUB")),c=a("cMqt").logging.getLogger({name:"corvair.sites.customer-pages.util.HomeSaleCalculatorUtil",color:{server:143,client:"rgb(127,127,42)"}}),d={default_values:{label:"National Average",buyAgent:.03,sellAgent:.03,redfinAgent:.015,redfinMinFee:4500,exciseTax:function(e){return.0056*e},title:function(e){return.0018*e+454.88},escrow:function(){return 702.08},otherFees:927.78},18:{label:"Boston",buyAgent:.025,sellAgent:.025,redfinAgent:.015,redfinMinFee:5500,exciseTax:function(e){return.00456*e},title:function(){return 0},escrow:function(){return 0},otherFees:1e3},12:{label:"Chicago",buyAgent:.025,sellAgent:.025,redfinAgent:.01,redfinMinFee:3e3,exciseTax:function(e){return.0015*e},title:function(){return 0},escrow:function(){return 0},otherFees:1500},5:{label:"Los Angeles",buyAgent:.025,sellAgent:.025,redfinAgent:.015,redfinMinFee:5500,exciseTax:function(e){return.0056*e},title:function(e){return.0018*e+411.48},escrow:function(e){return.00175*e+200},otherFees:500},4:{label:"Orange County",buyAgent:.025,sellAgent:.025,redfinAgent:.015,redfinMinFee:5500,exciseTax:function(e){return.0011*e},title:function(e){return.0019*e+469.28},escrow:function(e){return.0025*e},otherFees:1500},3:{label:"San Diego",buyAgent:.025,sellAgent:.025,redfinAgent:.015,redfinMinFee:5500,exciseTax:function(e){return.0011*e},title:function(e){return.002*e+519.75},escrow:function(e){return.0015*e+300},otherFees:1500},2:{label:"San Francisco",buyAgent:.025,sellAgent:.025,redfinAgent:.015,redfinMinFee:5500,exciseTax:function(e){return(e>=1e6?.0075:.0068)*e},title:function(){return 0},escrow:function(){return 0},otherFees:1e3},1:{label:"Seattle",buyAgent:.03,sellAgent:.03,redfinAgent:.01,redfinMinFee:4e3,exciseTax:function(e){return.0178*e},title:function(e){return.0016*e+419},escrow:function(e){return.002*e+375},otherFees:200},27:{label:"Virginia",buyAgent:.03,sellAgent:.03,redfinAgent:.01,redfinMinFee:4e3,exciseTax:function(e){return.001*e},title:function(){return 0},escrow:function(){return 300},otherFees:650},78:{label:"Washington DC",buyAgent:.025,sellAgent:.03,redfinAgent:.01,redfinMinFee:4e3,exciseTax:function(e){return(e>=4e5?.0145:.011)*e},title:function(){return 0},escrow:function(){return 550},otherFees:500}};t.getMarketMinimum=function(e){return null==e||"default_values"===e?u.default.resolve(d.default_values.redfinMinFee):(0,u.default)((0,l.default)("/stingray/serviceRequest/web/homeSaleCalculator/fees?marketId=".concat(e))).timeout(1500).then(function(e){var t=(e||{}).body||{},a=t.errorMessage,n=t.payload;if("Success"!==a||!n)throw Error(a||"Failed to fetch market minimum information");return n}).catch(function(e){return c.error("Error fetching market minimum information",e),d.default_values.redfinMinFee})};var f=function(e,t){var a=.015,n=d[e]||(0,i.default)(d.default_values),r=g_dbBackedConfigKeys.SELL_TO_BUY_INCENTIVE_DISPLAY_MARKETS,l=Number(e);return s.default.isNumeric(l)&&-1===o.default.get(r).indexOf(l)&&(a=.01),n.redfinAgent=a,n.redfinMinFee=t||d.default_values.redfinMinFee,n},p=(0,r.default)(Object.keys(d),function(e){return"default_values"===e?"!":d[e].label});t.locations=p;t.getLocationLabel=function(e){return f(e).label};t.hasDataForBusinessMarket=function(e){return!!d[e]};t.listingFeeForLocation=function(e){return 100*f(e).redfinAgent};t.minListingFeeForLocation=function(e){return f(e).redfinMinFee};t.nonRedfinListingFeeForLocation=function(e){return 100*f(e).sellAgent};t.calculateHomeSaleProceeds=function(e){var t=e.homePrice,a=e.mortgageBalance,n=e.location,r=e.marketMinimum,i=f(n,r),o=t*i.buyAgent,s=t*i.sellAgent,l=t*i.redfinAgent,u=i.redfinMinFee>l,c=u?i.redfinMinFee:l,d=i.exciseTax(t),p=i.title(t),m=i.otherFees,h=i.escrow(t),g=d+p+h+m,_=t-a-o-g,v=_-s,y=_-c,S=Math.max(s-c,0);return{buyAgentAmt:o,sellAgentAmt:s,sellAgentAmtRedfin:c,usingRedfinMinFee:u,sellAgentPctRedfin:100*i.redfinAgent,buyAgentPct:100*i.buyAgent,sellAgentPct:100*i.sellAgent,exciseTax:d,title:p,escrow:h,otherFees:m,totalFeesAndTaxes:g,traditionalProceeds:v,redfinProceeds:y,redfinSavings:S}};t.guessMortgageBalance=function(e){var t=e.lastSalePrice,a=e.lastSaleDate,n=void 0===a?(new Date).getTime():a,r=e.granularity,i=void 0===r?1e3:r,o=e.currentDate,s=void 0===o?(new Date).getTime():o;if(!t)return 0;var l=(s-n)/315576e5,u=Math.floor(12*l),c=(.8*t*(Math.pow(1+.03875/12,360)-Math.pow(1+.03875/12,u))/(Math.pow(1+.03875/12,360)-1)/i).toFixed()*i;return Math.max(c,0)}},w3Q5:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.validateAndFormatEstimateRange=t.inRentalEstimateDPExperiment=t.isRentalEstimateEligible=void 0;var r=n(a("2SgN")),i=n(a("X8OU")),o=n(a("1RMg")),s=n(a("/+pK")),l=n(a("PgSJ"));t.isRentalEstimateEligible=function(e){return c()&&u(e)};t.inRentalEstimateDPExperiment=function(){return o.default.isOn(i.default)&&"VARIANT"===o.default.getVariant(i.default)};var u=function(e){if(null==e)return!1;var t=s.default.get(g_dbBackedConfigKeys.RENTAL_ESTIMATE_MARKET_WHITELIST);return void 0!==t&&t.length>0&&t.indexOf(e)>-1},c=function(){return o.default.isOn(r.default)};t.validateAndFormatEstimateRange=function(e,t){var a="$",n=e&&e>0&&t&&t>0;return n&&(a="".concat(l.default.formatPrice(t)," - ").concat(l.default.formatPrice(e))),{hasEstimate:n,estimate:a}}},wJDW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={SimpleBannerWidget:{component:a("4PD5")},SaveSearchBannerWidget:{component:a("sfyK")},SimpleDrawerWidget:{component:a("iOFF")},COPFlyout:{component:function(){}}};t.default=n,e.exports=t.default},x3oz:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("K4DB")),s=r(a("+IV6")),l=r(a("NToG")),u=r(a("eef+")),c=n(a("mXGw")),d=r(a("lcmt")),f=r(a("W0B4")),p=r(a("8Jek")),m=r(a("lQoP")),h=r(a("94Bj")),g=r(a("q6eW"));a("2i47");var _=r(a("w46v")),v=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={},a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{index:f.default.number.isRequired,date:f.default.number.isRequired,selected:f.default.bool,available:f.default.bool,didSelectDay:f.default.func,requestingPartnerAgent:f.default.bool}}},{key:"defaultProps",get:function(){return{available:!0,selected:!1,hover:!1,requestingPartnerAgent:!1}}},{key:"displayName",get:function(){return"redfin.tours.react.DatePickerDay"}}]),(0,l.default)(t,[{key:"render",value:function(){var e=new Date(this.props.date),t=d.default.format(this.props.date,"US/Pacific","D"),a=d.default.formatMonthShort(e,"US/Pacific"),n="Variant"===h.default.getVariant(_.default)?d.default.formatAsTodayOrTomorrowOrDayOfWeek(e,"US/Pacific"):d.default.formatDayOfWeekLong(e,"US/Pacific"),r=(0,p.default)("ldpGrayDayOptionContainer","bg-color-white",{selected:this.props.selected});return c.default.createElement("button",{onClick:this.onClick.bind(this),className:r,role:"radio","aria-checked":this.props.selected},c.default.createElement("div",{ref:"dayOfTheWeekNode",className:"dayOfTheWeek"},n),c.default.createElement("div",{ref:"dayOfTheMonthNode",className:"dayOfTheMonth"},t),c.default.createElement("div",{ref:"monthNode",className:"month"},a))}},{key:"onClick",value:function(){this.props.selected||this.select()}},{key:"select",value:function(){this._trackClick("date"),this.props.didSelectDay(this.props.index)}},{key:"_trackClick",value:function(e){var t={};t[m.default.TRACKGA]=!0,t.platform=g.default.getRiftPlatformParam();var a=this.props.requestingPartnerAgent?"partner_tour_picker":"tour_picker";m.default.trackClick(a,e,t)}}]),t}(c.Component);t.default=v,e.exports=t.default},xB5t:function(e,t,a){},xpXP:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("mXGw"));n(a("W0B4"));function o(e){return i.default.createElement("img",(0,r.default)({className:"BannerImage"},e))}o.propTypes={};var s=o;t.default=s,e.exports=t.default},xqSa:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("W0B4")),d=n(a("YAhj")),f=a("G4xM"),p=n(a("1AMb")),m=n(a("zQwK")),h=a("pdMd"),g=n(a("hYAy")),_=n(a("WxCX")),v=n(a("EQKR"));a("ja8k");var y=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).impressionTracked=!1,a._onActionClick=a._onActionClick.bind((0,s.default)(a)),a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{hotnessMessage:c.default.string,hotnessEndDate:c.default.number,hotHomesUpdateExperimentEligibility:c.default.object,isDirectAccess:c.default.bool,isDirectAccessRedfin:c.default.bool}}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){g.default.trackImpression(g.default.impressions.HOT_HOMES_BANNER,{offer_deadline:!1,sale_time:new Date(this.props.hotnessEndDate),is_banner:!0,is_direct_access:this.props.isDirectAccess})}},{key:"render",value:function(){var e=(0,f.getConfigValueForKey)(f.DP_GLOBAL_CONFIG_KEYS.deviceConfig);if(e!==g_deviceConfiguration.PHONE)return null;if(e===g_deviceConfiguration.PHONE&&(0,h.isVariantOfHotHomeUpdateExperiment)(this.props.hotHomesUpdateExperimentEligibility))return null;if(!this.props.hotnessMessage)return null;var t=this.props.isDirectAccess?"Self Tour This Home":"Go Tour It Now",a={title:"Hot Home",message:this.props.hotnessMessage,className:"default",actionTitle:t,onAction:this._onActionClick};return d.default.createElement(p.default,{name:"BannerSection HotnessBanner"},d.default.createElement("div",{className:"sectionContainer"},d.default.createElement(m.default,a)))}},{key:"_onActionClick",value:function(){var e=new Date(this.props.hotnessEndDate);if(this.props.isDirectAccess)return g.default.trackClick(g.default.clicks.SELF_TOUR_LINK,{offer_deadline:!1,sale_time:e,is_banner:!0,is_redfin:this.props.isDirectAccessRedfin}),void v.default.showDirectAccessDialog(g_inquirySource.LDP_HOT_HOMES_BANNER_SELF_TOUR);var t=g.default.trackClick(g.default.clicks.TOUR_LINK,{offer_deadline:!1,sale_time:e});_.default.redirectForPartnerOrRedfinTour({inquirySource:g_inquirySource.LDP_HOT_HOMES_TOUR_LINK,riftContext:t})}}]),t}(d.default.Component);t.default=y,e.exports=t.default},xsdy:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("tTYd")),o=n(a("BQxr")),s=n(a("TmV8")),l=n(a("AsUq")),u=n(a("LDFp")),c=n(a("1RMg")),d=n(a("7SUW"));u.default.ensure(s.default,l.default);var f=(0,r.default)(new o.default,{name:"SidepaneTracker",bouncerFlags:[i.default.id],trackAllEventsInGA:!0,impressions:{MAP:{section:"side_pane",target:"map",expectedParams:["map_mode"]},CLAIM_HOME:{section:"side_pane",target:"claim_home_button"},HOME_REPORT_SUBSCRIBE:{section:"side_pane",target:"home_report_subscribe_button",expectedParams:["current_property"]},HOME_REPORT_UNSUBSCRIBE:{section:"side_pane",target:"home_report_unsubscribe_button",expectedParams:["current_property"],trackGA:!1},SUBSCRIBE_TO_HOME:{section:"side_pane",target:"claim_home_button",expectedParams:["property_id","listing_id"]},PROBLEM:{section:"side_pane",target:"problem_button",trackGA:!1},OMS:{section:"side_pane",target:"oms",expectedParams:["search_market"]},ELIGIBLE_FOR_DEPRIORITIZED_CLAIM_HOME_CTA:{section:"eligible_for_deprioritized_claim_home_cta",target:null},ASSIGNED_AGENT_OFF_MARKET_DP_EXPERIMENT_START:{section:"eligible_for_assigned_agent_off_market_dp_experiment",target:null},OMDP_SELL_MY_HOME_EXPERIMENT_START:{section:"omdp_sell_my_home_experiment_start",target:null},BLOCK_BOX:{section:"tour_picker_block_box",target:null},BLOCKBOX_PARTNER_RECRUITMENT_CTA_IMPRESSION:{section:"tour_picker_block_box",target:"partner_recruitment_cta"},CONTACT_BOX_PARTNER_RECRUITMENT_CTA_IMPRESSION:{section:"partner_contact_box",target:"partner_recruitment_cta"},PARTNER_RECRUITMENT_CTA_INITIALIZATION:{section:"partner_agent_recruitment_experiment_eligible",target:null},PARTNER_START_AN_OFFER_INITIALIZATION:{section:"partner_start_an_offer_experiment_eligible",target:null}},clicks:{EXPAND_MAP:{section:"side_pane",target:"expand_map_link"},STREET_VIEW:{section:"side_pane",target:"stret_view_link"},DIRECTIONS:{section:"side_pane",target:"directions_link"},CLAIM_HOME:{section:"side_pane",target:"claim_home_button"},HOME_REPORT_SUBSCRIBE:{section:"side_pane",target:"home_report_subscribe_button",expectedParams:["trackGA","current_property"]},HOME_REPORT_UNSUBSCRIBE:{section:"side_pane",target:"home_report_unsubscribe_button",expectedParams:["trackGA","current_property"]},PROBLEM:{section:"side_pane",target:"problem_button",expectedParams:["listing_id","property_id"]},BLOCKBOX_PARTNER_RECRUITMENT_CTA_CLICK:{section:"tour_picker_block_box",target:"partner_recruitment_cta"},CONTACT_BOX_PARTNER_RECRUITMENT_CTA_CLICK:{section:"partner_contact_box",target:"partner_recruitment_cta"}},initializePartnerProgramAdExperiment:function(){c.default.isOn(c.default.feature.PARTNER_AGENT_RECRUITMENT_CTA)&&(this.trackImpression(this.impressions.PARTNER_RECRUITMENT_CTA_INITIALIZATION,{isPartnerAgent:!0}),(0,d.default)().initialize({experimentId:s.default.id,gaExperimentId:"D9QU9voiRTmqo9y7EiOMKQ"}))},initializePartnerStartAnOfferExperiment:function(){c.default.isOn(c.default.feature.PARTNER_START_AN_OFFER)&&(this.trackImpression(this.impressions.PARTNER_START_AN_OFFER_INITIALIZATION,{isPartnerAgent:!0}),(0,d.default)().initialize({experimentId:l.default.id,gaExperimentId:"AQqXXmcZSx6sJ5_Ldiai7A"}))},isPartnerStartAnOfferExperimentInVariant:function(){return"Variant"===c.default.getVariant(c.default.feature.PARTNER_START_AN_OFFER)}});t.default=f,e.exports=t.default},y5j8:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("RiSW")),o=n(a("mXGw")),s=(n(a("W0B4")),n(a("8Jek"))),l=n(a("ma35"));function u(e){var t=e.className,a=e.type,n=e.children,u=(0,i.default)(e,["className","type","children"]),c=(0,s.default)("BannerButton",a,t);return o.default.createElement(l.default,(0,r.default)({className:c},u),n)}u.propTypes={},u.defaultProps={className:""};var c=u;t.default=c,e.exports=t.default},y9OY:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.senderId=void 0;var i=r(a("8VmE")),o=r(a("SDJZ")),s=r(a("K4DB")),l=r(a("+IV6")),u=r(a("T1e2")),c=r(a("NToG")),d=r(a("eef+")),f=n(a("mXGw")),p=r(a("W0B4")),m=r(a("luvc")),h=a("zOB4"),g=r(a("sMp4")),_=r(a("yTPA")),v=a("aKSz"),y=r(a("ge1J")),S=r(a("R9VH")),E=r(a("Mism")),I=r(a("pCn5")),T=r(a("x1EQ")),C=r(a("3rZb")),b=a("VtQX"),A=r(a("28Jd")),k="FixedHeader-AddressBanner-FavoriteButton";t.senderId=k;var N=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={fade:!1,mounted:!1,sharedSearchIntroVisible:!0},a.handleClick=a.handleClick.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"displayName",get:function(){return"FavoriteButton"}},{key:"propTypes",get:function(){return{animate:p.default.bool,isFavorite:p.default.bool,isShortlisted:p.default.bool,sharedSearchIntroEnabled:p.default.bool,simple:p.default.bool,tourHomeMomentInfoStore:p.default.object,introFormName:p.default.string.isRequired,riftSection:p.default.string}}},{key:"defaultProps",get:function(){return{introFormName:"FavoriteButtonDP_SharedSearchIntro"}}}]),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setState({fade:this.props.animate,mounted:!0}),this.keyboardFavoriteListenerUnsubscriber=_.default.keyboardFavorite.listen(this.handleClick)}},{key:"componentWillUnmount",value:function(){this.unsubscribeIntroStore&&this.unsubscribeIntroStore(),this.sharedSearchIntroStore&&this.sharedSearchIntroStore.destroy(),this.keyboardFavoriteListenerUnsubscriber()}},{key:"render",value:function(){var e,t=this.props.isFavorite?"svg-icon-on-color":"svg-icon-off-color",a=this._calculateFavoriteIconName();return!this.state.mounted&&this.props.animate||(e=f.default.createElement(a,{className:t,key:"favorite-heart"})),f.default.createElement("div",{className:"favoriteButtonWrapper"},this.renderTourHomeFlyout(),f.default.createElement(I.default,{label:"Favorite",wrapperClassSet:{FavoriteButton:!0},onClick:this.handleClick,rfTestName:"abp-favoriteButton",simple:this.props.simple,toggledActive:this.props.isFavorite},f.default.createElement(v.CSSTransitionGroup,{transitionName:"header-favorite-button-animation",transitionEnter:this.state.fade,transitionLeave:this.state.fade},e)),this.renderSharedSearchIntro())}},{key:"_calculateFavoriteIconName",value:function(){var e=this.props,t=e.isFavorite,a=e.isShortlisted;return t?a?E.default:S.default:y.default}},{key:"handleClick",value:function(){var e=this,t=!this.props.isFavorite;if(t&&!this.sharedSearchIntroStore){var a={entrypoint:g_sharedSearchIntroEvent.FAVORITE,formName:this.props.introFormName,loggedInRequired:!0};this.sharedSearchIntroStore=new A.default(a),this.unsubscribeIntroStore=this.sharedSearchIntroStore.listen(function(){return e.forceUpdate()})}this.fireFavoriteAction(t)}},{key:"renderTourHomeFlyout",value:function(){if((0,m.default)("screen-size")>=m.default.screenSizes.MEDIUM)return null;var e={tourHomeMomentInfoStore:this.props.tourHomeMomentInfoStore,flyoutTitle:"",position:"above",alignment:"left",animateOnAppear:!0,includeScheduleTourLink:!0,inquirySource:g_inquirySource.HOT_HOMES_TOUR_PROMPT};return f.default.createElement(T.default,(0,i.default)({key:"favorite-flyout"},e))}},{key:"renderSharedSearchIntro",value:function(){if(!this.sharedSearchIntroStore)return null;var e=this.sharedSearchIntroStore.state;return f.default.createElement(C.default,(0,i.default)({},e,{position:"below",alignment:"right",loggedInRequired:!0,layoutConfiguration:b.LAYOUT_CONFIGURATION.VERTICAL}))}},{key:"fireFavoriteAction",value:function(e){var t=(0,m.default)("screen-size")<m.default.screenSizes.MEDIUM;g.default.updateFavorite({storeId:h.PERSONAL_PROPERTY_INFO_FAV_STORE_ID,isFavorite:!!e,isXout:!1,buttonType:"Favorite",sender:this.props.senderId||k,deviceCategory:t?"mobile":"desktop"})}}]),t}(f.Component);t.default=N},yJmG:function(e,t,a){"use strict";var n=a("m7qm"),r=a("14kB");e.exports=n.createStoreFactory({init:function(e){this.listenToMany(r),this.setState({selectedPropertyId:e.selectedPropertyId||null})},onSelect:function(e){if((e=e||{}).selectedPropertyId<0)throw new Error("Can't select property: "+e.selectedPropertyId);this.state.selectedPropertyId!==e.selectedPropertyId&&this.setState({selectedPropertyId:e.selectedPropertyId})},onUnselect:function(){this.setState({selectedPropertyId:null})}})},yPuu:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("cXUB")),i=a("m7qm"),o=n(a("5BUB")),s=n(a("wNRX")),l=a("cMqt"),u=a("R8lb"),c=n(a("8Llx")),d=n(a("nbo3")),f=n(a("x3Yk")),p=n(a("b2XU")),m=n(a("EQKR")),h=l.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.mainHouseInfoPanel.sidebar.directAccess.DirectAccessStore",color:{server:147,client:"rgb(127,127,212)"}}),g=(0,i.createStoreFactory)({mixins:[o.default],formName:"DirectAccessTextForm",fields:{phoneNumber:{label:"Phone",placeholder:"(  )  -",rules:[{test:s.default.rules.required()},{test:s.default.rules.phoneNumber()}]}},init:function(e){var t=e.isRedfin,a=e.isOpendoor,n=e.deviceConfig,r=e.listingId,i=e.propertyId,o=e.isPartner;this.listenToMany(m.default),this.listenTo(p.default.fieldChange,this.onFieldChange),this.setState({showLoadingIndicator:!1,isShowingDialog:!1,dialogInquirySourceId:null,showError:!1,isRedfin:t,isOpendoor:a,formName:this.formName,isSubmitting:!1,showSuccess:!1,deviceConfig:n,listingId:r,propertyId:i,isPartner:o})},onRedirectForTourWithAgent:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.state.isPartner?"date":"times",i=this.state.isPartner?"&isRequestingForPartner=true":"",o="/tours/checkout/".concat(n,"?listingId=").concat(e,"&inquirySource=").concat(g_inquirySource.LDP_DIRECT_ACCESS_AGENT_TOUR_BUTTON,"&hideExistingTours=true").concat(i),s=(0,r.default)();return c.default.isLoggedIn()||(s=(0,f.default)("/stingray/do/tourlist/make-anon-login",{method:"POST"}),o+="&".concat(u.REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM,"=").concat((0,u.serializeConversionRiftEntrypoint)(a)),(0,u.trackRegistrationConversionAttempt)(a,g_registrationReason.TOUR_HOME,g_registrationAuthority.REDFIN)),this.setState({showLoadingIndicator:!0}),s.then(function(){d.default.flushRiftEvents(),window.top.location=o}).catch(function(e){h.error(e),t.setState({showLoadingIndicator:!1})})},onShowDirectAccessDialog:function(e){if(!e)throw new Error("Missing inquirySourceId");var t=this.state.deviceConfig===g_deviceConfiguration.PHONE?"direct_access_instructions_drawer":"direct_access_instructions_dialog";this.state.isOpendoor&&(t=this.state.deviceConfig===g_deviceConfiguration.PHONE?"ext_direct_access_instructions_drawer":"ext_direct_access_instructions_dialog"),d.default.trackImpression(t,null,{listing_id:this.state.listingId,property_id:this.state.propertyId}),this.reset(),this.setState({isShowingDialog:!0,dialogInquirySourceId:e,isSubmitting:!1,showSuccess:!1,showError:!1})},onCloseDirectAccessDialog:function(){this.setState({isShowingDialog:!1,dialogInquirySourceId:null})},onClickRedfinAppLink:function(e){var t=this;this.setState({showError:!1});var a=this.state.deviceConfig===g_deviceConfiguration.PHONE?"MobileWeb":"Website";(0,f.default)("".concat("/stingray/do/api/directaccess/get-tour-referral-link/v1","?listingId=").concat(e,"&inquiryPlatform=").concat(a,"&inquirySource=").concat(this.state.dialogInquirySourceId)).then(function(e){if(!e.ok||!e.body||e.body.resultCode!==g_apiResultCode.NO_ERROR)throw new Error(e.body&&e.body.errorMessage);var t=e.body.payload&&e.body.payload.referralLink;window.top.location.replace(t)}).catch(function(e){h.error(e.message),t.setState({showLoadingIndicator:!1,showError:!0})})},onSendRedfinAppLinkText:function(e){var t=this;if(this.setState({showError:!1,isSubmitting:!0}),this.validateAll()){var a=this.state.fields.phoneNumber.value,n=this.state.deviceConfig===g_deviceConfiguration.PHONE?"MobileWeb":"Website";(0,f.default)("".concat("/stingray/do/api/directaccess/get-tour-referral-link/v1","?listingId=").concat(e,"&inquiryPlatform=").concat(n,"&inquirySource=").concat(this.state.dialogInquirySourceId,"&phoneNumber=").concat(a)).then(function(e){if(!(e.ok&&e.body&&e.body.resultCode===g_apiResultCode.NO_ERROR&&e.body.payload&&e.body.payload.sentSms))throw new Error(e.body&&e.body.errorMessage);t.setState({showSuccess:!0,dialogInquirySourceId:null})}).catch(function(e){h.error(e.message),t.setState({showLoadingIndicator:!1,showError:!0,isSubmitting:!1,showSuccess:!1})})}else this.setState({isSubmitting:!1})},onClickOpendoorAppLink:function(e){var t=this;this.setState({showError:!1}),(0,f.default)("".concat("/stingray/redbird-self-tour/get-link","?listingId=").concat(e)).then(function(e){if(!e.ok||!e.body||e.body.resultCode!==g_apiResultCode.NO_ERROR)throw new Error(e.body&&e.body.errorMessage);var t=e.body.payload&&e.body.payload.opendoorAppUrl;window.top.location.replace(t)}).catch(function(e){h.error(e.message),t.setState({showLoadingIndicator:!1,showError:!0})})},onSendOpendoorAppLinkText:function(e){var t=this;if(this.setState({showError:!1,isSubmitting:!0}),this.validateAll()){var a=this.state.fields.phoneNumber.value;(0,f.default)("".concat("/stingray/redbird-self-tour/get-link","?listingId=").concat(e,"&phoneNumber=").concat(a)).then(function(e){if(!(e.ok&&e.body&&e.body.resultCode===g_apiResultCode.NO_ERROR&&e.body.payload&&e.body.payload.smsSent))throw new Error(e.body&&e.body.errorMessage);t.setState({showSuccess:!0,dialogInquirySourceId:null})}).catch(function(e){h.error(e.message),t.setState({showLoadingIndicator:!1,showError:!0,isSubmitting:!1,showSuccess:!1})})}else this.setState({isSubmitting:!1})},onFieldChange:function(e){var t=e.name,a=e.value;e.formName===this.state.formName&&(this.state.fields[t].value=a,this.state.fields[t].feedback=null)}});t.default=g,e.exports=t.default},yecV:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.HomeDetailsTailScript=function(){return h.default.createElement("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:"window._HDPTailRendered=true;if(window._HDPTailRenderedCB){window._HDPTailRenderedCB();}"}})},t.getWebpImageUrl=function(e){return e.slice(0,-4)+".webp"},t.determineComponentPageLayoutClassName=t.determineComponentDependencies=t.JSDetectionScript=t.DelayLoadedComponentWrapper=t.HomeDetailsPageComponentWrapper=void 0;var i=r(a("gki9")),o=r(a("SDJZ")),s=r(a("NToG")),l=r(a("K4DB")),u=r(a("+IV6")),c=r(a("T1e2")),d=r(a("eef+")),f=r(a("OvAC")),p=r(a("gTDC")),m=r(a("W0B4")),h=n(a("mXGw")),g=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,u.default)(t).call(this,e))).onListenEmit=a.onListenEmit.bind((0,c.default)(a)),a.state={propsFromStore:e.initialPropsFromStore},a}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.storeEmitter;this.unsubscribe=e(this.onListenEmit)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.pageLayoutClassName,a=void 0===t?null:t,n=e.id,r=e.children,o=this.state.propsFromStore,s=h.default.cloneElement(r,(0,i.default)({},o));return h.default.createElement("div",{className:"pageComponentsContainer",id:n},h.default.createElement("div",{className:null!=a?a:"dp-col-sm-12 dp-col-md-8"},s))}},{key:"onListenEmit",value:function(e){this.setState({propsFromStore:e})}}]),t}(h.Component);t.HomeDetailsPageComponentWrapper=g,(0,f.default)(g,"defaultProps",{initialPropsFromStore:{}}),g.propTypes={};var _=function(e){function t(e){var a;(0,o.default)(this,t),(a=(0,l.default)(this,(0,u.default)(t).call(this,e))).onListenEmit=a.onListenEmit.bind((0,c.default)(a));var n=a.props,r=n.pageStore,i=n.dependencies,s=n.clientDependencies;return a.state={childrenProps:(0,p.default)(r.state,i.concat(s))},a}return(0,d.default)(t,e),(0,s.default)(t,null,[{key:"propTypes",get:function(){return{pageStore:m.default.object.isRequired,dependencies:m.default.array,clientDependencies:m.default.array,pageLayoutClassName:m.default.string.isRequired}}}]),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageStore,a=e.dependencies,n=e.clientDependencies;t.whenEmitter(a,n)(this.onListenEmit)}},{key:"render",value:function(){var e=h.default.cloneElement(this.props.children,this.state.childrenProps);return h.default.createElement("div",{className:"delayLoadedComponentWrapper pageComponentsContainer"},h.default.createElement("div",{className:this.props.pageLayoutClassName},e))}},{key:"onListenEmit",value:function(e){this.setState({childrenProps:e})}}]),t}(h.Component);t.DelayLoadedComponentWrapper=_;t.JSDetectionScript=function(){return h.default.createElement("script",{key:"script",type:"text/javascript",dangerouslySetInnerHTML:{__html:'if(typeof document !== "undefined"){document.getElementById("content").className+=" has-js";}'}})};t.determineComponentDependencies=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e.getComponentDependencies?e.getComponentDependencies():{},r=n.dependencies,i=void 0===r?[]:r,o=n.clientDependencies,s=void 0===o?[]:o;return{dependencies:t.concat(i,a),clientDependencies:s}};t.determineComponentPageLayoutClassName=function(e,t){return t||(e.getPageLayoutClassName?e.getPageLayoutClassName():"dp-col-sm-12 dp-col-md-8")}},yvQb:function(e,t,a){},ywFZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a("RBnj").createActions)({setDomain:{},handleHoverState:{sync:!0},mouseLeave:{}});t.default=n,e.exports=t.default},z8H5:function(e,t,a){"use strict";var n=a("vdEC"),r=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("SDJZ")),o=r(a("K4DB")),s=r(a("+IV6")),l=r(a("NToG")),u=r(a("eef+")),c=n(a("mXGw")),d=r(a("W0B4")),f=r(a("8wdY")),p=r(a("TRKi")),m=r(a("TlVh")),h=r(a("dD06")),g=r(a("PPy8")),_=function(e){function t(e){var a;return(0,i.default)(this,t),(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={instanceId:f.default.randomShortString()},a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"displayName",get:function(){return"ContactBoxAgentRequestForm"}},{key:"propTypes",get:function(){return{classes:d.default.arrayOf(d.default.string),showLabels:d.default.bool,agent:d.default.object,listingId:d.default.number,propertyId:d.default.number,mlsId:d.default.string,dataSourceId:d.default.number,customerEmail:d.default.string,customerPhone:d.default.string,isBuySide:d.default.bool,isLoggedIn:d.default.bool,customerAction:d.default.oneOf(Object.keys(g_customerActions.idToObj).map(function(e){return parseInt(e)})),inquiryChannel:d.default.oneOf(Object.keys(g_inquiryChannel.idToObj).map(function(e){return parseInt(e)})),inquirySource:d.default.oneOf(Object.keys(g_inquirySource.idToObj).map(function(e){return parseInt(e)})),isDisplayed:d.default.bool}}},{key:"getDefaultProps",get:function(){return{classes:[],showLabels:!1,isBuySide:!1,isLoggedIn:!1}}}]),(0,l.default)(t,[{key:"getAgentRequestFormName",value:function(){return"ContactBoxAgentRequestForm-"+this.props.agent.get("cmsSlug")+"-"+this.state.instanceId}},{key:"componentWillMount",value:function(){this.setupAgentRequestFormStore()}},{key:"componentWillUnmount",value:function(){this.formStore&&this.formStore.destroy()}},{key:"setupAgentRequestFormStore",value:function(){var e=g.default,t={isSellSide:!this.props.isBuySide,noBuySellChecks:!0,fieldValues:{},location:this.props.location,phone:this.props.isLoggedIn&&this.props.customerPhone?this.props.customerPhone:null};t.fieldValues.comments=this.props.isBuySide?"I would like to learn more about buying with a Redfin Agent.":"I would like a free no-obligation consultation on my home's value.",this.formStore=m.default.createStoreFactory(e)({formConfig:t,extraState:{cmsSlug:this.props.agent.get("cmsSlug"),loggedIn:this.props.isLoggedIn,inquiryChannel:this.props.inquiryChannel,inquirySource:this.props.inquirySource,customerAction:this.props.customerAction,riftParams:this.props.riftParams,riftSection:this.props.isBuySide?"cb_main_buy_ar_form":"cb_main_sell_ar_form",agentServiceType:this.props.isBuySide?"buying":"selling",agent:this.props.agent,listingId:this.props.listingId,propertyId:this.props.propertyId}}),this.formStore.setFormName(this.getAgentRequestFormName())}},{key:"_renderReactAgentRequestForm",value:function(){var e="Talk to "+(this.props.agent.get("firstName")?this.props.agent.get("firstName"):"Us")+" About "+this.formStore.state.agentServiceType.charAt(0).toUpperCase()+this.formStore.state.agentServiceType.slice(1),t={text:this.props.isBuySide?"talk_about_buying":"talk_about_selling"},a=c.default.createElement(h.default,{formName:this.getAgentRequestFormName(),noLabels:!1,narrowView:!0,submitButtonText:e,agentId:this.props.agent.get("id"),agentFirstName:this.props.agent.get("firstName"),agentFullName:this.props.agent.get("fullName"),agentType:this.props.agent.get("agentType"),numCommentRows:2,moreCommentRowsOnClick:1,showPlaceholderText:!1,extraButtonRiftParams:t,fieldTargets:{firstName:"customer_first_name",lastName:"customer_last_name",email:"customer_email",phone:"customer_phone_number",comments:"customer_comments",button:"cta_button"},isDisplayed:this.props.isDisplayed});return a=p.default.createRootElement(this.formStore,a),c.default.createElement("div",null,a)}},{key:"render",value:function(){return this._renderReactAgentRequestForm()}}]),t}(c.Component);t.default=_,e.exports=t.default},z9zP:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=n(a("mXGw")),i=n(a("pCn5")),o=n(a("Iffu")),s=n(a("P/+R")),l=n(a("lQoP"));n(a("W0B4"));function u(e){var t=e.simple;return r.default.createElement(i.default,{wrapperClassSet:{ManagePhotosButton:!0},label:"Photos",onClick:function(){var e=l.default.trackClick("address_banner","photos_button");s.default.onManagePhotosButtonClicked(e)},simple:t},r.default.createElement(o.default,{className:"svg-icon-off-color"}))}u.propTypes={},e.exports=t.default},zKrU:function(e,t,a){},zQwK:function(e,t,a){"use strict";var n=a("63Ad"),r=n(a("SDJZ")),i=n(a("NToG")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("eef+")),c=n(a("OvAC")),d=(n(a("W0B4")),n(a("zCAw"))),f=a("mXGw"),p=a("8Jek"),m=a("hBuV");a("7TP0");var h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))),(0,c.default)((0,l.default)(a),"state",{visible:!0,mounted:!a.props.animateOnAppear}),(0,c.default)((0,l.default)(a),"getClasses",function(){var e={HomeDetailsBanner:!0,dismissible:a.props.dismissible};return e[a.props.className]=!0,e}),(0,c.default)((0,l.default)(a),"onAction",function(){a.props.onAction&&a.props.onAction()}),(0,c.default)((0,l.default)(a),"onDismiss",function(){a.props.onDismiss&&a.props.onDismiss(),a.setState({visible:!1})}),(0,c.default)((0,l.default)(a),"renderContent",function(){if(a.state.visible&&a.state.mounted){var e,t=a.props.customIcon;return t&&"function"==typeof t&&(e=f.createElement(t,null)),f.createElement("div",{"data-rf-test-name":"HomeDetailsBanner",className:p(a.getClasses())},a.props.dismissible?f.createElement("div",{"data-rf-test-name":"dismiss",className:"dismiss",onClick:a.onDismiss},f.createElement(d.default,null)):null,f.createElement("div",{className:"container"},e?f.createElement("div",{"data-rf-test-name":"icon",className:"icon"},e):null,f.createElement("div",{className:"textContainer"},a.props.title?f.createElement("div",{"data-rf-test-name":"title",className:"title"},a.props.title):null,a.props.message?f.createElement("div",{"data-rf-test-name":"message",className:"message"},a.props.message):null)),a._renderAction())}return null}),(0,c.default)((0,l.default)(a),"_renderAction",function(){return a.props.action?f.createElement("div",{className:"actionContainer"},a.props.action):a.props.actionTitle?f.createElement("div",{className:"actionContainer"},f.createElement("span",{className:"actionLabel"},a.props.actionLabel),f.createElement("div",{"data-rf-test-name":"action",className:"action",onClick:a.onAction},f.createElement("a",{className:"clickable",href:a.props.actionLink},a.props.actionTitle))):void 0}),a}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){return this.props.animateOnAppear?f.createElement(m,{transitionName:"home-details-banner-transition",transitionEnter:!0,transitionEnterTimeout:450,transitionLeaveTimeout:450},this.renderContent()):this.renderContent()}}]),t}(f.Component);(0,c.default)(h,"displayName","redfin.home.details.common.react.HomeDetailsBanner"),(0,c.default)(h,"defaultProps",{className:"default",animateOnAppear:!1,dismissible:!1}),h.propTypes={},e.exports=h},zfzS:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("K4DB")),s=n(a("+IV6")),l=n(a("T1e2")),u=n(a("NToG")),c=n(a("eef+")),d=n(a("W0B4")),f=a("mXGw"),p=n(a("Uq5t")),m=n(a("Tkev")),h=n(a("M6YI")),g=n(a("bSdT"));a("r5Co");var _={title_text_line_1:"View better photos of this",title_text_line_2:"home on the Redfin app",cta_text:"Install Redfin App",continue_to_mobile_site_text:"Continue to mobile site"},v=function(e){function t(e){var a;(0,i.default)(this,t),a=(0,o.default)(this,(0,s.default)(t).call(this,e));var n="app_install".concat(e.contextualSectionInfo?"_contextual":"","_interstitial");return e.riftParams&&(e.riftParams.os=e.os),a.riftTracker=new g.default(n,e.riftParams),a.contextualSectionClicked=a.contextualSectionClicked.bind((0,l.default)(a)),a}return(0,c.default)(t,e),(0,u.default)(t,null,[{key:"propTypes",get:function(){return{hidden:d.default.bool,propertyId:d.default.number,os:d.default.string,contextualSectionInfo:d.default.shape({price:d.default.string,streetAddress:d.default.string,cityStateZip:d.default.string,heroShotUrl:d.default.string,beds:d.default.number,baths:d.default.number}),bottomImageUrl:d.default.string,title_text_line_1:d.default.string,title_text_line_2:d.default.string,cta_text:d.default.string,continue_to_mobile_site_text:d.default.string,riftParams:d.default.object}}},{key:"defaultProps",get:function(){return _}}]),(0,u.default)(t,[{key:"render",value:function(){var e;return this.props.bottomImageUrl&&(e=React.createElement("div",{className:this.props.os+"Image",style:{backgroundImage:this.props.bottomImageUrl}})),React.createElement(m.default,(0,r.default)({className:"appInterstitial",positiveClickHandler:this.continueInApp.bind(this),negativeClickHandler:this.continueInBrowser.bind(this),bottomImageSection:e},this.props),this._renderContextualSection())}},{key:"componentDidMount",value:function(){h.default.setLdpViews(0),h.default.hideForTimePeriod(3),this.riftTracker.trackImpression()}},{key:"continueInApp",value:function(){this.riftTracker.trackClick("open_in_app_button"),p.default.continueInApp()}},{key:"continueInBrowser",value:function(){this.riftTracker.trackClick("close_button"),p.default.continueInBrowser()}},{key:"contextualSectionClicked",value:function(){this.riftTracker.trackClick("home_card")}},{key:"_renderContextualSection",value:function(){if(!this.props.contextualSectionInfo)return null;var e=this.props.contextualSectionInfo;return React.createElement("div",{className:"contextualSection",onClick:this.contextualSectionClicked},React.createElement("img",{className:"homePhoto",src:e.heroShotUrl}),React.createElement("span",{className:"homeStats"},React.createElement("div",{className:"priceAndBeds"},React.createElement("span",{className:"price"},e.price),this._getBedsAndBathsSmall()),React.createElement("div",{className:"streetAddress"},e.streetAddress),React.createElement("div",{className:"cityStateZip"},e.cityStateZip)),this._getBedsAndBathsLarge())}},{key:"_getBedsAndBathsSmall",value:function(){var e=this.props.contextualSectionInfo,t="";return e.beds&&(t+="".concat(e.beds,"bd ")),e.baths&&(t+="".concat(e.baths,"ba")),t.length>0?React.createElement("span",{className:"bedsAndBathsSmall"},t):null}},{key:"_getBedsAndBathsLarge",value:function(){var e=this.props.contextualSectionInfo,t=e.beds||"-",a=e.baths||"-";return React.createElement("div",{className:"bedsAndBathsLarge"},React.createElement("span",{className:"bedSection"},React.createElement("div",{className:"bedBathsValue"},t),React.createElement("div",{className:"bedBathsLabel"},"Beds")),React.createElement("span",{className:"bathsSection left-divider"},React.createElement("div",{className:"bedBathsValue"},a),React.createElement("div",{className:"bedBathsLabel"},"Baths")))}}]),t}(f.Component);t.default=v,e.exports=t.default},zgDz:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("8VmE")),i=n(a("SDJZ")),o=n(a("NToG")),s=n(a("K4DB")),l=n(a("+IV6")),u=n(a("eef+")),c=n(a("W0B4")),d=a("mXGw"),f=n(a("eivs")),p=n(a("8Jek")),m=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=(0,p.default)({Section:!0,FixedHeader:!0,"white-bg":this.props.deviceConfig===g_deviceConfiguration.DESKTOP});return React.createElement("div",{className:e,id:"overview-scroll"},React.createElement("div",{ref:"containerNode",className:"sectionContainer"},React.createElement(f.default,(0,r.default)({},this.props.addressSectionInfo,this.props.personalizationInfo,{shareBoxStore:this.props.shareBoxStore,fullStreetAddress:this.props.mainHouseInfo.fullStreetAddress,mlsId:this.props.mainHouseInfo.mlsId,experimentStore:this.props.experimentStore,listingId:this.props.listingId,tourHomeMomentInfoStore:this.props.tourHomeMomentInfoStore,dataSourceId:this.props.dataSourceId,deviceConfig:this.props.deviceConfig,marketId:this.props.marketId,redfinNowHomeMomentInfoStore:this.props.redfinNowHomeMomentInfoStore}))))}}],[{key:"getComponentDependencies",value:function(){return{dependencies:["mainHouseInfo","addressSectionInfo","personalizationInfo","tourHomeMomentInfoStore","marketId","pageType"],clientDependencies:["shareBoxStore"]}}},{key:"getPageLayoutClassName",value:function(){return"force-sm-fullPageWidth force-md-fullPageWidth"}},{key:"displayName",get:function(){return"AddressBannerSection"}},{key:"propTypes",get:function(){return{className:c.default.string,addressSectionInfo:c.default.object,personalizationInfo:c.default.object,mainHouseInfo:c.default.object,tourHomeMomentInfoStore:c.default.object,deviceConfig:c.default.number,marketId:c.default.number,redfinNowHomeMomentInfoStore:c.default.object}}}]),t}(d.Component);t.default=m,e.exports=t.default},zl5j:function(e,t,a){"use strict";var n=a("63Ad");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("SDJZ")),i=n(a("K4DB")),o=n(a("+IV6")),s=n(a("T1e2")),l=n(a("NToG")),u=n(a("eef+")),c=n(a("8Jek")),d=n(a("W0B4")),f=n(a("YAhj")),p=n(a("WZ0X")),m=n(a("1AMb")),h=n(a("zQwK")),g=n(a("BxHH")),_=n(a("URif")),v=a("osI4"),y=n(a("XVob"));a("M/T6");var S=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,i.default)(this,(0,o.default)(t).call(this,e))).impressionTracked=!1,a._onSendUpdatesActionClick=a._onSendUpdatesActionClick.bind((0,s.default)(a)),a._onEarlyTouringActionClick=a._onEarlyTouringActionClick.bind((0,s.default)(a)),a._getIsSubscribed=a._getIsSubscribed.bind((0,s.default)(a)),a._getRiftDetails=a._getRiftDetails.bind((0,s.default)(a)),a._trackBannerImpression=a._trackBannerImpression.bind((0,s.default)(a)),a}return(0,u.default)(t,e),(0,l.default)(t,null,[{key:"propTypes",get:function(){return{comingSoonInfoStore:d.default.shape({bannerMessage:d.default.string,daysUntilList:d.default.number,isRedfinComingSoonListing:d.default.bool,hasEarlyTouring:d.default.bool}),personalizationInfo:d.default.object,deviceConfig:d.default.number,isSecondaryVariant:d.default.bool}}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){this._trackBannerImpression()}},{key:"componentDidUpdate",value:function(){this._trackBannerImpression()}},{key:"render",value:function(){var e=this.props.comingSoonInfoStore;if(!e)return null;var t=this._getIsSubscribed(),a=this.props.deviceConfig===g_deviceConfiguration.PHONE,n={title:a?e.bannerMessage:"Coming Soon",message:a?"":e.bannerMessage,className:a||g_comingSoonListingType.REDFIN!==e.comingSoonListingType?"default":"urgent",customIcon:y.default};e.hasEarlyTouring?(n.actionLabel=this._getEarlyTouringActionLabel(),n.actionTitle=this._getEarlyTouringActionTitle(),n.onAction=this._onEarlyTouringActionClick):(n.actionLabel=this._getSendUpdatesActionLabel(t),n.actionTitle=this._getSendUpdatesActionTitle(t),n.onAction=this._onSendUpdatesActionClick),this.props.isSecondaryVariant&&("desktop"===(0,v.getCurrentDeviceType)()&&(n.className="".concat(n.className," secondary")),n.actionTitle=null,n.customIcon=null);var r=(0,c.default)("BannerSection","ComingSoonSection",{secondary:this.props.isSecondaryVariant});return f.default.createElement(m.default,{name:r},f.default.createElement("div",{className:"sectionContainer comingSoonSection"},f.default.createElement(h.default,n)))}},{key:"_getEarlyTouringActionLabel",value:function(){return null}},{key:"_getEarlyTouringActionTitle",value:function(){return"Schedule Early Tour"}},{key:"_onEarlyTouringActionClick",value:function(){var e=_.default.clicks.SCHEDULE_EARLY_TOUR_LINK;_.default.trackClick(e,this._getRiftDetails()),g.default.scheduleEarlyTour(g_inquirySource.LDP_EARLY_TOUR_BANNER)}},{key:"_getSendUpdatesActionLabel",value:function(e){return e?f.default.createElement("span",{className:"isSubscribedText"},"Subscribed to updates",f.default.createElement("span",{className:"dot"},"")):null}},{key:"_getSendUpdatesActionTitle",value:function(e){return e?"Cancel":"Send Me Updates"}},{key:"_getIsSubscribed",value:function(){return this.props.personalizationInfo&&this.props.personalizationInfo.personalizationInfoReceived&&this.props.personalizationInfo.isFavorite}},{key:"_onSendUpdatesActionClick",value:function(){var e=this._getIsSubscribed(),t=e?_.default.clicks.UPDATES_CANCEL_LINK:_.default.clicks.UPDATES_LINK,a=_.default.trackClick(t,this._getRiftDetails());g.default.updateComingSoonListingUpdatesSubscription(!e,a)}},{key:"_getRiftDetails",value:function(){return{type:this.props.comingSoonInfoStore.isRedfinComingSoonListing?"redfin":"mls",days_until_list:this.props.comingSoonInfoStore.daysUntilList}}},{key:"_trackBannerImpression",value:function(){!this.impressionTracked&&this.props.comingSoonInfoStore&&(_.default.trackImpression(_.default.impressions.COMING_SOON_RIFT_TRACKER,this._getRiftDetails(),p.default.findDOMNode(this)),this.impressionTracked=!0)}}]),t}(f.default.Component);t.default=S,e.exports=t.default}},[["LyK/",0,343,387,148,398,19]]]);